"use strict";const v0="szcache",v1=[["index.html","update.js"],["manifest.json","favicon.png","icon.png"]];var v2=0;function v3(d){var f=(f=registration.scope)||location.origin,d=d.url.substring(f.length);return d=""==(d="/"==d.substring(0,1)?d.substring(1):d)||"/"==d||d.startsWith("#")||d.startsWith("?v=")||d.startsWith("?_=")?"index.html":d}async function v4(){return caches.open(v0).then(E=>{E.keys().then(function(d){d.forEach(function(d,f,_){if(d){var p=d.url.split("/").pop();-1===v1[1].indexOf(p)&&E.delete(d)}})});var _=registration.scope;v1[0].forEach(f=>{fetch(_+f).then(d=>{E.put(_+f,d.clone());"index.html"==f&&E.put(_,d.clone())})})}).catch(d=>{caches.delete(v0)})}async function v5(){try{var d=registration.scope+"update.js",f=await(_=await fetch(d,{cache:"reload"})).text();if(f&&f.match(/^\d+$/)){var _,p=await caches.open(v0);(_=p?await p.match(d):null)?await _.text()!=f&&v4():p.put(d,new Response(f))}}catch(d){}}self.addEventListener("fetch",d=>{if("GET"===d.request.method){var f=v3(d.request);if(-1!==v1[1].indexOf(f))return v6(d);if("index.html"==f){f=+new Date;if(36e5<f-v2){v2=f;v5()}}return v7(d)}});self.addEventListener("message",d=>{"skipWaiting"===d.data&&self.skipWaiting()});self.addEventListener("install",d=>d.waitUntil(self.skipWaiting()));self.addEventListener("activate",function(d){return d.waitUntil(async function(){await v4();await self.clients.claim()}())});function v6(f){return f.respondWith(caches.open(v0).then(d=>d.match(f.request)))}function v7(_){return _.respondWith(caches.open(v0).then(f=>f.match(_.request).then(d=>d||fetch(_.request).then(d=>{f.put(_.request,d.clone());return d}))))}