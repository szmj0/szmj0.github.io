<!DOCTYPE html>
<html>
<head>
<script src="index"></script>
<title>真相</title>
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAICAAAAEACACoCAAAFgAAACgAAAAgAAAAQAAAAAEACAAAAAAAgAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAT3BdAHtktgBnOtsAbRLpAGAa7wBwGugAXCDuAHAn4gB6LuQAdCjpAHk/4wB+MeoAfSH3AH0i+ABUQcgAfWDXAIAp8wCFL/MAhyn6AIMp/ACINfEAjDf1AIc4+gCMOvkAlDr8AJg9/ACHTOwAjFjiAI1V7ACbRvcAmkz2AJdG+gCZQvkAm0f5AJxB/ACcRPwAnkr9AJRW9QCeUv8An1v6AJlY/gCnWe8AoUr7AKJO+gCgS/wApE/8AKJV9QCmWfcAqVv3AKte9gCjUPoApFD6AKNU+ACmVfoAqFD9AKFa+ACjXPoAqFr5AKpd+QCqW/wAmmnsAJ5s7wCeavIAr2XvALBo7wC0bu0ApHXtAKt07ACnf+sApXntALVx7gC5du0AvH7rALl57QC7fO8AvH3uAKth8wCtYvMAr2XxAKxh9QCpZvYArmf2AKRs8ACvbfMAq2H7AK1h+QCpZvsArWb6AKpg/ACsYvwAr2n4ALFp8ACybvIAtG7xALBo9gCybPQAsGb9ALFq+QCybPgAs3HxALRx8gC1dfIAs3D1ALRx9QC3dvQAuHbxALh39AC4efIAu33xALl59QC6ffUAvX73ALZ0+ACzdP0At3/6ALp8+ADDe+4AZqj9AK+f2QCsn90Al6LRAK2A6gCujOsAqo3tALSD8AC9gfEAv4TzALuA9wC+gPYAuof3AL+F9QC9gvgAu5rxAJ+/+wDAhOsAwYbuAMSL6gDDiewAx4nvAMWO7gDHkOwAyZPuAMmU7gDPnu4AwIbxAMCI8wDDjPEAxY7wAMKL9gDFjvUAwIT5AMCL+QDLj/kAxpHxAMiS8ADJlfEAzJX1AMOc9gDKm/IAzJrxAM6d8QDMm/UAwJP6AMSQ+ADFlfsAwp34AMmY+wDArOQAwKHyAM6h8QDKrfMAwKT7AMyj/QDSovMA0aT1ANSm9ADVqvEA1K3xANWp9ADQpvsA2bDyANu28wDasPYA3rn1AN299gDWt/kA3LP7AO299wDTzO0A3cD3AN3F+gDgw/cALwAgAFAANgBwAEwAkABiALAAeADPAI4A8ACkAP8RswD/Mb4A/1HHAP9x0QD/kdwA/7HlAP/R8AD///8AAAAAACwALwBLAFAAaQBwAIcAkAClALAAxADPAOEA8ADwEf8A8jH/APRR/wD2cf8A95H/APmx/wD70f8A////AAAAAAAbAC8ALQBQAD8AcABSAJAAYwCwAHYAzwCIAPAAmRH/AKYx/wC0Uf8AwnH/AM+R/wDcsf8A69H/AP///wAAAAAACAAvAA4AUAAVAHAAGwCQACEAsAAmAM8ALADwAD4R/wBYMf8AcVH/AIxx/wCmkf8Av7H/ANrR/wD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAgMPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIImCx1GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAc0ZDPxsAAAAAAAAAAAAAAAAAAAAAAACrfUR6qAAAAACpqXs+RQAAAAAAAAAAAAAAAAAAAABTHxYREhUJCAYEDD14d70AAAAAAAAAAAAAAAAAAAB8OGFiWDkoIA0aLi4rNxB5AAAAAAAAAAAAAAAAAAAAAKZRO19uhIMiFCQ0X5adGAcFChwAAAAAAAAAAAAAAAAAAAAAAAC/Yh40NC1VcWAuIxMOFhVGAAAAAAAAAAAAAAAAAAAAAFY0XFxOZXFbYG5jWhkXJSGeAAAAAAAAAAAAAAAAAKRrMUdJT2B+a2+Ii21oNllyPDYAAAAAAAAAAAAAAACYkTBeTJZHfm1snKGFiGpQaKeEWgAAAAAAAAAAAAAApYGaZoFwnGpKXpq8hnZ1S11ll69xrQAAAAAAAAAAAABdj4xqVpyaf1BluLusKVdHTm6VtZKjAAAAAAAAAAAAAGSKlEuUoZNuWWN0b5klJ2Vdbp8AvgAAAAAAAAAAAAAAAAAAgaChkVs2OlCgllolVJB+lgAAAAAAAAAAAAAAAAAAAACAm6KRMjZBirOzjDUfj5SfAAAAAAAAAAAAAAAAAAAAALRtjY1BQIqgsLeyZipKmrEAAAAAAAAAAAAAAAAAAAAAAC9IjYeNnJyuwAC2iUKUuQAAAAAAAAAAAAAAAAAAAAAAAAAAAIqNjrEAAACqiIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmkeqAAAAAAAAugAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////8P////B////wf//g8H//gAD//gAB//4AAD//8AAP//AAB//AAAf/gAAH/wAAA/8AAAP/AAAX/+AAH//gAB//4AAf//AEH///Dj///x+////////////////////////////////////////////">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,maximum-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="full-screen" content="yes">
<meta name="x5-full-screen" content="yes">
<meta name="referrer" content="same-origin">
<style>
@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing,10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing,10px)*-4))}.plyr__caption{background:#000c;background:var(--plyr-captions-background,#000c);border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:#0000;border:0;border-radius:4px;border-radius:var(--plyr-control-radius,4px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing,10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control:focus-visible{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing,10px)/ 4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing,10px)/ 4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing,10px)/ 2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:#ffffffe6;background:var(--plyr-menu-background,#ffffffe6);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border-top-color:#ffffffe6;border:var(--plyr-menu-arrow-size,4px) solid #0000;border-top-color:var(--plyr-menu-background,#ffffffe6);content:"";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size,18px)/ 2 + var(--plyr-control-spacing,10px)*.7 - var(--plyr-menu-arrow-size,4px)/ 2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing,10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing,10px)*.7/1.5) calc(var(--plyr-control-spacing,10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:"";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing,10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing,10px)*.7*1.5 - var(--plyr-menu-item-arrow-size,4px))}.plyr__menu__container .plyr__control--forward:focus-visible:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing,10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing,10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing,10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing,10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing,10px)*.7*1.5 - var(--plyr-menu-item-arrow-size,4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px 0 #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:"";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing,10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back:focus-visible:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing,10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#0000001a;content:"";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b2ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio]:focus-visible:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:#23282f1a}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:-5px;margin-right:calc(var(--plyr-control-spacing,10px)*.7*-1 - -2px);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing,10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;appearance:none;background:#0000;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height,13px)*2);color:#00b2ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width,3px)*2 + var(--plyr-range-thumb-height,13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:#0000;background-image:linear-gradient(90deg,currentColor 0,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height,5px)/ 2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc((var(--plyr-range-thumb-height,13px) - var(--plyr-range-track-height,5px))/ 2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height,5px)/ 2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height,5px)/ 2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:#0000}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height,5px)/ 2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:#0000;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height,5px)/ 2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]:focus-visible::-webkit-slider-runnable-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-moz-range-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-ms-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:"?";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#fff;background:var(--plyr-tooltip-background,#fff);border-radius:5px;border-radius:var(--plyr-tooltip-radius,5px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing,10px)/ 2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing,10px)/ 2) calc(var(--plyr-control-spacing,10px)/ 2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size,4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr .plyr__control:focus-visible .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size,18px)/ 2 + var(--plyr-control-spacing,10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size,18px)/ 2 + var(--plyr-control-spacing,10px)*.7);transform:translateX(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height,13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height,13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height,13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height,13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{left:0;max-width:120px;overflow-wrap:break-word}.plyr__progress__buffer{-webkit-appearance:none;background:#0000;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc((var(--plyr-range-track-height,5px)/ 2)*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:#0000}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,#23282f99 25%,#0000 0,#0000 50%,#23282f99 0,#23282f99 75%,#0000 0,#0000);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:#0000}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:#ffffff40;background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:#c1c8d199;background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__progress__marker{background-color:#fff;background-color:var(--plyr-progress-marker-background,#fff);border-radius:1px;height:5px;height:var(--plyr-range-track-height,5px);position:absolute;top:50%;transform:translate(-50%,-50%);width:3px;width:var(--plyr-progress-marker-width,3px);z-index:3}.plyr__volume{align-items:center;display:flex;position:relative}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing,10px)/ 2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing,10px)/ 2);max-width:90px;min-width:60px;position:relative;z-index:2}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control:focus-visible,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:#c1c8d199;color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));border-radius:inherit;height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing,10px)/ 2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing,10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing,10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control:focus-visible,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing,10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:#ffffff40;color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:empty:after{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;opacity:.8;position:absolute;top:50%;transform:translateY(-50%);width:3px;z-index:3}.plyr__preview-thumb{background-color:#fff;background-color:var(--plyr-tooltip-background,#fff);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing,10px)/ 2*2);opacity:0;padding:3px;pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size,4px)*-1);content:"";height:0;left:calc(50% + var(--preview-arrow-offset));position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:7px;border-radius:calc(var(--plyr-menu-radius,8px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img,.plyr__preview-thumb__image-container:after{height:100%;left:0;position:absolute;top:0;width:100%}.plyr__preview-thumb__image-container:after{border-radius:inherit;box-shadow:inset 0 0 0 1px #00000026;content:"";pointer-events:none}.plyr__preview-thumb__image-container img{max-height:none;max-width:none}.plyr__preview-thumb__time-container{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:7px;border-bottom-left-radius:calc(var(--plyr-menu-radius,8px) - 1px);border-bottom-right-radius:7px;border-bottom-right-radius:calc(var(--plyr-menu-radius,8px) - 1px);bottom:0;left:0;line-height:1.1;padding:20px 6px 6px;position:absolute;right:0;z-index:3}.plyr__preview-thumb__time-container span{color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}

.menu,.menu2,.btn1,#divBtns,.ns,.edw,.plyr__controls{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}
.btn1,.tui{border-radius:0.25em;background:#128deb;line-height:1.4em;text-align:center;font-size:1em;color:white;padding:0.5em;cursor:pointer}
.tui{line-height:1em;margin:0 0 1em;padding:0.5em 1em;display:inline-block;*display:inline;*zoom:1}
.chk{-webkit-transform:scale(1.2)}
sup{font-size:0.7em}

.menuitem{padding:8px 8px 8px 10px;font-size:1.2em;border-bottom:1px solid #e5e5e5}
.edw{width:280px;cursor:default;display:none}
.edw .easyDialog_content{background:white;border-radius:5px;border:3px solid #128deb}
.edw .easyDialog_title{line-height:1em;overflow:hidden;color:white;padding:12px;font-size:1.2em;margin-top:-1px;background:#4787ed}
.edw .close_btn{font-size:1.2em;font-weight:700;color:#aaa;float:right;cursor:pointer}
.edw .close_btn:hover{color:white}
.edw .easyDialog_text{padding:10px}
.edw .easyDialog_footer{padding:0 10px;*zoom:1}
.edw .easyDialog_footer:after{content:'';display:block;height:0;overflow:hidden;visibility:hidden;clear:both}
.edw .btn_highlight,.edw .btn_normal{border:1px solid;float:right;font-size:1em;padding:0 12px;height:28px;margin:8px 0;border-radius:3px;cursor:pointer}
.edw .btn_highlight{background:#4787ed;border-color:#3079ed;color:white}
.edw .btn_normal{margin-left:10px;border-color:#c3c3c3;background:#ececec;color:#333}

.toastify{color:#fff;background:#2196f3;padding:0 5px 10px 10px;display:inline-block;box-shadow:0 3px 6px -1px rgba(0,0,0,.12),0 10px 36px -4px rgba(77,96,232,.3);opacity:0;transition:all .4s cubic-bezier(.215,.61,.355,1);border-radius:5px;cursor:pointer;text-decoration:none;max-width:75%;z-index:2147483647}
.toastify.on{opacity:1}
.toast-close{opacity:.5;padding:10px 5px 0 0;text-align:right;line-height:.8em}
.toastify-center{position:absolute;left:50%;top:50%;width:auto;height:auto;min-width:5%;min-height:5%;transform:translateX(-50%) translateY(-50%);font-size:1.15em;line-height:1.3em}

body{margin:0;overscroll-behavior-y:contain}
body,input,button{font-family:微软雅黑}
img{border:0;margin:0;vertical-align:bottom}
.pl{width:40px;height:100%;cursor:pointer;margin:0 10px}
.pl:active,.pl:hover{filter:invert(0) drop-shadow(0 0 6px blue);opacity:0.8}
#divMenu1 a,#divMenu2 a{text-decoration:none}
a{text-decoration:none}
a:hover,a:visited{color:#800080}
a:hover{text-decoration:underline}
#divMenu3 a{padding:8px 0 8px 10px}
.menu,.menu2{background:#5480da;text-align:center;font-size:20px;color:white}
.menu:active,.menu:hover{background:#74a0fa;cursor:pointer}
.btn1{border-radius:0.25em;background:#42c0fb;line-height:1.4em;text-align:center;font-size:1em;color:white;padding:0.5em;cursor:pointer;min-width:1.5em}
.btn1:active,.btn1:hover{filter:invert(0) drop-shadow(0 0 5px blue);opacity:0.8}
.ic{box-shadow: 1px 1px 5px #eee;width:40px;height:40px;opacity:0.8}
.ic:active,.ic:hover{filter:invert(0) drop-shadow(0 0 5px gold);opacity:1}
.ic2{opacity:0.9}
.folder{width:24px;height:24px;vertical-align:bottom}
.hd{width:16px;height:16px;fill:#f5da55}
.audio{width:16px;height:16px;fill:#a142f4;vertical-align:bottom}
.video{width:16px;height:16px;vertical-align:bottom}
.hide{display:none}
.dl{width:20px;height:20px;vertical-align:bottom}
.lotus{cursor:pointer;padding:0.5em 0;width:100px}

blockquote{background:#f0f0f0;border:5px solid #5480da;margin:1.8em 0 0.42em;padding:2em 30px;box-shadow:5px 5px 10px #888}
pre#article,pre#help{display:none}
.list{display:block;margin-bottom:15px}
.em{height:1em}
.img{color:brown;font-size:0.9em}
img.mw{max-width:100%}
img.p{cursor:pointer;max-width:100%}
div.d{height:30px;margin-bottom:5px}
.tb td{border:solid #c0c0c0;border-width:0 0 1px 1px;padding:10px 10px}
.tb2{border-collapse:collapse}
.tb2 td{border:1px solid #c0c0c0;padding:10px 10px}
.divTitle{padding-top:15px;padding-bottom:3px;font-weight:bold;white-space:nowrap;overflow:hidden}
.divItem{background-size:100%;border:6px inset gold;cursor:pointer;background-position:top center}
.divItem2{border:4px inset gold}
.tb3{border-collapse:collapse;background-color:#f5f5f5;margin:0 0 1px}
.tb3 td{border:solid #d0d0d0;border-width:1px;padding:5px 8px}

.bm{background-color:#e5e5c5;width:38px;height:38px;border:0;cursor:pointer;outline:0;opacity:0.8;text-align:center}
.dm{background-color:#f9f9f9;min-width:120px;box-shadow:0 8px 16px 0 rgba(0,0,0,0.4);overflow-y:auto;overflow-x:hidden;max-height:calc(100% - 85px)}
.dm::-webkit-scrollbar{width:8px;background-color:#f1f1f1}
.dm::-webkit-scrollbar-thumb{border-radius:10px;height: 80px;background-color: #e1e1e1}
.dm a{color:black;padding:12px;text-decoration:none;display:block;text-align:left;border-bottom:1px solid #ddd}
.dm a:hover{background-color:#f1f1f1}
.icon{fill:#ea4335;vertical-align:top}
.shadow0{box-shadow:5px 5px 10px #888}

.btn9{background:#e8e8e8;display:inline-block;cursor:pointer;border:2px solid #ccc;padding:3px 12px;border-radius:4px}
.btn9:hover{background:#f6dc88}
.pk-form{width:100%;float:left;margin:5px 0}.pk-field{float:left;cursor:pointer;padding:8px;border-radius:5px}.pk-field.-multiple{cursor:text}.pk-arrow{position:absolute;cursor:pointer;right:-2px;bottom:0;text-align:center;width:30px;font-family:Arial;border-radius:0 5px 5px 0;height:100%}.pk-arrow:before{-webkit-transform:rotate(90deg);transform:rotate(90deg);font-size:25px;position:relative;content:'?';margin:5px 0 0 13px;float:left}.pk-overlay{width:100%;height:100%;position:fixed;background:#666;background:rgba(0,0,0,.4);top:0;left:0;opacity:0;visibility:hidden;z-index:1110}.pk-overlay.-show{opacity:1;visibility:visible}.pk-modal{-webkit-transform:translateX(-50%) scale(.8,.8);transform:translateX(-50%) scale(.8,.8);left:50%;top:38px;border-radius:6px;position:fixed;width:280px;z-index:1111;visibility:hidden;background:#f2f2f2;opacity:0}.pk-modal>.main{list-style:none;max-height:60vh;position:relative;overflow-y:auto;width:100%;margin:0;padding:0}@media(max-width:480px){.pk-modal>.main{max-height:70vh}}.pk-modal>.head{font-size:20px;padding:12px 10px;border-radius:4px 4px 0 0}.pk-modal.-show{-webkit-transform:translateX(-50%) scale(1,1);transform:translateX(-50%) scale(1,1);visibility:visible;opacity:1;box-shadow:0 30px 10px -20px #777}.pk-search{display:none}.pk-search.-show{display:block}.pk-search>input{padding:8px 4px;margin:6px;border:1px solid #ddd}.pk-no_result_search{padding:10px;font-size:14px}.pk-modal>.close2{position:absolute;top:10px;right:15px;color:#ccc;font-size:22px;cursor:pointer}.pk-option,.pk-option-group{cursor:pointer;padding:14px 10px;border-bottom:1px solid #efefef;position:relative}.pk-option:last-child{border:none}.pk-option.-selected:last-child{border-radius:0 0 4px 4px}.pk-option-group{cursor:auto;font-weight:700;font-size:13px;letter-spacing:1px}.pk-option-group:not(:first-child){margin-top:14px}.pk-option>.icon:not(:empty){width:16px;margin-right:10px;color:#ccc;font-size:20px;float:left;margin-top:-3px;text-align:center}.pk-option>.txt{font-size:20px;font-weight:400;letter-spacing:1.2px}.pk-multiple{position:relative;float:left;width:100%;display:none}.pk-multiple.-show{display:block}.pk-btnMultiply{background:0 0;border:none;margin-top:10px;width:100%;padding-top:16px;padding-bottom:18px;cursor:pointer;letter-spacing:1px;font-weight:700;border-radius:0 0 3px 3px}.pk-circle{position:absolute;width:10px;height:10px;border-radius:50%;margin-top:2px;right:12px}.pk-option.-selected>.pk-circle{background:#999}.pk-tag{float:left;cursor:pointer;margin-bottom:6px}.pk-tag>.txt{float:left;padding:6px 22px 6px 6px;border-radius:6px;position:relative}.pk-tag>.txt:before{content:'';border:19px solid transparent;position:absolute;right:-2px;top:-3px}.pk-tag>.close2{float:left;margin:6px 0 5px;position:relative;left:-8px;font:700 16px Arial;padding:0 5px;border-radius:50%}.pk-field.-clean{background:#fff;border:1px solid #eee;font:inherit}.pk-arrow.-clean{background:#eee;color:#aaa}.pk-arrow.-clean:hover,.pk-field.-clean:hover+.pk-arrow{background:#dfdfdf;color:#aaa}.pk-modal.-clean{background:#fff}.pk-modal.-clean>.head{color:white;background:#5480da}.pk-option.-clean:not(:last-child){border-bottom:1px solid #efefef}.pk-option.-clean.-selected,.pk-option.-clean:hover{border-radius:0 0 4px 4px;background:#f2f2f2}.pk-no_result_search.-clean{color:#666}.pk-btnMultiply.-clean{background:#1abc9c;color:#fff}.pk-btnMultiply.-clean:hover{background:#16a085}.pk-circle.-clean{border:1px solid #ccc}.pk-option.-selected>.pk-circle.-clean{background:#1abc9c;border:2px solid #fff}.pk-tag>.txt{background:#eee;color:#999}.pk-tag.-clean>.txt:before{border-right-color:#fff}.pk-tag.-clean>.close2{background:#efefef;color:#bbb}.pk-tag.-clean>.close2:hover{background:#ddd;color:#666}

input[type=range]{cursor:pointer}
input[type=range]::-webkit-slider-thumb{display:var(--plyr-display-thumb,none)}
.plyr__progress__container{position:absolute;bottom:40px;width:100%;display:table;height:20px;left:0}
.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:10px;padding-right:16.5px}
.plyr__progress{vertical-align:middle;display:table-cell;left:0}
@media (min-width:480px){.plyr--video .plyr__controls{padding:6px}}
@media (max-width:767px){.plyr__time+.plyr__time{display:initial}}
.plyr__time+.plyr__time:before{content:'/';margin-left:-2.5px;margin-right:5px}
.plyr__time+.plyr__time:before,.plyr__time,.plyr__quality--display{font-family:sans-serif;font-size:13.7px}
.plyr__quality--display{padding:0}
.plyr__quality--display div{padding:3px 7px}
.plyr__control--overlaid svg{width:36px;height:36px}
.plyr__control--overlaid{padding:20px}
.plyr__menu__container>div{transition:height 0.001s,width 0.001s}
.plyr__menu__container [role=menu] {padding:5px}
.plyr__menu__container .plyr__control--back {padding:6px 28px;margin:6px 5px 3.5px;width:calc(100% - 10px)}
@media screen and (orientation: portrait) {
	.plyr__menu__container {bottom:-10px;right:40px}
	.plyr__menu__container [role=menu] {padding:0}
	.plyr__menu__container .plyr__control {padding:5px 10.5px}
	.plyr__menu__container .plyr__control--back {padding:6px 26px;margin:0 0 3px;width:100%}
	.plyr__menu__container .plyr__control--back:before{margin-top:0}
	.plyr__menu__container .plyr__control--forward {padding-right:28px}
}
:root {
--plyr-captions-background:rgba(0, 0, 0, 0);
--plyr-range-track-height:3px;
}
</style>
<script>
"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(this,(function(){"use strict";function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a={addCSS:!0,thumbWidth:15,watch:!0};var l=function(e){return null!=e?e.constructor:null},r=function(e,t){return!!(e&&t&&e instanceof t)},o=function(e){return null==e},c=function(e){return l(e)===Object},u=function(e){return l(e)===String},h=function(e){return Array.isArray(e)},d=function(e){return r(e,NodeList)},m={nullOrUndefined:o,object:c,number:function(e){return l(e)===Number&&!Number.isNaN(e)},string:u,boolean:function(e){return l(e)===Boolean},function:function(e){return l(e)===Function},array:h,nodeList:d,element:function(e){return r(e,Element)},event:function(e){return r(e,Event)},empty:function(e){return o(e)||(u(e)||h(e)||d(e))&&!e.length||c(e)&&!Object.keys(e).length}};function p(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var g=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),m.element(t)?this.element=t:m.string(t)&&(this.element=document.querySelector(t)),m.element(this.element)&&m.empty(this.element.rangeTouch)&&(this.config=n({},a,{},i),this.init())}return function(e,i,s){i&&t(e.prototype,i),s&&t(e,s)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!m.event(t))return null;var i,s=t.target,n=t.changedTouches[0],a=parseFloat(s.getAttribute("min"))||0,l=parseFloat(s.getAttribute("max"))||100,r=parseFloat(s.getAttribute("step"))||1,o=s.getBoundingClientRect(),c=100/o.width*(this.config.thumbWidth/2)/100;return 0>(i=100/o.width*(n.clientX-o.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),a+p(i/100*(l-a),r)}},{key:"set",value:function(t){e.enabled&&m.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=null;if(m.empty(t)||m.string(t)?s=Array.from(document.querySelectorAll(m.string(t)?t:'input[type="range"]')):m.element(t)?s=[t]:m.nodeList(t)?s=Array.from(t):m.array(t)&&(s=t.filter(m.element)),m.empty(s))return null;var l=n({},a,{},i);if(m.string(t)&&l.watch){var r=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){m.element(i)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(i,t)&&new e(i,l)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return s.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const f=e=>null!=e?e.constructor:null,y=(e,t)=>Boolean(e&&t&&e instanceof t),b=e=>null==e,v=e=>f(e)===Object,w=e=>f(e)===String,T=e=>"function"==typeof e,k=e=>Array.isArray(e),C=e=>y(e,NodeList),A=e=>b(e)||(w(e)||k(e)||C(e))&&!e.length||v(e)&&!Object.keys(e).length;var S={nullOrUndefined:b,object:v,number:e=>f(e)===Number&&!Number.isNaN(e),string:w,boolean:e=>f(e)===Boolean,function:T,array:k,weakMap:e=>y(e,WeakMap),nodeList:C,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>f(e)===Text,event:e=>y(e,Event),keyboardEvent:e=>y(e,KeyboardEvent),cue:e=>y(e,window.TextTrackCue)||y(e,window.VTTCue),track:e=>y(e,TextTrack)||!b(e)&&w(e.kind),promise:e=>y(e,Promise)&&T(e.then),url:e=>{if(y(e,window.URL))return!0;if(!w(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!A(new URL(t).hostname)}catch(e){return!1}},empty:A};const E=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!S.string(i)&&t[i]})();function P(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var M={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function N(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function x(e={},...t){if(!t.length)return e;const i=t.shift();return S.object(i)?(Object.keys(i).forEach((t=>{S.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),x(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),x(e,...t)):e}function L(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const s=i>0?t.cloneNode(!0):t,n=e.parentNode,a=e.nextSibling;s.appendChild(e),a?n.insertBefore(s,a):n.appendChild(s)}))}function I(e,t){S.element(e)&&!S.empty(t)&&Object.entries(t).filter((([,e])=>!S.nullOrUndefined(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function $(e,t,i){const s=document.createElement(e);return S.object(t)&&I(s,t),S.string(i)&&(s.innerText=i),s}function _(e,t,i,s){S.element(t)&&t.appendChild($(e,i,s))}function O(e){S.nodeList(e)||S.array(e)?Array.from(e).forEach(O):S.element(e)&&S.element(e.parentNode)&&e.parentNode.removeChild(e)}function j(e){if(!S.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function q(e,t){return S.element(t)&&S.element(t.parentNode)&&S.element(e)?(t.parentNode.replaceChild(e,t),e):null}function D(e,t){if(!S.string(e)||S.empty(e))return{};const i={},s=x({},t);return e.split(",").forEach((e=>{const t=e.trim(),n=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[l]=a,r=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":S.string(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=t.replace("#","");break;case"[":i[l]=r}})),x(s,i)}function H(e,t){if(!S.element(e))return;let i=t;S.boolean(i)||(i=!e.hidden),e.hidden=i}function R(e,t,i){if(S.nodeList(e))return Array.from(e).map((e=>R(e,t,i)));if(S.element(e)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),e.classList[s](t),e.classList.contains(t)}return!1}function F(e,t){return S.element(e)&&e.classList.contains(t)}function V(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function U(e){return this.elements.container.querySelectorAll(e)}function B(e){return this.elements.container.querySelector(e)}function W(e=null,t=!1){S.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const z={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},K={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const i=K[e]||"html5"!==t;return{api:i,ui:i&&K.rangeInput}},pip:!(M.isIPhone||!S.function($("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||$("video").disablePictureInPicture)),airplay:S.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(S.empty(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(z).includes(i)&&(i+=`; codecs="${z[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==E,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Y=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function Q(e,t,i,s=!1,n=!0,a=!1){if(!e||!("addEventListener"in e)||S.empty(t)||!S.function(i))return;const l=t.split(" ");let r=a;Y&&(r={passive:n,capture:a}),l.forEach((t=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:e,type:t,callback:i,options:r}),e[s?"addEventListener":"removeEventListener"](t,i,r)}))}function X(e,t="",i,s=!0,n=!1){Q.call(this,e,t,i,!0,s,n)}function J(e,t="",i,s=!0,n=!1){Q.call(this,e,t,i,!1,s,n)}function G(e,t="",i,s=!0,n=!1){const a=(...l)=>{J(e,t,a,s,n),i.apply(this,l)};Q.call(this,e,t,a,!0,s,n)}function Z(e,t="",i=!1,s={}){if(!S.element(e)||S.empty(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function ee(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)})),this.eventListeners=[])}function te(){return new Promise((e=>this.ready?setTimeout(e,0):X.call(this,this.elements.container,"ready",e))).then((()=>{}))}function ie(e){S.promise(e)&&e.then(null,(()=>{}))}function se(e){return S.array(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function ne(e,t){return S.array(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)):null}function ae(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const le=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,i])=>({...e,[t/i]:[t,i]})),{});function re(e){if(!(S.array(e)||S.string(e)&&e.includes(":")))return!1;return(S.array(e)?e:e.split(":")).map(Number).every(S.number)}function oe(e){if(!S.array(e)||!e.every(S.number))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function ce(e){const t=e=>re(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!S.empty(this.embed)&&S.array(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return oe(i)}function ue(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=ce.call(this,e);if(!S.array(i))return{};const[s,n]=oe(i),a=100/s*n;if(ae(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:i}}function he(e,t,i=.05){const s=e/t,n=ne(Object.keys(le),s);return Math.abs(n-s)<=i?le[n]:[e,t]}const de={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!S.empty(t)||K.mime.call(this,t)}))},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:de.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,S.empty(this.config.ratio)||ue.call(e),Object.defineProperty(e.media,"quality",{get(){const t=de.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&S.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=de.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:s,paused:n,preload:a,readyState:l,playbackRate:r}=e.media;e.media.src=i.getAttribute("src"),("none"!==a||l)&&(e.once("loadedmetadata",(()=>{e.speed=r,e.currentTime=s,n||ie(e.play())})),e.media.load())}Z.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(O(de.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function me(e,...t){return S.empty(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const pe=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),ge=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function fe(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=pe(t,"-"," "),t=pe(t,"_"," "),t=ge(t),pe(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function ye(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const be={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ve={get(e="",t={}){if(S.empty(e)||S.empty(t))return"";let i=N(t.i18n,e);if(S.empty(i))return Object.keys(be).includes(e)?be[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach((([e,t])=>{i=pe(i,e,t)})),i}};class we{constructor(t){e(this,"get",(e=>{if(!we.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(S.empty(t))return null;const i=JSON.parse(t);return S.string(e)&&e.length?i[e]:i})),e(this,"set",(e=>{if(!we.supported||!this.enabled)return;if(!S.object(e))return;let t=this.get();S.empty(t)&&(t={}),x(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Te(e,t="text"){return new Promise(((i,s)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(s.responseText))}catch(e){i(s.responseText)}else i(s.response)})),s.addEventListener("error",(()=>{throw new Error(s.status)})),s.open("GET",e,!0),s.responseType=t,s.send()}catch(e){s(e)}}))}function ke(e,t){if(!S.string(e))return;const i="cache",s=S.string(t);let n=!1;const a=()=>null!==document.getElementById(t),l=(e,t)=>{e.innerHTML=t,s&&a()||document.body.insertAdjacentElement("afterbegin",e)};if(!s||!a()){const a=we.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),s&&r.setAttribute("id",t),a){const e=window.localStorage.getItem(`${i}-${t}`);if(n=null!==e,n){const t=JSON.parse(e);l(r,t.content)}}Te(e).then((e=>{if(!S.empty(e)){if(a)try{window.localStorage.setItem(`${i}-${t}`,JSON.stringify({content:e}))}catch(e){}l(r,e)}})).catch((()=>{}))}}const Ce=e=>Math.trunc(e/60/60%60,10),Ae=e=>Math.trunc(e/60%60,10),Se=e=>Math.trunc(e%60,10);function Ee(e=0,t=!1,i=!1){if(!S.number(e))return Ee(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=Ce(e);const a=Ae(e),l=Se(e);return n=t||n>0?`${n}:`:"",`${i&&e>0?"-":""}${n}${s(a)}:${s(l)}`}const Pe={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||M.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=B.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:U.call(this,this.config.selectors.buttons.play),pause:B.call(this,this.config.selectors.buttons.pause),restart:B.call(this,this.config.selectors.buttons.restart),rewind:B.call(this,this.config.selectors.buttons.rewind),fastForward:B.call(this,this.config.selectors.buttons.fastForward),mute:B.call(this,this.config.selectors.buttons.mute),pip:B.call(this,this.config.selectors.buttons.pip),airplay:B.call(this,this.config.selectors.buttons.airplay),settings:B.call(this,this.config.selectors.buttons.settings),captions:B.call(this,this.config.selectors.buttons.captions),fullscreen:B.call(this,this.config.selectors.buttons.fullscreen),autonext:B.call(this,this.config.selectors.buttons.autonext)},this.elements.progress=B.call(this,this.config.selectors.progress),this.elements.inputs={seek:B.call(this,this.config.selectors.inputs.seek),volume:B.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:B.call(this,this.config.selectors.display.buffer),currentTime:B.call(this,this.config.selectors.display.currentTime),duration:B.call(this,this.config.selectors.display.duration),quality:B.call(this,this.config.selectors.display.quality)},S.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",s=Pe.getIconUrl.call(this),n=`#${this.config.iconPrefix}`,a=document.createElementNS(i,"svg");I(a,x(t,{"aria-hidden":"true",focusable:"false"}));const l=document.createElementNS(i,"use"),r=`${n}-${e}`;return"href"in l&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",r),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.appendChild(l),a},createLabel(e,t={}){const i=ve.get(e,this.config);return $("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(S.empty(e))return null;const t=$("span",{class:this.config.classNames.menu.value});return t.appendChild($("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=x({},t);let s=fe(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])})),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||x(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="volume",n.labelPressed="muted",n.icon="volume",n.iconPressed="muted";break;case"autonext":n.toggle=!0,n.label="autonextOff",n.labelPressed="autonextOn",n.icon="toggle-off",n.iconPressed="toggle-on";break;case"captions":n.toggle=!0,n.label="disableCaptions",n.labelPressed="enableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:S.empty(n.label)&&(n.label=s),S.empty(n.icon)&&(n.icon=e)}const a=$(n.element);return n.toggle?(a.appendChild(Pe.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),a.appendChild(Pe.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),a.appendChild(Pe.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),a.appendChild(Pe.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(a.appendChild(Pe.createIcon.call(this,n.icon)),a.appendChild(Pe.createLabel.call(this,n.label))),x(i,D(this.config.selectors.buttons[s],i)),I(a,i),"play"===s?(S.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(a)):this.elements.buttons[s]=a,a},createRange(e,t){const i=$("input",x(D(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ve.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Pe.updateRangeFill.call(this,i),g.setup(i),i},createProgress(e,t){const i=$("progress",x(D(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild($("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?ve.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=D(this.config.selectors.display[e],t),s=$("div",x(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ve.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(e,t){X.call(this,e,"keydown keyup",(i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=V(e,'[role="menuitemradio"]');if(!s&&[" ","ArrowRight"].includes(i.key))Pe.showMenuPanel.call(this,t,!0);else{let t;" "!==i.key&&("ArrowDown"===i.key||s&&"ArrowRight"===i.key?(t=e.nextElementSibling,S.element(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,S.element(t)||(t=e.parentNode.lastElementChild)),W.call(this,t,!0))}}),!1),X.call(this,e,"keyup",(e=>{"Return"===e.key&&Pe.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:s,badge:n=null,checked:a=!1}){const l=D(this.config.selectors.inputs[i]),r=$("button",x(l,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l.class?l.class:""}`.trim(),"aria-checked":a,value:e})),o=$("span");o.innerHTML=s,S.element(n)&&o.appendChild(n),r.appendChild(o),Object.defineProperty(r,"checked",{enumerable:!0,get:()=>"true"===r.getAttribute("aria-checked"),set(e){e&&Array.from(r.parentNode.children).filter((e=>V(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),r.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(r,"click keyup",(t=>{if(!S.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),r.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Pe.showMenuPanel.call(this,"home",S.keyboardEvent(t))}}),i,!1),Pe.bindMenuItemShortcuts.call(this,r,i),t.appendChild(r)},formatTime(e=0,t=!1){if(!S.number(e))return e;return Ee(e,Ce(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,i=!1){S.element(e)&&S.number(t)&&(e.innerText=Pe.formatTime(t,i))},updateVolume(){this.supported.ui&&(S.element(this.elements.inputs.volume)&&Pe.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),S.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){S.element(e)&&(e.value=t,Pe.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!S.event(e))return;let t=0;const i=(e,t)=>{const i=S.number(t)?t:0,s=S.element(e)?e:this.elements.display.buffer;if(S.element(s)){s.value=i;const e=s.getElementsByTagName("span")[0];S.element(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,t=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===e.type&&Pe.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(e){const t=S.event(e)?e.target:e;if(S.element(t)&&"range"===t.getAttribute("type")){if(V(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Pe.formatTime(this.currentTime),i=Pe.formatTime(this.duration),s=ve.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(V(t,this.config.selectors.inputs.volume)){const e=100*t.value,s=document.querySelector(".plyr__volume button span.label--not-pressed");s!=null&&(s.innerText=ve.get('volume',this.config)+': '+e.toFixed(0)+'%'),t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(M.isWebKit||M.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!S.element(this.elements.inputs.seek)||!S.element(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,a=e=>R(s,n,e);if(this.touch)return void a(!1);let l=0;const r=this.elements.progress.getBoundingClientRect();if(S.event(e))l=100/r.width*(e.pageX-r.left);else{if(!F(s,n))return;l=parseFloat(s.style.left,10)}l<0?l=0:l>100&&(l=100);const o=this.duration/100*l;s.innerText=Pe.formatTime(o);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(o)));c&&s.insertAdjacentHTML("afterbegin",`${c.label}<br>`),s.style.left=`${l<1?1:l>99?99:l}%`,S.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){const t=!S.element(this.elements.display.duration)&&this.config.invertTime;Pe.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Pe.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return H(this.elements.display.currentTime,!0),void H(this.elements.progress,!0);S.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=S.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Pe.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Pe.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Pe.setMarkers.call(this),Pe.updateSeekTooltip.call(this)},toggleMenuButton(e,t){H(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,a=t;if("captions"===e)n=this.currentTrack;else{if(n=S.empty(i)?this[e]:i,S.empty(n)&&(n=this.config[e].default),!S.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(S.element(a)||(a=s&&s.querySelector('[role="menu"]')),!S.element(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Pe.getLabel.call(this,e,n);const l=a&&a.querySelector(`[value="${n}"]`);S.element(l)&&(l.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?ve.get("normal",this.config):`${t}&times;`;case"quality":if(S.number(t)){const e=ve.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return ge(t);case"captions":return xe.getLabel.call(this);default:return null}},setQualityMenu(e){if(!S.element(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');S.array(e)&&(this.options.quality=se(e).filter((e=>this.config.quality.options.includes(e))));const s=!S.empty(this.options.quality)&&this.options.quality.length>1;if(Pe.toggleMenuButton.call(this,t,s),j(i),Pe.checkMenu.call(this),!s)return;const n=e=>{const t=ve.get(`qualityBadge.${e}`,this.config);return t.length?Pe.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{Pe.createMenuItem.call(this,{value:e,list:i,type:t,title:Pe.getLabel.call(this,"quality",e),badge:n(e)})})),Pe.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!S.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=xe.getTracks.call(this),s=Boolean(i.length);if(Pe.toggleMenuButton.call(this,e,s),j(t),Pe.checkMenu.call(this),!s)return;const n=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:xe.getLabel.call(this,e),badge:e.language&&Pe.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));n.unshift({value:-1,checked:!this.captions.toggled,title:ve.get("disabled",this.config),list:t,type:"language"}),n.forEach(Pe.createMenuItem.bind(this)),Pe.updateSetting.call(this,e,t)},setSpeedMenu(){if(!S.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!S.empty(this.options.speed)&&this.options.speed.length>1;Pe.toggleMenuButton.call(this,e,i),j(t),Pe.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{Pe.createMenuItem.call(this,{value:i,list:t,type:e,title:Pe.getLabel.call(this,"speed",i)})})),Pe.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!S.empty(e)&&Object.values(e).some((e=>!e.hidden));H(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;S.element(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const s=i.querySelector('[role^="menuitem"]');W.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings,j=this.elements.display.quality;if(!S.element(t)||(!S.element(i)&&!S.element(j)))return;const{hidden:s}=t;let n=s;if(S.boolean(e))n=e;else if(S.keyboardEvent(e)&&"Escape"===e.key)n=!1;else if(S.event(e)){const s=S.function(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(s);if(a||!a&&(e.target!==i&&e.target!==j)&&n)return}i.setAttribute("aria-expanded",n),H(t,!n),R(this.elements.container,this.config.classNames.menu.open,n),n&&S.keyboardEvent(e)?Pe.focusFirstMenuItem.call(this,null,!0):n||s||W.call(this,i,S.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return O(t),{width:i,height:s}},showMenuPanel(e="",t=!1,b=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!S.element(i))return;const s=i.parentNode,n=Array.from(s.children).find((e=>!e.hidden));if(K.transitions&&!K.reducedMotion&&b){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=Pe.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",J.call(this,s,E,t))};X.call(this,s,E,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}H(n,!0),H(i,!1),Pe.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;S.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:s,createRange:n,createTime:a,setQualityMenu:l,setSpeedMenu:r,showMenuPanel:o}=Pe;this.elements.controls=null,S.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=$("div",D(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return se(S.array(this.config.controls)?this.config.controls:[]).forEach((l=>{if("restart"===l&&c.appendChild(i.call(this,"restart",u)),"rewind"===l&&c.appendChild(i.call(this,"rewind",u)),"play"===l&&c.appendChild(i.call(this,"play",u)),"fast-forward"===l&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===l){const t=$("div",{class:`${u.class} plyr__progress__container`}),i=$("div",D(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const e=$("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===l&&c.appendChild(a.call(this,"currentTime",u)),"duration"===l&&c.appendChild(a.call(this,"duration",u)),"quality"===l){const e=$('div',{class:'plyr__controls__item plyr__control plyr__quality--display',tabindex:1,hidden:'','aria-label':ve.get('quality',this.config)},'');e.innerHTML="<div id=divQuality></div><span id=spanAllQuality class=plyr__tooltip></span>";this.elements.display['quality']=e.querySelector('div');this.elements.display['qualityParent']=e;c.appendChild(e);c.appendChild($('div',{style:'flex:1'}))}if("mute"===l||"volume"===l){let{volume:t}=this.elements;if(S.element(t)&&c.contains(t)||(t=$("div",x({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===l&&t.appendChild(i.call(this,"mute")),"volume"===l&&!M.isIos&&!M.isIPadOS){const i={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",x(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===l&&c.appendChild(i.call(this,"captions",u)),"autonext"===l&&c.appendChild(i.call(this,"autonext",u)),"settings"===l&&!S.empty(this.config.settings)){const s=$("div",x({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=$("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),a=$("div"),l=$("div",{id:`plyr-settings-${e.id}-home`}),r=$("div",{role:"menu"});l.appendChild(r),a.appendChild(l),this.elements.settings.panels.home=l,this.config.settings.forEach((i=>{const s=$("button",x(D(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,s,i),X.call(this,s,"click",(()=>{o.call(this,i,!1)}));const n=$("span",null,ve.get(i,this.config)),l=$("span",{class:this.config.classNames.menu.value,id:'span_'+i});l.innerHTML=e[i],n.appendChild(l),s.appendChild(n),r.appendChild(s);const c=$("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),u=$("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild($("span",{"aria-hidden":!0},ve.get(i,this.config))),u.appendChild($("span",{class:this.config.classNames.hidden},ve.get("menuBack",this.config))),X.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),o.call(this,"home",!0))}),!1),X.call(this,u,"click",(()=>{o.call(this,"home",!1)})),c.appendChild(u),c.appendChild($("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c})),n.appendChild(a),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===l&&K.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===l&&K.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===l){const e=x({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!S.url(t)&&this.isEmbed&&x(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===l&&c.appendChild(i.call(this,"fullscreen",u))})),this.isHTML5&&l.call(this,de.getQualityOptions.call(this)),r.call(this),c},inject(){if(this.config.loadSprite){const e=Pe.getIconUrl.call(this);e.cors&&ke(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i=!0;S.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),S.element(this.config.controls)||S.string(this.config.controls)?e=this.config.controls:(e=Pe.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:xe.getLabel.call(this)}),i=!1);let s;i&&S.string(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=pe(i,`{${e}}`,t)})),i})(e)),S.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),S.element(s)||(s=this.elements.container);if(s[S.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),S.element(this.elements.controls)||Pe.findElements.call(this),!S.empty(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>F(e,t),set(i=!1){R(e,t,i),e.setAttribute("aria-pressed",i?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{S.array(t)||S.nodeList(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(M.isEdge&&P(s),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,s=U.call(this,i);Array.from(s).forEach((e=>{R(e,this.config.classNames.hidden,!1),R(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&e<this.duration));if(null==i||!i.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let a=null;const l=`${this.config.classNames.tooltip}--visible`,r=e=>R(a,l,e);i.forEach((e=>{const t=$("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",(()=>{e.label||(a.style.left=i,a.innerHTML=e.label,r(!0))})),t.addEventListener("mouseleave",(()=>{r(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=i,n.appendChild(t)})),s.appendChild(n),this.config.tooltips.seek||(a=$("span",{class:this.config.classNames.tooltip},""),s.appendChild(a)),this.elements.markers={points:n,tip:a},this.elements.progress.appendChild(s)}};function Me(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Ne(e){const t=new URLSearchParams;return S.object(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const xe={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!K.textTracks)return void(S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Pe.setCaptionsMenu.call(this));var e,t;if(S.element(this.elements.captions)||(this.elements.captions=$("div",D(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,S.element(e)&&S.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),M.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=Me(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Te(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{O(e)}))}))}const i=se((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if(S.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";X.call(this,this.media.textTracks,e,xe.update.bind(this))}setTimeout(xe.update.bind(this),0)},update(){const e=xe.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,a=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!s.get(e))).forEach((e=>{this.debug.log("Track added",e),!s.has(e)&&s.set(e,{default:"showing"===e.mode,src:g_sPlyrURL}),"showing"===e.mode&&(e.mode="hidden"),X.call(this,e,"cuechange",(()=>xe.updateCues.call(this)))})),(a&&this.language!==i||!e.includes(n))&&(xe.setLanguage.call(this,i),xe.toggle.call(this,t&&a)),this.elements&&R(this.elements.container,this.config.classNames.captions.enabled,!S.empty(e)),S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Pe.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=S.nullOrUndefined(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=xe.getTracks.call(this),t=xe.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void xe.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),R(this.elements.container,s,n),this.captions.toggled=n,Pe.updateSetting.call(this,"captions"),Z.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout((()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=xe.getTracks.call(this);if(-1!==e)if(S.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,Pe.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),Z.call(this,this.media,"languagechange",false,{label:xe.getLabel.call(this,s)+': '+s.language.toUpperCase()})}xe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&xe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else xe.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!S.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=xe.getTracks.call(this),n=xe.findTrack.call(this,[i]);xe.set.call(this,s.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind))).filter(e=>{var v=this.captions.meta.get(e);return typeof v==='undefined'||v.src==g_sPlyrURL;});},findTrack(e,t=!1){const i=xe.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort(((e,t)=>s(t)-s(e)));let a;return e.every((e=>(a=n.find((t=>t.language===e)),!a))),a||(t?n[0]:void 0)},getCurrentTrack(){return xe.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!S.track(t)&&K.textTracks&&this.captions.toggled&&(t=xe.getCurrentTrack.call(this)),S.track(t)?S.empty(t.label)?S.empty(t.language)?ve.get("enabled",this.config):e.language.toUpperCase():t.label:ve.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!S.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!S.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=xe.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(ye)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){j(this.elements.captions);const e=$("span",D(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),Z.call(this,this.media,"cuechange")}}},Le={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"",blankVideo:"",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]',autonext:'[data-plyr="autonext"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",quality:".plyr__quality--display",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Ie="picture-in-picture",$e="inline",_e={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Oe="audio",je="video";const qe=()=>{};class De{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):qe}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):qe}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):qe}}class He{constructor(t){e(this,"onChange",(()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;S.element(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;Z.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),e(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",R(this.target,this.player.config.classNames.fullscreen.fallback,e),M.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const s=S.string(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!s,s||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),e(this,"trapFocus",(e=>{if(M.isIos||M.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=U.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())})),e(this,"update",(()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":He.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");R(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),e(this,"enter",(()=>{this.supported&&(M.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!He.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?S.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),e(this,"exit",(()=>{if(this.supported)if(M.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ie(this.player.play());else if(!He.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!S.empty(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),e(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=He.prefix,this.property=He.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(V.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),X.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),X.call(this.player,this.player.elements.container,"dblclick",(e=>{S.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),X.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return He.nativeSupported&&!this.forceFallback}static get prefix(){if(S.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!S.function(document[`${t}ExitFullscreen`])&&!S.function(document[`${t}CancelFullScreen`]))&&(e=t,!0))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,He.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||He.nativeSupported||!M.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!He.nativeSupported||this.forceFallback)return F(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return M.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Re(e,t=1){return new Promise(((i,s)=>{const n=new Image,a=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:s)(n)};Object.assign(n,{onload:a,onerror:a,src:e})}))}const Fe={addStyleHook(){R(this.elements.container,this.config.selectors.container.replace(".",""),!0),R(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Fe.toggleNativeControls.call(this,!0);S.element(this.elements.controls)||(Pe.inject.call(this),this.listeners.controls()),Fe.toggleNativeControls.call(this),this.isHTML5&&xe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Pe.updateVolume.call(this),Pe.timeUpdate.call(this),Pe.durationUpdate.call(this),Fe.checkPlaying.call(this),R(this.elements.container,this.config.classNames.pip.supported,K.pip&&this.isHTML5&&this.isVideo),R(this.elements.container,this.config.classNames.airplay.supported,K.airplay&&this.isHTML5),R(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Z.call(this,this.media,"ready")}),0),Fe.setTitle.call(this),this.poster&&Fe.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Pe.durationUpdate.call(this),this.config.mediaMetadata&&Pe.setMediaMetadata.call(this)},setTitle(){let e=ve.get("play",this.config);if(S.string(this.config.title)&&!S.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=B.call(this,"iframe");if(!S.element(e))return;const t=S.empty(this.config.title)?"video":this.config.title,i=ve.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){R(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),te.call(this).then((()=>Re(e))).catch((t=>{throw e===this.poster&&Fe.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Fe.togglePoster.call(this,!0),e))))},checkPlaying(e){R(this.elements.container,this.config.classNames.playing,this.playing),R(this.elements.container,this.config.classNames.paused,this.paused),R(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",ve.get(this.playing?"pause":"play",this.config))}));if(S.event(e)&&("timeupdate"===e.type||"play"===e.type)){"play"===e.type&&(this.lastPlayTime=Date.now());return}Fe.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{R(this.elements.container,this.config.classNames.loading,this.loading),Fe.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+3e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i||this.lastPlayTime+3e3>Date.now()))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!S.empty(e)&&S.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),S.empty(this.media.style)&&this.media.removeAttribute("style")}};class Ve{constructor(t){e(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,R(t.container,e.config.classNames.isTouch,!0)})),e(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&Q.call(t,window,"keydown keyup",this.handleKey,e,!1),Q.call(t,document.body,"click",this.toggleMenu,e),G.call(t,document.body,"touchstart",this.firstTouch)})),e(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:s}=e;!t.keyboard.global&&t.keyboard.focused&&X.call(e,i.container,"keydown keyup",this.handleKey,!1),X.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen play",(t=>{const{controls:n}=i;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);t.type==='mouseleave'&&(e.lastPlayTime=0);let a=0;["touchstart","touchmove","mousemove","play"].includes(t.type)&&(Fe.toggleControls.call(e,!0),a=e.touch?3e3:3e3),clearTimeout(s.controls),s.controls=setTimeout((()=>Fe.toggleControls.call(e,!1)),a)}));const n=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:s}=e.fullscreen,[n,a]=ce.call(e),l=ae(`aspect-ratio: ${n} / ${a}`);if(!s)return void(l?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[r,o]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=r/o>n/a;l?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?o/a*n+"px":null,t.style.margin=c?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};X.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:s}=e.fullscreen;if(s!==i.container)return;if(!e.isEmbed&&S.empty(e.config.ratio))return;n();("enterfullscreen"===t.type?X:J).call(e,window,"resize",a)}))})),e(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(X.call(e,e.media,"timeupdate seeking seeked",(t=>Pe.timeUpdate.call(e,t))),X.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Pe.durationUpdate.call(e,t))),X.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),X.call(e,e.media,"progress playing seeking seeked",(t=>Pe.updateProgress.call(e,t))),X.call(e,e.media,"volumechange",(t=>Pe.updateVolume.call(e,t))),X.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>Fe.checkPlaying.call(e,t))),X.call(e,e.media,"waiting canplay seeked playing",(t=>Fe.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=B.call(e,`.${e.config.classNames.video}`);if(!S.element(i))return;X.call(e,t.container,"click",(s=>{if(!t.settings.popup.hidden)return;([t.container,i].includes(s.target)||i.contains(s.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(s,e.restart,"restart"),this.proxy(s,(()=>{ie(e.play())}),"play")):this.proxy(s,(()=>{ie(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&X.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),X.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),X.call(e,e.media,"ratechange",(()=>{Pe.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),X.call(e,e.media,"qualitychange",(t=>{Pe.updateSetting.call(e,"quality",null,t.detail.quality)})),X.call(e,e.media,"ready qualitychange",(()=>{Pe.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");X.call(e,e.media,i,(i=>{let{detail:s={}}=i;"error"===i.type&&(s=e.media.error),Z.call(e,t.container,i.type,!0,s)}))})),e(this,"proxy",((e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let a=!0;S.function(n)&&(a=n.call(s,e)),!1!==a&&S.function(t)&&t.call(s,e)})),e(this,"bind",((e,t,i,s,n=!0)=>{const{player:a}=this,l=a.config.listeners[s],r=S.function(l);X.call(a,e,t,(e=>this.proxy(e,i,s)),n&&!r)})),e(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=M.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{ie(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.autonext,"click",(()=>{var btn=t.buttons.autonext;e.autoPlayNext=btn.pressed=btn.active=!btn.active}),"autonext"),t.buttons.autonext.click(),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{Z.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(v=>{v.stopPropagation(),v.preventDefault(),Pe.toggleMenu.call(e,v),!t.settings.popup.hidden&&t.settings.panels.home.hidden&&Pe.showMenuPanel.call(e,'home',!1,!1)}),null,!1),this.bind(t.display.quality,"click",v=>{v.stopPropagation(),v.preventDefault();if(g_nHLS<2)return;let b=!t.settings.popup.hidden,a=!t.settings.panels.quality.hidden;(!b||a)&&(Pe.toggleMenu.call(e,v),b=!b),b&&!a&&Pe.showMenuPanel.call(e,"quality",!0)},null,!1),this.bind(t.buttons.settings,"keyup",(t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Pe.toggleMenu.call(e,t)):Pe.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Pe.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),s=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",s)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,s="play-on-seeked";if(S.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const n=i.hasAttribute(s),a=["mouseup","touchend","keyup"].includes(t.type);n&&a?(i.removeAttribute(s),ie(e.play())):!a&&e.playing&&(i.setAttribute(s,""),e.pause())})),M.isIos){const t=U.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>P(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let s=i.getAttribute("seek-value");S.empty(s)&&(s=i.value),i.removeAttribute("seek-value"),e.currentTime=s/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Pe.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),M.isWebKit&&Array.from(U.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Pe.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!S.element(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Pe.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:s}=e;R(t.controls,i.classNames.noTransition,!0),Fe.toggleControls.call(e,!0),setTimeout((()=>{R(t.controls,i.classNames.noTransition,!1)}),0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>Fe.toggleControls.call(e,!1)),n)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[s,n]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),a=Math.sign(Math.abs(s)>Math.abs(n)?s:n);e.increaseVolume(a/50);const{volume:l}=e.media;(1===a&&l<1||-1===a&&l>0)&&t.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:s,type:n,altKey:a,ctrlKey:l,metaKey:r,shiftKey:o}=e,c="keydown"===n,u=c&&s===this.lastKey;if(a||l||r||o)return;if(!s)return;if(c){const n=document.activeElement;if(S.element(n)){const{editable:s}=t.config.selectors,{seek:a}=i.inputs;if(n!==a&&V(n,s))return;if(" "===e.key&&V(n,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(h=parseInt(s,10),t.currentTime=t.duration/10*h);break;case" ":case"k":u||ie(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null;var h}toggleMenu(e){Pe.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ue=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},i={},s={};function n(e,t){e=e.push?e:[e];var n,a,l,r=[],o=e.length,c=o;for(n=function(e,i){i.length&&r.push(e),--c||t(r)};o--;)a=e[o],(l=i[a])?n(a,l):(s[a]=s[a]||[]).push(n)}function a(e,t){if(e){var n=s[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function l(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function r(t,i,s,n){var a,l,o=document,c=s.async,u=(s.numRetries||0)+1,h=s.before||e,d=t.replace(/[\?|#].*$/,""),m=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((l=o.createElement("link")).rel="stylesheet",l.href=m,(a="hideFocus"in l)&&l.relList&&(a=0,l.rel="preload",l.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(l=o.createElement("img")).src=m:((l=o.createElement("script")).src=t,l.async=void 0===c||c),l.onload=l.onerror=l.onbeforeload=function(e){var o=e.type[0];if(a)try{l.sheet.cssText.length||(o="e")}catch(e){18!=e.code&&(o="e")}if("e"==o){if((n+=1)<u)return r(t,i,s,n)}else if("preload"==l.rel&&"style"==l.as)return l.rel="stylesheet";i(t,o,e.defaultPrevented)},!1!==h(t,l)&&o.head.appendChild(l)}function o(e,t,i){var s,n,a=(e=e.push?e:[e]).length,l=a,o=[];for(s=function(e,i,s){if("e"==i&&o.push(e),"b"==i){if(!s)return;o.push(e)}--a||t(o)},n=0;n<l;n++)r(e[n],s,i)}function c(e,i,s){var n,r;if(i&&i.trim&&(n=i),r=(n?s:i)||{},n){if(n in t)throw"LoadJS";t[n]=!0}function c(t,i){o(e,(function(e){l(r,e),t&&l({success:t,error:i},e),a(n,e)}),r)}if(r.returnPromise)return new Promise(c);c()}return c.ready=function(e,t){return n(e,(function(e){l(t,e)})),c},c.done=function(e){a(e,[])},c.reset=function(){t={},i={},s={}},c.isDefined=function(e){return e in t},c}()}));function Be(e){return new Promise(((t,i)=>{Ue(e,{success:t,error:i})}))}function We(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Z.call(this,this.media,e?"play":"pause"))}const Xe={setup(){this.media?(R(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),R(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&R(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=$("div",{class:this.config.classNames.video}),L(this.media,this.elements.wrapper),this.elements.poster=$("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?de.setup.call(this):this.isYouTube?Qe.setup.call(this):this.isVimeo&&ze.setup.call(this)):this.debug.warn("No media element found!")}};function Ge(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const Ze=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if(S.number(i.startTime)){if(!S.empty(e.trim())&&S.empty(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},et=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class tt{constructor(t){e(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),e(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(S.empty(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(S.function(t))t((e=>{this.thumbnails=e,i()}));else{const e=(S.string(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),e(this,"getThumbnail",(e=>new Promise((t=>{Te(e).then((i=>{const s={frames:Ze(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),t()},n.src=s.urlPrefix+s.frames[0].text}))})))),e(this,"startMove",(e=>{if(this.loaded&&S.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(e.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ee(this.seekTime);const a=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),e(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),e(this,"startScrubbing",(e=>{(S.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),e(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):G.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),e(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),e(this,"render",(()=>{this.elements.thumb.container=$("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=$("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=$("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=$("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),S.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=$("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),e(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),e(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),e(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],a=i.frames[t].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,n,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=l,i.dataset.index=t,i.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),i.onload=()=>this.showImage(i,n,e,t,a,!0),this.loadingImage=i,this.removeOldImages(i)}})),e(this,"showImage",((e,t,i,s,n,a=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))})),e(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),e(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;n.forEach((e=>{const t=e.text;if(t!==s&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],s=e+t,n=new Image;n.src=s,n.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),a||i()}}),300)})))),e(this,"getHigherQuality",((e,t,i,s)=>{if(e<this.thumbnails.length-1){let n=t.naturalHeight;this.usingSprites&&(n=i.h),n<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))}),300)}})),e(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),e(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),e(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,a=this.mousePosX-e.left-i.clientWidth/2,l=Ge(a,s,n);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),e(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=et(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),e(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=et(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const it={insertElements(e,t){S.string(t)?_(e,this.media,{src:t}):S.array(t)&&t.forEach((t=>{_(e,this.media,t)}))},change(e){N(e,"sources.length")?(de.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],O(this.media),this.media=null,S.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:s=_e.html5,src:n}]=t,a="html5"===s?i:"div",l="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:K.check(i,s,this.config.playsinline),media:$(a,l)}),this.elements.container.appendChild(this.media),S.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),S.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Fe.addStyleHook.call(this),this.isHTML5&&it.insertElements.call(this,"source",t),this.config.title=e.title,Xe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&it.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.isHTML5&&this.media.load(),S.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class st{constructor(t,i){e(this,"toggleMenuButton",(s,t)=>{H(this.elements.settings.buttons[s],!t);});if(e(this,"play",(()=>S.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>ie(this.media.play()))),this.media.play()):null)),e(this,"pause",(()=>this.playing&&S.function(this.media.pause)?this.media.pause():null)),e(this,"togglePlay",(e=>(S.boolean(e)?e:!this.playing)?this.play():this.pause())),e(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):S.function(this.media.stop)&&this.media.stop()})),e(this,"restart",(()=>{this.currentTime=0})),e(this,"rewind",(e=>{this.currentTime-=S.number(e)?e:this.config.seekTime})),e(this,"forward",(e=>{this.currentTime+=S.number(e)?e:this.config.seekTime})),e(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(S.number(e)?e:0)})),e(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),e(this,"airplay",(()=>{K.airplay&&this.media.webkitShowPlaybackTargetPicker()})),e(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=F(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=R(this.elements.container,this.config.classNames.hideControls,i);if(s&&S.array(this.config.controls)&&this.config.controls.includes("settings")&&!S.empty(this.config.settings)&&Pe.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";Z.call(this,this.media,e)}return!s}return!1})),e(this,"on",((e,t)=>{X.call(this,this.elements.container,e,t)})),e(this,"once",((e,t)=>{G.call(this,this.elements.container,e,t)})),e(this,"off",((e,t)=>{J(this.elements.container,e,t)})),e(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(O(this.elements.buttons.play),O(this.elements.captions),O(this.elements.controls),O(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),S.function(e)&&e()):(ee.call(this),de.cancelRequests.call(this),q(this.elements.original,this.elements.container),Z.call(this,this.elements.original,"destroyed",!0),S.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Fe.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&S.function(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),e(this,"supports",(e=>K.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=K.touch,this.media=t,S.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S.nodeList(this.media)||S.array(this.media))&&(this.media=this.media[0]),this.config=x({},Le,st.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new De(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",K),S.nullOrUndefined(this.media)||!S.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!K.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let a=null,l=null;switch(n){case"div":if(a=this.media.querySelector("iframe"),S.element(a)){if(l=Me(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?_e.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?_e.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",l.search.length){const e=["1","true"];e.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(S.empty(this.provider)||!Object.values(_e).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=je;break;case"video":case"audio":this.type=n,this.provider=_e.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=K.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Ve(this),this.storage=new we(this),this.media.plyr=this,S.element(this.elements.container)||(this.elements.container=$("div"),L(this.media,this.elements.container)),Fe.migrateStyles.call(this),Fe.addStyleHook.call(this),Xe.setup.call(this),this.config.debug&&X.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new He(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Je(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>ie(this.play()))),this.lastSeekTime=0,this.lastPlayTime=0,this.autoPlayNext=true,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===_e.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===_e.youtube}get isVimeo(){return this.provider===_e.vimeo}get isVideo(){return this.type===je}get isAudio(){return this.type===Oe}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=S.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return S.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=S.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;S.string(t)&&(t=Number(t)),S.number(t)||(t=this.storage.get("volume")),S.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;S.boolean(t)||(t=this.storage.get("muted")),S.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;S.number(e)&&(t=e),S.number(t)||(t=this.storage.get("speed")),S.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=Ge(t,i,s),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!S.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(S.number),n=!0;if(!i.includes(s)){const e=ne(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=S.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){it.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return S.url(e)?e:this.source}set download(e){S.url(e)&&(this.config.urls.download=e,Pe.setDownloadUrl.call(this))}set poster(e){this.isVideo?Fe.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=oe(ce.call(this));return S.array(e)?e.join(":"):e}set ratio(e){this.isVideo?S.string(e)&&re(e)?(this.config.ratio=oe(e),ue.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=S.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){xe.toggle.call(this,e,!1)}set currentTrack(e){xe.set.call(this,e,!1),xe.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){xe.setLanguage.call(this,e,!1)}get language(){return(xe.getCurrentTrack.call(this)||{}).language}set pip(e){if(!K.pip)return;const t=S.boolean(e)?e:!this.pip;S.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ie:$e),S.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return K.pip?S.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ie:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))}static supported(e,t){return K.check(e,t)}static loadSprite(e,t){return ke(e,t)}static setup(e,t={}){let i=null;return S.string(e)?i=Array.from(document.querySelectorAll(e)):S.nodeList(e)?i=Array.from(e):S.array(e)&&(i=e.filter(S.element)),S.empty(i)?null:i.map((e=>new st(e,t)))}}var nt;return st.defaults=(nt=Le,JSON.parse(JSON.stringify(nt))),st}));

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){var t,e,n;return function r(t,e,n){function o(a,s){if(!e[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=e[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,r,t,e,n)}return e[a].exports}for(var i="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=p}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function i(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}function s(t){for(;t.length()>0;)c(t)}function c(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}var l;try{throw new Error}catch(u){l=u}var p=t("./schedule"),f=t("./queue");r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},r.prototype.invokeLater=o,r.prototype.invoke=i,r.prototype.settlePromises=a,r.prototype._drainQueues=function(){s(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,s(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=r,e.exports.firstLineError=l},{"./queue":17,"./schedule":18}],2:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var o=!1,i=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){o||(o=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(i),u=new t(e);u._propagateFrom(this,1);var p=this._target();if(u._setBoundTo(l),l instanceof t){var f={promiseRejectionQueued:!1,promise:u,target:p,bindingPromise:l};p._then(e,a,void 0,u,f),l._then(s,c,void 0,u,f),u._setOnCancel(l)}else u._resolveCallback(p);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],3:[function(t,e,n){"use strict";function r(){try{Promise===i&&(Promise=o)}catch(t){}return i}var o;"undefined"!=typeof Promise&&(o=Promise);var i=t("./promise")();i.noConflict=r,e.exports=i},{"./promise":15}],4:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){var i=t("./util"),a=i.tryCatch,s=i.errorObj,c=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(i.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,s){return function(c){var l=s._boundValue();t:for(var u=0;u<t.length;++u){var p=t[u];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return i(n).call(l,c)}else if("function"==typeof p){var f=i(p).call(l,c);if(f===a)return f;if(f)return i(n).call(l,c)}else if(r.isObject(c)){for(var h=o(p),d=0;d<h.length;++d){var _=h[d];if(p[_]!=c[_])continue t}return i(n).call(l,c)}}return e}}var r=t("./util"),o=t("./es5").keys,i=r.tryCatch,a=r.errorObj;return n}},{"./es5":10,"./util":21}],6:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return o?new e:void 0}function r(){var t=i.length-1;return t>=0?i[t]:void 0}var o=!1,i=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=i.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,i=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=i,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=c,o=!1},o=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],7:[function(t,e,n){"use strict";e.exports=function(e,n,r,o){function i(t,e){return{promise:e}}function a(){return!1}function s(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+V.toString(t));r._attachCancellationCallback(t)})}catch(o){return o}}function c(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?V.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function l(){return this._onCancelField}function u(t){this._onCancelField=t}function p(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function _(){this._trace=new H(this._peekContext())}function v(t,e){if(q(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=F(t);V.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),V.notEnumerableProp(t,"__stackCleaned__",!0)}}}function y(){this._trace=void 0}function g(t,e,n,r,o){if(void 0===t&&null!==e&&Z){if(void 0!==o&&o._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var i="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),c=E(s),l=c.length-1;l>=0;--l){var u=c[l];if(!M.test(u)){var p=u.match(W);p&&(i="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0)for(var f=c[0],l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}var h="a promise was created in a "+n+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,e)}}function m(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),b(n)}function b(t,n,r){if(ut.warnings){var o,i=new D(t);if(n)r._attachExtraTrace(i);else if(ut.longStackTraces&&(o=e._peekContext()))o.attachExtraTrace(i);else{var a=F(i);i.stack=a.message+"\n"+a.stack.join("\n")}it("warning",i)||T(i,"",!0)}}function C(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function w(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function k(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],o=e.length-1,i=e[o],a=-1,s=r.length-1;s>=0;--s)if(r[s]===i){a=s;break}for(var s=a;s>=0;--s){var c=r[s];if(e[o]!==c)break;e.pop(),o--}e=r}}function E(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],o="    (No stack trace)"===r||$.test(r),i=o&&st(r);o&&!i&&(X&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function j(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||$.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function F(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?j(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:E(e)}}function T(t,e,n){if("undefined"!=typeof console){var r;if(V.isObject(t)){var o=t.stack;r=e+z(o,t)}else r=e+String(t);"function"==typeof B?B(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function x(t,e,n,r){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(i){I.throwLater(i)}"unhandledRejection"===t?it(t,n,r)||o||T(n,"Unhandled rejection "):it(t,r)}function R(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():V.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(o){}0===e.length&&(e="(empty array)")}return"(<"+S(e)+">, no stack trace)"}function S(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function P(){return"function"==typeof lt}function O(t){var e=t.match(ct);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function A(t,e){if(P()){for(var n,r,o=(t.stack||"").split("\n"),i=(e.stack||"").split("\n"),a=-1,s=-1,c=0;c<o.length;++c){var l=O(o[c]);if(l){n=l.fileName,a=l.line;break}}for(var c=0;c<i.length;++c){var l=O(i[c]);if(l){r=l.fileName,s=l.line;break}}0>a||0>s||!n||!r||n!==r||a>=s||(st=function(t){if(G.test(t))return!0;var e=O(t);return e&&e.fileName===n&&a<=e.line&&e.line<=s?!0:!1})}}function H(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);lt(this,H),e>32&&this.uncycle()}var N,L,B,U,I=e._async,D=t("./errors").Warning,V=t("./util"),Q=t("./es5"),q=V.canAttachTrace,G=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,M=/\((?:timers\.js):\d+:\d+\)/,W=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$=null,z=null,X=!1,K=!(0==V.env("BLUEBIRD_DEBUG")||!V.env("BLUEBIRD_DEBUG")&&"development"!==V.env("NODE_ENV")),J=!(0==V.env("BLUEBIRD_WARNINGS")||!K&&!V.env("BLUEBIRD_WARNINGS")),Y=!(0==V.env("BLUEBIRD_LONG_STACK_TRACES")||!K&&!V.env("BLUEBIRD_LONG_STACK_TRACES")),Z=0!=V.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(J||!!V.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function t(){for(var t=0;t<r.length;++t)r[t]._notifyUnhandledRejection();n()}function n(){r.length=0}var r=[];U=function(e){r.push(e),setTimeout(t,1)},Q.defineProperty(e,"_unhandledRejectionCheck",{value:t}),Q.defineProperty(e,"_unhandledRejectionClear",{value:n})}(),e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),U(this))},e.prototype._notifyUnhandledRejectionIsHandled=function(){x("rejectionHandled",N,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),x("unhandledRejection",L,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return b(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var n=e._getContext();L=V.contextBind(n,t)},e.onUnhandledRejectionHandled=function(t){var n=e._getContext();N=V.contextBind(n,t)};var tt=function(){};e.longStackTraces=function(){if(I.haveItemsQueued()&&!ut.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ut.longStackTraces&&P()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace,o=e.prototype._dereferenceTrace;ut.longStackTraces=!0,tt=function(){if(I.haveItemsQueued()&&!ut.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,e.prototype._dereferenceTrace=o,n.deactivateLongStackTraces(),ut.longStackTraces=!1},e.prototype._captureStackTrace=_,e.prototype._attachExtraTrace=v,e.prototype._dereferenceTrace=y,n.activateLongStackTraces()}},e.hasLongStackTraces=function(){return ut.longStackTraces&&P()};var et={unhandledrejection:{before:function(){var t=V.global.onunhandledrejection;return V.global.onunhandledrejection=null,t},after:function(t){V.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=V.global.onrejectionhandled;return V.global.onrejectionhandled=null,t},after:function(t){V.global.onrejectionhandled=t}}},nt=function(){var t=function(t,e){if(!t)return!V.global.dispatchEvent(e);var n;try{return n=t.before(),!V.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return V.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r={detail:n,cancelable:!0},o=new CustomEvent(e,r);return Q.defineProperty(o,"promise",{value:n.promise}),Q.defineProperty(o,"reason",{value:n.reason}),t(et[e],o)}}if("function"==typeof Event){var e=new Event("CustomEvent");return V.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new Event(e,{cancelable:!0});return r.detail=n,Q.defineProperty(r,"promise",{value:n.promise}),Q.defineProperty(r,"reason",{value:n.reason}),t(et[e],r)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),V.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!0,n),t(et[e],r)}}catch(n){}return function(){return!1}}(),rt=function(){return V.isNode?function(){return process.emit.apply(process,arguments)}:V.global?function(t){var e="on"+t.toLowerCase(),n=V.global[e];return n?(n.apply(V.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),ot={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},it=function(t){var e=!1;try{e=rt.apply(null,arguments)}catch(n){I.throwLater(n),e=!0}var r=!1;try{r=nt(t,ot[t].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||e};e.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&tt()),"warnings"in t){var n=t.warnings;ut.warnings=!!n,Z=ut.warnings,V.isObject(n)&&"wForgottenReturn"in n&&(Z=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!ut.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=p,e.prototype._propagateFrom=f,e.prototype._onCancel=l,e.prototype._setOnCancel=u,e.prototype._attachCancellationCallback=c,e.prototype._execute=s,at=f,ut.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!ut.monitoring?(ut.monitoring=!0,e.prototype._fireEvent=it):!t.monitoring&&ut.monitoring&&(ut.monitoring=!1,e.prototype._fireEvent=a)),"asyncHooks"in t&&V.nodeSupportsAsyncResource){var i=ut.asyncHooks,h=!!t.asyncHooks;i!==h&&(ut.asyncHooks=h,h?r():o())}return e},e.prototype._fireEvent=a,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var at=h,st=function(){return!1},ct=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;V.inherits(H,Error),n.CapturedTrace=H,H.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,o=this;void 0!==o;++r)e.push(o),o=o._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var i=e[r].stack;void 0===n[i]&&(n[i]=r)}for(var r=0;t>r;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;t-1>s?(c._parent=e[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var l=c._length+1,u=r-2;u>=0;--u)e[u]._length=l,l++;return}}}},H.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=F(t),n=e.message,r=[e.stack],o=this;void 0!==o;)r.push(E(o.stack.split("\n"))),o=o._parent;k(r),w(r),V.notEnumerableProp(t,"stack",C(n,r)),V.notEnumerableProp(t,"__stackCleaned__",!0)}};var lt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():R(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,$=t,z=e;var n=Error.captureStackTrace;return st=function(t){return G.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return $=/@/,z=e,X=!0,function(t){t.stack=(new Error).stack};var o;try{throw new Error}catch(i){o="stack"in i}return"stack"in r||!o||"number"!=typeof Error.stackTraceLimit?(z=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?R(e):e.toString()},null):($=t,z=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(B=function(t){console.warn(t)},V.isNode&&process.stderr.isTTY?B=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:V.isNode||"string"!=typeof(new Error).stack||(B=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var ut={warnings:J,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Y&&e.longStackTraces(),{asyncHooks:function(){return ut.asyncHooks},longStackTraces:function(){return ut.longStackTraces},warnings:function(){return ut.warnings},cancellation:function(){return ut.cancellation},monitoring:function(){return ut.monitoring},propagateFromFunction:function(){return at},boundValueFunction:function(){return d},checkForgottenReturns:g,setBounds:A,warn:b,deprecated:m,CapturedTrace:H,fireDomEvent:nt,fireGlobalEvent:rt}}},{"./errors":9,"./es5":10,"./util":21}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var o=function(){return r};return this.caught(n,o)}}},{}],9:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(p(this,"message","string"==typeof r?r:e),p(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return u(n,Error),n}function o(t){return this instanceof o?(p(this,"name","OperationalError"),p(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(p(this,"message",t.message),p(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new o(t)}var i,a,s=t("./es5"),c=s.freeze,l=t("./util"),u=l.inherits,p=l.notEnumerableProp,f=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),_=r("AggregateError","aggregate error");try{i=TypeError,a=RangeError}catch(v){i=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(_.prototype[y[g]]=Array.prototype[y[g]]);s.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype.isOperational=!0;var m=0;_.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",o=r.split("\n"),i=0;i<o.length;++i)o[i]=t+o[i];r=o.join("\n"),e+=r+"\n"}return m--,e},u(o,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:h,TimeoutError:d,OperationalError:o,RejectionError:o,AggregateError:_}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:i,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":10,"./util":21}],10:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var o={}.hasOwnProperty,i={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},l=function(t,e,n){return t[e]=n.value,t},u=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(e){return a}},f=function(t){try{return"[object Array]"===i.call(t)}catch(e){return!1}};e.exports={isArray:f,keys:s,names:s,defineProperty:l,getDescriptor:c,freeze:u,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],11:[function(t,e,n){"use strict";e.exports=function(e,n,r){function o(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function a(t,e){return null!=t.cancelPromise?(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0):!1}function s(){return l.call(this,this.promise._target()._settledValue())}function c(t){return a(this,t)?void 0:(f.e=t,f)}function l(t){var o=this.promise,l=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?l.call(o._boundValue()):l.call(o._boundValue(),t);if(u===r)return u;if(void 0!==u){o._setReturnedNonUndefined();var h=n(u,o);if(h instanceof e){if(null!=this.cancelPromise){if(h._isCancelled()){var d=new p("late cancellation observer");return o._attachExtraTrace(d),f.e=d,f}h.isPending()&&h._attachCancellationCallback(new i(this))}return h._then(s,c,void 0,this,void 0)}}}return o.isRejected()?(a(this),f.e=t,f):(a(this),t)}var u=t("./util"),p=e.CancellationError,f=u.errorObj,h=t("./catch_filter")(r);return o.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){a(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new o(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,l,l)},e.prototype.tap=function(t){return this._passThrough(t,1,l)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,l);var r,o=new Array(n-1),i=0;for(r=0;n-1>r;++r){var a=arguments[r];if(!u.isObject(a))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(a)));o[i++]=a}o.length=i;var s=arguments[r];return this._passThrough(h(o,s,this),1,void 0,l)},o}},{"./catch_filter":5,"./util":21}],12:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var o=[].slice.call(arguments);t&&o.pop();var r=new n(o).promise();return void 0!==t?r.spread(t):r}}},{"./util":21}],13:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var o=s(t).apply(this,arguments),a=r._popContext();return i.checkForgottenReturns(o,a,"Promise.method",r),r._resolveFromSyncValue(o),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return o("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=a.isArray(l)?s(t).apply(u,l):s(t).call(u,l)}else c=s(t)();var p=r._popContext();return i.checkForgottenReturns(c,p,"Promise.try",r),r._resolveFromSyncValue(c),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":21}],14:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&u.getPrototypeOf(t)===Error.prototype}function o(t){var e;if(r(t)){e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=u.keys(t),o=0;o<n.length;++o){var i=n[o];p.test(i)||(e[i]=t[i])}return e}return a.markAsOriginatingFromRejection(t),t}function i(t,e){return function(n,r){if(null!==t){if(n){var i=o(s(n));t._attachExtraTrace(i),t._reject(i)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),s=a.maybeWrapAsError,c=t("./errors"),l=c.OperationalError,u=t("./es5"),p=/^(?:name|message|stack|cause)$/;e.exports=i},{"./errors":9,"./es5":10,"./util":21}],15:[function(t,e,n){"use strict";e.exports=function(){function n(){}function r(t,e){if(null==t||t.constructor!==o)throw new j("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new j("expecting a function but got "+f.classString(e))}function o(t){t!==T&&r(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function i(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function s(t){var e=new o(T);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c=function(){return new j("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new o.PromiseInspection(this._target())},u=function(t){return o.reject(new j(t))},p={},f=t("./util");f.setReflectHandler(l);var h=function(){var t=process.domain;return void 0===t?null:t},d=function(){return null},_=function(){return{domain:h(),async:null}},v=f.isNode&&f.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,y=function(){return{domain:h(),async:new v("Bluebird::Promise")}},g=f.isNode?_:d;f.notEnumerableProp(o,"_getContext",g);var m=function(){g=y,f.notEnumerableProp(o,"_getContext",y)},b=function(){g=_,f.notEnumerableProp(o,"_getContext",_)},C=t("./es5"),w=t("./async"),k=new w;C.defineProperty(o,"_async",{value:k});var E=t("./errors"),j=o.TypeError=E.TypeError;o.RangeError=E.RangeError;var F=o.CancellationError=E.CancellationError;o.TimeoutError=E.TimeoutError,o.OperationalError=E.OperationalError,o.RejectionError=E.OperationalError,o.AggregateError=E.AggregateError;var T=function(){},x={},R={},S=t("./thenables")(o,T),P=t("./promise_array")(o,T,S,u,n),O=t("./context")(o),A=(O.create,t("./debuggability")(o,O,m,b)),H=(A.CapturedTrace,t("./finally")(o,S,R)),N=t("./catch_filter")(R),L=t("./nodeback"),B=f.errorObj,U=f.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),o=0;
for(n=0;e-1>n;++n){var i=arguments[n];if(!f.isObject(i))return u("Catch statement predicate: expecting an object but got "+f.classString(i));r[o++]=i}if(r.length=o,t=arguments[n],"function"!=typeof t)throw new j("The last argument to .catch() must be a function, got "+f.toString(t));return this.then(void 0,N(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},o.prototype.then=function(t,e){if(A.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+f.classString(t);arguments.length>1&&(n+=", "+f.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?u("expecting a function but got "+f.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new P(this).promise()},o.prototype.error=function(t){return this.caught(f.originatesFromRejection,t)},o.getNewLibraryCopy=e.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(T);e._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,r=U(t)(L(e,n));return r===B&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new P(t).promise()},o.cast=function(t){var e=S(t);return e instanceof o||(e=new o(T),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(T);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new j("expecting a function but got "+f.classString(t));return k.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(T),c=this._target(),l=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=g();if(0!==(50397184&l)){var p,h,d=c._settlePromiseCtx;0!==(33554432&l)?(h=c._rejectionHandler0,p=t):0!==(16777216&l)?(h=c._fulfillmentHandler0,p=e,c._unsetRejectionIsUnhandled()):(d=c._settlePromiseLateCancellationObserver,h=new F("late cancellation observer"),c._attachExtraTrace(h),p=e),k.invoke(d,c,{handler:f.contextBind(u,p),promise:s,receiver:r,value:h})}else c._addCallbacks(t,e,s,r,u);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){if(!k.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},o.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===p?void 0:void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,o=t._receiverAt(0);void 0===o&&(o=p),this._addCallbacks(e,n,r,o,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),o=t._promiseAt(e),i=t._receiverAt(e);void 0===i&&(i=p),this._addCallbacks(n,r,o,i,null)},o.prototype._addCallbacks=function(t,e,n,r,o){var i=this._length();if(i>=65531&&(i=0,this._setLength(0)),0===i)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=f.contextBind(o,t)),"function"==typeof e&&(this._rejectionHandler0=f.contextBind(o,e));else{var a=4*i-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=f.contextBind(o,t)),"function"==typeof e&&(this[a+1]=f.contextBind(o,e))}return this._setLength(i+1),i},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var n=S(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;a>s;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var l=new F("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}},o.prototype._rejectCallback=function(t,e,n){var r=f.ensureErrorObject(t),o=r===t;if(!o&&!n&&A.warnings()){var i="a promise was rejected with a non-error: "+f.classString(t);this._warn(i,!0)}this._attachExtraTrace(r,e?o:!1),this._reject(t)},o.prototype._resolveFromExecutor=function(t){if(t!==T){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var o=r._bitField;if(0===(65536&o)){r._pushContext();var i;e===x?n&&"number"==typeof n.length?i=U(t).apply(this._boundValue(),n):(i=B,i.e=new j("cannot .spread() a non-array: "+f.classString(n))):i=U(t).call(e,n);var a=r._popContext();o=r._bitField,0===(65536&o)&&(i===R?r._reject(n):i===B?r._rejectCallback(i.e,!1):(A.checkForgottenReturns(i,a,"",r,this),r._resolveCallback(i)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,r,i){var a=t instanceof o,s=this._bitField,c=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),r instanceof H&&r.isFinallyHandler()?(r.cancelPromise=t,U(e).call(r,i)===B&&t._reject(B.e)):e===l?t._fulfill(l.call(r)):r instanceof n?r._promiseCancelled(t):a||t instanceof P?t._cancel():r.cancel()):"function"==typeof e?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,i,t)):e.call(r,i,t):r instanceof n?r._isResolved()||(0!==(33554432&s)?r._promiseFulfilled(i,t):r._promiseRejected(i,t)):a&&(c&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,o,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():k.settlePromises(this),this._dereferenceTrace())}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?k.fatalError(t,f.isNode):void((65535&e)>0?k.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&C.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),o.defer=o.pending=function(){A.deprecated("Promise.defer","new Promise");var t=new o(T);return{promise:t,resolve:i,reject:a}},f.notEnumerableProp(o,"_makeSelfResolutionError",c),t("./method")(o,T,S,u,A),t("./bind")(o,T,S,A),t("./cancel")(o,P,u,A),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,P,S,T,k),o.Promise=o,o.version="3.7.2",f.toFastProperties(o),f.toFastProperties(o.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(void 0),s(!1),s(new o(T)),A.setBounds(w.firstLineError,f.lastLineError),o}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21,async_hooks:void 0}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,o,i){function a(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function s(t){var r=this._promise=new e(n);t instanceof e&&(r._propagateFrom(t,3),t.suppressUnhandledRejections()),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=t("./util");c.isArray;return c.inherits(s,i),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function l(t,n){var i=r(this._values,this._promise);if(i instanceof e){i=i._target();var s=i._bitField;if(this._values=i,0===(50397184&s))return this._promise._setAsyncGuaranteed(),i._then(l,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(i._reason()):this._cancel();i=i._value()}if(i=c.asArray(i),null===i){var u=o("expecting an array or an iterable object but got "+c.classString(i)).reason();return void this._promise._rejectCallback(u,!1)}return 0===i.length?void(-5===n?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(i)},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var o=this._promise,i=!1,a=null,s=0;n>s;++s){var c=r(t[s],o);c instanceof e?(c=c._target(),a=c._bitField):a=null,i?null!==a&&c.suppressUnhandledRejections():null!==a?0===(50397184&a)?(c._proxy(this,s),this._values[s]=c):i=0!==(33554432&a)?this._promiseFulfilled(c._value(),s):0!==(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):i=this._promiseFulfilled(c,s)}i||o._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":21}],17:[function(t,e,n){"use strict";function r(t,e,n,r,o){for(var i=0;o>i;++i)n[i+r]=t[i+e],t[i+e]=void 0}function o(t){this._capacity=t,this._length=0,this._front=0}o.prototype._willBeOverCapacity=function(t){return this._capacity<t},o.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},o.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var o=this._front+r-3;this._checkCapacity(r);var i=this._capacity-1;this[o+0&i]=t,this[o+1&i]=e,this[o+2&i]=n,this._length=r},o.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},o.prototype.length=function(){return this._length},o.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},o.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,o=this._length,i=n+o&e-1;r(this,0,this,e,i)},e.exports=o},{}],18:[function(t,e,n){"use strict";var r,o=t("./util"),i=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=o.getNativePromise();if(o.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,c=process.nextTick;r=o.isRecentNode?function(t){s.call(global,t)}:function(t){c.call(process,t)}}else if("function"==typeof a&&"function"==typeof a.resolve){var l=a.resolve();r=function(t){l.then(t)}}else r="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),o=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});o.observe(r,e);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),i()}}():"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:i;e.exports=r},{"./util":21}],19:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},i=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return i.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],20:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(u(t)){if(t instanceof e)return t;var o=i(t);if(o===l){r&&r._pushContext();var c=e.reject(o.e);return r&&r._popContext(),c}if("function"==typeof o){if(a(t)){var c=new e(n);return t._then(c._fulfill,c._reject,void 0,c,null),c}return s(t,o,r)}}return t}function o(t){return t.then}function i(t){try{return o(t)}catch(e){return l.e=e,l}}function a(t){try{return p.call(t,"_promise0")}catch(e){return!1}}function s(t,r,o){function i(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,p,!0),s=null)}var s=new e(n),u=s;o&&o._pushContext(),s._captureStackTrace(),o&&o._popContext();var p=!0,f=c.tryCatch(r).call(t,i,a);return p=!1,s&&f===l&&(s._rejectCallback(f.e,!0,!0),s=null),u}var c=t("./util"),l=c.errorObj,u=c.isObject,p={}.hasOwnProperty;return r}},{"./util":21}],21:[function(t,e,n){"use strict";function r(){try{var t=R;return R=null,t.apply(this,arguments)}catch(e){return x.e=e,x}}function o(t){return R=t,r}function i(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return i(t)?new Error(v(t)):t}function c(t,e){var n,r=t.length,o=new Array(r+1);for(n=0;r>n;++n)o[n]=t[n];return o[n]=e,o}function l(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function u(t,e,n){if(i(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function p(t){throw t}function f(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=A.test(t+"")&&F.names(t).length>0;if(n||r||o)return!0}return!1}catch(i){return!1}}function h(t){function e(){}function n(){return typeof r.foo}e.prototype=t;var r=new e;return n(),n(),t}function d(t){return H.test(t)}function _(t,e,n){for(var r=new Array(t),o=0;t>o;++o)r[o]=e+o+n;return r}function v(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function g(t){try{u(t,"isOperational",!0)}catch(e){}}function m(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function b(t){return y(t)&&F.propertyIsWritable(t,"stack")}function C(t){return{}.toString.call(t)}function w(t,e,n){for(var r=F.names(t),o=0;o<r.length;++o){var i=r[o];if(n(i))try{F.defineProperty(e,i,F.getDescriptor(t,i))}catch(a){}}}function k(t){return I?process.env[t]:void 0}function E(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"===C(t))return Promise}catch(e){}}function j(t,e){if(null===t||"function"!=typeof e||e===D)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var r=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=r,t[1]=this,n.runInAsyncScope.apply(n,t)}}return e}var F=t("./es5"),T="undefined"==typeof navigator,x={e:{}},R,S="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,P=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},O=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],o=Object.create(null);null!=t&&!e(t);){var i;try{i=n(t)}catch(a){return r}for(var s=0;s<i.length;++s){var c=i[s];if(!o[c]){o[c]=!0;var l=Object.getOwnPropertyDescriptor(t,c);null!=l&&null==l.get&&null==l.set&&r.push(c)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var o=[];t:for(var i in n)if(r.call(n,i))o.push(i);else{for(var a=0;a<t.length;++a)if(r.call(t[a],i))continue t;o.push(i)}return o}}(),A=/this\s*\.\s*\S+\s*=/,H=/^[a-z$_][a-z$_0-9]*$/i,N=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(v(t))}:function(t){if(b(t))return t;try{throw new Error(v(t))}catch(e){return e}}}(),L=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};L=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?B(t):null}}var U="undefined"!=typeof process&&"[object process]"===C(process).toLowerCase(),I="undefined"!=typeof process&&"undefined"!=typeof process.env,D,V={setReflectHandler:function(t){D=t},isClass:f,isIdentifier:d,inheritedDataKeys:O,getDataPropertyOrDefault:l,thrower:p,isArray:F.isArray,asArray:L,notEnumerableProp:u,isPrimitive:i,isObject:a,isError:y,canEvaluate:T,errorObj:x,tryCatch:o,inherits:P,withAppended:c,maybeWrapAsError:s,toFastProperties:h,filledRange:_,toString:v,canAttachTrace:b,ensureErrorObject:N,originatesFromRejection:m,markAsOriginatingFromRejection:g,classString:C,copyDescriptors:w,isNode:U,hasEnvVariables:I,env:k,global:S,getNativePromise:E,contextBind:j};V.isRecentNode=V.isNode&&function(){var t;return process.versions&&process.versions.node?t=process.versions.node.split(".").map(Number):process.version&&(t=process.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),V.nodeSupportsAsyncResource=V.isNode&&function(){var e=!1;try{var n=t("async_hooks").AsyncResource;e="function"==typeof n.prototype.runInAsyncScope}catch(r){e=!1}return e}(),V.isNode&&V.toFastProperties(process);try{throw new Error}catch(Q){V.lastLineError=Q}e.exports=V},{"./es5":10,async_hooks:void 0}]},{},[3])(3)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);	
</script>
<svg class=hide>
<symbol id="plyr-captions-off" viewBox="0 0 18 18"><path d="M1 1c-.6 0-1 .4-1 1v11c0 .6.4 1 1 1h4.6l2.7 2.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l2.7-2.7H17c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1H1zm4.52 10.15c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41C8.47 4.96 7.46 3.76 5.5 3.76c-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69zm7.57 0c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41c-.28-1.15-1.29-2.35-3.25-2.35-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69z" fill-rule="evenodd" fill-opacity=".5"/></symbol>
<symbol id="plyr-captions-on" viewBox="0 0 18 18"><path d="M1 1c-.6 0-1 .4-1 1v11c0 .6.4 1 1 1h4.6l2.7 2.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l2.7-2.7H17c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1H1zm4.52 10.15c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41C8.47 4.96 7.46 3.76 5.5 3.76c-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69zm7.57 0c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41c-.28-1.15-1.29-2.35-3.25-2.35-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69z" fill-rule="evenodd"/></symbol>
<symbol id="plyr-enter-fullscreen" viewBox="4 4 20 20"><g transform="matrix(1,0,0,1,15,15)"><g><path fill="rgb(255,255,255)" fill-opacity="1" d=" M3.5,6 C2.9500000476,6 2.5,6.4499998092 2.5,7 C2.5,7.5500001907 2.9500000476,8 3.5,8 C3.5,8 6,8 6,8 C7.0999999046,8 8,7.0999999046 8,6 C8,6 8,3.5 8,3.5 C8,2.9500000476 7.5500001907,2.5 7,2.5 C6.4499998092,2.5 6,2.9500000476 6,3.5 C6,3.5 6,5 6,5 C6,5.5100002288 5.6100001335,5.9400000572 5.1199998855,5.9899997711 C5.1199998855,5.9899997711 5,6 5,6 C5,6 3.5,6 3.5,6z M-6,3.5 C-6,2.9500000476 -6.4499998092,2.5 -7,2.5 C-7.5500001907,2.5 -8,2.9500000476 -8,3.5 C-8,3.5 -8,6 -8,6 C-8,7.0999999046 -7.0999999046,8 -6,8 C-6,8 -3.5,8 -3.5,8 C-2.9500000476,8 -2.5,7.5500001907 -2.5,7 C-2.5,6.4499998092 -2.9500000476,6 -3.5,6 C-3.5,6 -5,6 -5,6 C-5.5100002288,6 -5.9400000572,5.6100001335 -5.9899997711,5.1199998855 C-5.9899997711,5.1199998855 -6,5 -6,5 C-6,5 -6,3.5 -6,3.5z M3.5,-6 C2.9500000476,-6 2.5,-6.4499998092 2.5,-7 C2.5,-7.5500001907 2.9500000476,-8 3.5,-8 C3.5,-8 6,-8 6,-8 C7.0999999046,-8 8,-7.0999999046 8,-6 C8,-6 8,-3.5 8,-3.5 C8,-2.9500000476 7.5500001907,-2.5 7,-2.5 C6.4499998092,-2.5 6,-2.9500000476 6,-3.5 C6,-3.5 6,-5 6,-5 C6,-5.5100002288 5.6100001335,-5.9400000572 5.1199998855,-5.9899997711 C5.1199998855,-5.9899997711 5,-6 5,-6 C5,-6 3.5,-6 3.5,-6z M-6,-3.5 C-6,-2.9500000476 -6.4499998092,-2.5 -7,-2.5 C-7.5500001907,-2.5 -8,-2.9500000476 -8,-3.5 C-8,-3.5 -8,-6 -8,-6 C-8,-7.0999999046 -7.0999999046,-8 -6,-8 C-6,-8 -3.5,-8 -3.5,-8 C-2.9500000476,-8 -2.5,-7.5500001907 -2.5,-7 C-2.5,-6.4499998092 -2.9500000476,-6 -3.5,-6 C-3.5,-6 -5,-6 -5,-6 C-5.5100002288,-6 -5.9400000572,-5.6100001335 -5.9899997711,-5.1199998855 C-5.9899997711,-5.1199998855 -6,-5 -6,-5 C-6,-5 -6,-3.5 -6,-3.5z"></path></g></g></symbol>
<symbol id="plyr-exit-fullscreen" viewBox="4 4 20 20"><g transform="matrix(1,0,0,1,15,15)"><g><path fill="rgb(255,255,255)" fill-opacity="1" d=" M-3,-7.5 C-3,-8.0500001907 -3.4500000476,-8.5 -4,-8.5 C-4.5500001907,-8.5 -5,-8.0500001907 -5,-7.5 C-5,-7.5 -5,-6 -5,-6 C-5,-5.4499998092 -5.4499998092,-5 -6,-5 C-6,-5 -7.5,-5 -7.5,-5 C-8.0500001907,-5 -8.5,-4.5500001907 -8.5,-4 C-8.5,-3.4500000476 -8.0500001907,-3 -7.5,-3 C-7.5,-3 -5,-3 -5,-3 C-3.9000000953,-3 -3,-3.9000000953 -3,-5 C-3,-5 -3,-7.5 -3,-7.5z M7.5,-3 C8.0500001907,-3 8.5,-3.4500000476 8.5,-4 C8.5,-4.5500001907 8.0500001907,-5 7.5,-5 C7.5,-5 6,-5 6,-5 C5.4499998092,-5 5,-5.4499998092 5,-6 C5,-6 5,-7.5 5,-7.5 C5,-8.0500001907 4.5500001907,-8.5 4,-8.5 C3.4500000476,-8.5 3,-8.0500001907 3,-7.5 C3,-7.5 3,-5 3,-5 C3,-3.9000000953 3.9000000953,-3 5,-3 C5,-3 7.5,-3 7.5,-3z M-3,7.5 C-3,8.0500001907 -3.4500000476,8.5 -4,8.5 C-4.5500001907,8.5 -5,8.0500001907 -5,7.5 C-5,7.5 -5,6 -5,6 C-5,5.4499998092 -5.4499998092,5 -6,5 C-6,5 -7.5,5 -7.5,5 C-8.0500001907,5 -8.5,4.5500001907 -8.5,4 C-8.5,3.4500000476 -8.0500001907,3 -7.5,3 C-7.5,3 -5,3 -5,3 C-3.9000000953,3 -3,3.9000000953 -3,5 C-3,5 -3,7.5 -3,7.5z M7.5,3 C8.0500001907,3 8.5,3.4500000476 8.5,4 C8.5,4.5500001907 8.0500001907,5 7.5,5 C7.5,5 6,5 6,5 C5.4499998092,5 5,5.4499998092 5,6 C5,6 5,7.5 5,7.5 C5,8.0500001907 4.5500001907,8.5 4,8.5 C3.4500000476,8.5 3,8.0500001907 3,7.5 C3,7.5 3,5 3,5 C3,3.9000000953 3.9000000953,3 5,3 C5,3 7.5,3 7.5,3z"></path></g></g></symbol>
<symbol id="plyr-fast-forward" viewBox="0 0 18 18"><path d="M7.875 7.171L0 1v16l7.875-6.171V17L18 9 7.875 1z"/></symbol>
<symbol id="plyr-muted" viewBox="0 0 18 18"><path d="M12.4 12.5l2.1-2.1 2.1 2.1 1.4-1.4L15.9 9 18 6.9l-1.4-1.4-2.1 2.1-2.1-2.1L11 6.9 13.1 9 11 11.1zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z"/></symbol>
<symbol id="plyr-pause" viewBox="0 0 18 18"><path d="M6 1H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1zm6 0c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1h-3z"/></symbol>
<symbol id="plyr-pip" viewBox="0 0 18 18"><path d="M13.293 3.293L7.022 9.564l1.414 1.414 6.271-6.271L17 7V1h-6z"/><path d="M13 15H3V5h5V3H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1v-6h-2v5z"/></symbol>
<symbol id="plyr-play" viewBox="0 0 18 18"><path d="M15.562 8.1L3.87.225c-.818-.562-1.87 0-1.87.9v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z"/></symbol>
<symbol id="plyr-restart" viewBox="0 0 17 17"><path d="M9.7 1.2l.7 6.4 2.1-2.1c1.9 1.9 1.9 5.1 0 7-.9 1-2.2 1.5-3.5 1.5-1.3 0-2.6-.5-3.5-1.5-1.9-1.9-1.9-5.1 0-7 .6-.6 1.4-1.1 2.3-1.3l-.6-1.9C6 2.6 4.9 3.2 4 4.1 1.3 6.8 1.3 11.2 4 14c1.3 1.3 3.1 2 4.9 2 1.9 0 3.6-.7 4.9-2 2.7-2.7 2.7-7.1 0-9.9L16 1.9l-6.3-.7z"/></symbol>
<symbol id="plyr-rewind" viewBox="0 0 18 18"><path d="M10.125 1L0 9l10.125 8v-6.171L18 17V1l-7.875 6.171z"/></symbol>
<symbol id="plyr-settings" viewBox="0 0 18 18"><path d="M16.135 7.784a2 2 0 01-1.23-2.969c.322-.536.225-.998-.094-1.316l-.31-.31c-.318-.318-.78-.415-1.316-.094a2 2 0 01-2.969-1.23C10.065 1.258 9.669 1 9.219 1h-.438c-.45 0-.845.258-.997.865a2 2 0 01-2.969 1.23c-.536-.322-.999-.225-1.317.093l-.31.31c-.318.318-.415.781-.093 1.317a2 2 0 01-1.23 2.969C1.26 7.935 1 8.33 1 8.781v.438c0 .45.258.845.865.997a2 2 0 011.23 2.969c-.322.536-.225.998.094 1.316l.31.31c.319.319.782.415 1.316.094a2 2 0 012.969 1.23c.151.607.547.865.997.865h.438c.45 0 .845-.258.997-.865a2 2 0 012.969-1.23c.535.321.997.225 1.316-.094l.31-.31c.318-.318.415-.781.094-1.316a2 2 0 011.23-2.969c.607-.151.865-.547.865-.997v-.438c0-.451-.26-.846-.865-.997zM9 12a3 3 0 110-6 3 3 0 010 6z"/></symbol>
<symbol id="plyr-volume" viewBox="0 0 18 18"><path d="M15.6 3.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4C15.4 5.9 16 7.4 16 9c0 1.6-.6 3.1-1.8 4.3-.4.4-.4 1 0 1.4.2.2.5.3.7.3.3 0 .5-.1.7-.3C17.1 13.2 18 11.2 18 9s-.9-4.2-2.4-5.7z"/><path d="M11.282 5.282a.909.909 0 000 1.316c.735.735.995 1.458.995 2.402 0 .936-.425 1.917-.995 2.487a.909.909 0 000 1.316c.145.145.636.262 1.018.156a.725.725 0 00.298-.156C13.773 11.733 14.13 10.16 14.13 9c0-.17-.002-.34-.011-.51-.053-.992-.319-2.005-1.522-3.208a.909.909 0 00-1.316 0zm-7.496.726H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z"/></symbol>
<symbol id="plyr-toggle-on" viewBox="0 0 16 16"><path d="M7 5H3a3 3 0 0 0 0 6h4a4.995 4.995 0 0 1-.584-1H3a2 2 0 1 1 0-4h3.416c.156-.357.352-.692.584-1z"/><path d="M16 8A5 5 0 1 1 6 8a5 5 0 0 1 10 0z"/></symbol>
<symbol id="plyr-toggle-off" viewBox="0 0 16 16"><path d="M9 11c.628-.836 1-1.874 1-3a4.978 4.978 0 0 0-1-3h4a3 3 0 1 1 0 6H9z"/><path d="M5 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 5 3a5 5 0 0 0 0 10z"/></symbol>
<symbol id="plyr-asterisk" viewBox="0 0 48 48"><path d="M15 24H33" stroke="#666" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M19.5 16.2058L28.5 31.7942" stroke="#666" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M28.5 16.2058L19.5 31.7942" stroke="#666" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></symbol>
</svg>
</head>
<body bgcolor=#f0f0f0 onload="initArticle();">

<div id=divSpace style="height:2.5em;margin-top:0.5em"></div>
<script src="data.js"></script>

<div id=divBack style="position:fixed;top:2.5em;z-index:1000;display:none" onclick="showPicList();" title="返回图片目录">
<svg id=svgBack class="ic ic2" viewBox="0 0 447.976 447.976" style="padding-left:8px;width:40px;height:40px;cursor:pointer"><g transform="rotate(180 223.988 223.988)">
<path style="fill:#87d2f0" d="M433.936,190.044l-128-128c-18.752-18.752-49.12-18.752-67.872,0 c-18.752,18.72-18.752,49.152,0,67.872l94.048,94.08l-94.048,94.048c-18.752,18.752-18.752,49.12,0,67.872 c9.344,9.408,21.632,14.08,33.92,14.08s24.576-4.672,33.952-14.048l128-128C452.656,239.196,452.656,208.796,433.936,190.044z"/>
<path style="fill:#ffc107" d="M209.936,190.044l-128-128c-18.752-18.752-49.12-18.752-67.872,0 c-18.752,18.72-18.752,49.152,0,67.872l94.048,94.08l-94.048,94.048c-18.752,18.752-18.752,49.12,0,67.872	c9.344,9.408,21.632,14.08,33.92,14.08s24.576-4.672,33.952-14.048l128-128C228.656,239.196,228.656,208.796,209.936,190.044z"/>
</g></svg></div>
<svg class=hide><defs><g id=icon><path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/><path d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54A.505.505 0 0 1 1 12.5v-9a.5.5 0 0 1 .5-.5h13z"/></g></defs></svg>
<div id=divDDM align=right style="position:fixed;top:2.5em;right:0;z-index:1000;display:none;max-width:100%" onmouseenter="showMenu(1);" onmouseleave="showMenu(0);" onclick="showMenu(0);"><div id=btnMenu class=bm onclick="showMenu();event.stopPropagation();">
<svg id=svgMenu width=28 height=38 fill=white viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/></svg>
</div>
<div id=divMenu1 class=dm style="display:none" tabindex=0 onscroll="return false;"></div><div id=divMenu2 class=dm style="display:none" tabindex=0 onscroll="return false;"></div></div>

<table id=tbMenu cellspacing=0 cellpadding=0 width=100% bgcolor=#8490ea style="height:2.5em;position:fixed;top:0;z-index:1000;table-layout:fixed;box-shadow:2px 2px 5px #aaa"><tr>
<td id=td0 class=menu2 width=20% style="display:none;text-align:left;overflow:hidden"><nobr><img src="images/lighthouse.png" onclick="scroll2(0);" style="height:2.2em;padding:0 0.5em;vertical-align:middle;cursor:pointer"><span style="vertical-align:middle;font-family:隶书;font-size:2em;color:#f8f8f8">畅游浏览</span></nobr></td>
<td id=td1 class=menu onclick="javascript:jmp(d1);"><svg class=hd>
  <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
  <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
</svg> 首 页</td>
<td id=td6 class=menu onclick="javascript:jmp(d6);"><svg width=16 height=16 viewBox="0 0 24 24" fill="none" stroke="#f5da55" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>
</svg> 新 闻</td>
<td id=td2 class=menu onclick="javascript:jmp(d2);"><svg class=hd>
  <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
</svg> 软 件</td>
<td id=td3  class=menu onclick="javascript:jmp(d3);"><svg class=hd><use xlink:href="#icon"></use>
</svg> 图 片</td>
<td id=td4 class=menu onclick="javascript:jmp(d4);"><svg class=hd>
  <path fill-rule="evenodd" d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5z"/>
</svg> 视 频</td>
<td id=td5 class=menu onclick="javascript:jmp(d5);"><svg width=20 height=20 fill=#f5da55 viewBox="-1 -1 15 15">
  <path d="M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"/>
</svg> 三 退</td>
<td id=td7 class=menu2 width=20% style="display:none"></td>
</tr></table>

<div id=divMain>

<div id=d1 style="display:none">
<blockquote id=bq><br>
<table id=tbNav cellpadding=0 cellspacing=0><tr valign=top>
<td width=100% class=ns><a id=aList href="javascript:showItem(-1);" title="目录"><svg class=ic viewBox="0 0 512 512"><circle cx=256 cy=256 fill=#8cc7fc r="256"/>
<path d="m266.185 263.008-20.001-20.001-135.184 135.184 133.541 133.541c3.8.167 7.617.268 11.459.268 141.385 0 256-114.615 256-256 0-5.853-.215-11.656-.602-17.411l-110.397-110.397z" fill="#6cb1f8"/><path d="m256 403.809-145-25.617v-250l145 25.617 13.588 121.412z" fill="#fff"/><path d="m256 403.809 145-25.617v-250l-145 25.617z" fill="#e9edf5"/><path d="m256 233.809-120-25.617v-30l120 25.617 4.059 14.148z" fill="#c57def"/><path d="m256 233.809 120-25.617v-30l-120 25.617z" fill="#9f4ad4"/><path d="m256 293.809-120-25.617v-30l120 25.617 4.059 13.5z" fill="#f4cf31"/><path d="m256 293.809 120-25.617v-30l-120 25.617z" fill="#f2b836"/><path d="m256 353.809-120-25.617v-30l120 25.617 4.059 14.148z" fill="#f4cf31"/><path d="m256 353.809 120-25.617v-30l-120 25.617z" fill="#f2b836"/>
</svg></a><span id=spSpace>　</span><a href="javascript:showHelp();" title="说明"><svg class=ic viewBox="0 0 508 508">
<circle fill=#90DFAA cx="254" cy="254" r="254"/><path fill=#fff d="M263.3,87.5c-86.8,0-157.2,70.4-157.2,157.2c0,27.2,6.9,52.8,19.1,75.1l-19.1,82.1l82.1-19.1 c22.3,12.2,47.9,19.1,75.1,19.1c86.8,0,157.2-70.4,157.2-157.2S350.1,87.5,263.3,87.5z"/><path fill=#FF7058 d="M271.6,280.3h-29.3v-15.8c0-6.9,0.8-12.1,2.5-15.4c1.6-3.4,5.2-7.8,10.8-13.3l18.9-18.9	c4-4.3,6-9.7,6-16.1c0-6.4-2.1-11.7-6.2-15.9c-4.2-4.2-9.5-6.4-16.1-6.4s-12,2-16.5,6.1c-4.4,4.1-7,9.5-7.7,16.2h-31.4	c1.7-15.4,7.7-27.4,18-36.1c10.3-8.7,23.1-13.1,38.5-13.1s27.9,4.2,37.6,12.6c9.7,8.4,14.5,20.1,14.5,35.1c0,10.4-2.8,19-8.5,25.9 c-3.3,4.1-5.8,7.1-7.5,8.8s-4,3.9-6.9,6.6c-2.9,2.7-5.3,5-7.3,7s-3.6,3.7-4.8,5.1c-3.1,3.8-4.7,9.2-4.7,16.1v11.5H271.6z M257.5,337.9c-5.4,0-10.1-1.9-14.1-5.6s-6-8.2-6-13.5s1.9-9.8,5.8-13.6c3.9-3.8,8.6-5.7,14-5.7c5.4,0,10.1,1.9,14.1,5.6	s5.9,8.2,5.9,13.5s-1.9,9.8-5.8,13.6C267.6,336,262.9,337.9,257.5,337.9z"/>
</svg></a>　<svg fill="#aaa" viewBox="0 0 16 16" style="width:24px;cursor:pointer" class=ic onclick="switchBG()"><title>切换背景色</title><path d="M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/><path d="M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8zm-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7z"/></svg></td>
<td style="padding:0 1em"><a id=aZoom href="javascript:zoom(true);">
<svg id=svgWide viewBox="0 0 612 612.002" class=ic><circle fill=#63B5F7 cx="306" cy="306" r="306"/><path fill=#FFCA28 d="M215.745,330.38l34.023,30.644c10.013,9.007,10.826,24.434,1.82,34.431 c-9.006,10.048-24.434,10.827-34.447,1.821l-81.281-73.17c-5.119-4.616-8.063-11.216-8.063-18.125s2.943-13.509,8.08-18.126 l81.281-73.136c4.647-4.195,10.484-6.26,16.304-6.26c6.666,0,13.314,2.731,18.143,8.079c9.007,9.998,8.193,25.409-1.82,34.432 l-34.073,30.643l181.543,0.01l-34.024-30.643c-10.013-9.006-10.826-24.435-1.82-34.432c9.006-10.047,24.433-10.826,34.447-1.82 l81.281,73.169c5.121,4.617,8.063,11.216,8.063,18.126c0,6.908-2.941,13.508-8.079,18.125l-81.28,73.137 c-4.649,4.195-10.486,6.26-16.306,6.26c-6.666,0-13.314-2.731-18.143-8.079c-9.006-9.998-8.193-25.41,1.821-34.433l34.072-30.643"/></svg>
<svg id=svgNarrow viewBox="0 0 612 612.002" class=ic><circle fill=#63B5F7 cx="306" cy="306" r="306"/><path fill=#FFCA28 d="M119.695,329.726c-12.557,0-22.72-10.164-22.72-22.721c0-12.557,10.164-22.721,22.72-22.721H119.5h74.582 l-31.703-28.551c-9.331-8.392-10.088-22.766-1.696-32.082c8.391-9.361,22.766-10.088,32.096-1.696l75.735,68.176 c4.771,4.302,7.513,10.452,7.513,16.889c0,6.438-2.742,12.588-7.528,16.889l-75.735,68.147c-4.333,3.907-9.769,5.831-15.192,5.831	c-6.21,0-12.406-2.544-16.904-7.527c-8.392-9.315-7.634-23.676,1.696-32.082l31.748-28.552h-74.944"/><path fill=#FFC107 d="M492.833,330.726h-74.944l31.748,28.552c9.331,8.406,10.088,22.767,1.696,32.082	c-4.498,4.983-10.693,7.527-16.903,7.527c-5.424,0-10.859-1.924-15.192-5.831l-75.735-68.147 c-4.786-4.301-7.527-10.451-7.527-16.889s2.741-12.587,7.513-16.889l75.735-68.176c9.33-8.392,23.705-7.665,32.096,1.696	c8.392,9.315,7.634,23.69-1.696,32.082l-31.703,28.551H492.5h-0.194c12.557,0,22.72,10.164,22.72,22.721 c0,12.557-10.163,22.721-22.72,22.721"/></svg>
</a></td>
<td><a id=aPrev href="javascript:prevItem();" title="上一篇"><svg class=ic viewBox="0 0 511.982 511.982"><use xlink:href="#arrow" transform="rotate(180 255.991 255.991)"></use></svg></a></td>
<td style="padding:7px 5px 0"><span id="spIndex" style="color:#abc1ea;font-size:1.3em;white-space:nowrap"></span></td>
<td><a id=aNext href="javascript:nextItem();" title="下一篇"><svg class=ic viewBox="0 0 511.982 511.982">
<g id=arrow><circle fill=#6BC9EF cx="255.991" cy="255.991" r="255.991"/><polygon fill=#F9F9F9 points="195.425,255.991 132.623,154.357 379.359,255.991 132.623,357.643"/><polygon fill=#D9D9DD points="362.316,248.972 379.359,255.991 132.623,357.643 144.278,338.804"/>	<polygon fill=#D9D9DD points="195.425,255.991 132.623,154.357 144.278,159.158 199.768,248.972"/></g>
</svg>	</a></td></tr></table>
<span id=spContent style="font-size:1.08em;line-height:1.3;text-align:left"></span>
<img id=banner src="images/banner.jpg" width=100% height=32>
</blockquote><br>

<!-- 可修改下面的提示内容-->

<pre id=help>
1. 本 WiFi 不能访问互联网。
2. 如果页面不显示，请刷新一下。
3. 图片栏目，点击图片可看大图，再点击大图可返回。
4. 如果点击不能下载，请从手机浏览器（输入任意网址）打开本站后下载。
5. 多数浏览器离线后仍可访问本站：请先在浏览器中将本站加入收藏，或添加快捷图标到桌面。
6. 当断开本 WiFi 并连接互联网时：新闻栏目会显示新闻，视频栏目会加载在线视频，浏览器还会自动打开动态网（需先允许）。注意：连接互联网时不要刷新本页面。

登录本热点后有的手机会弹出页面显示本站，此页面会有一些限制，比如不能收藏/添加书签、安卓系统点击不能下载、苹果系统点击“输入化名”没反应等。此时可以打开手机的浏览器，输入任意网址打开本站。

您也可以先浏览一些真相文章，请点击：<a href="javascript:showItem(-1);">目录</a>。
</pre>

<a href="" id=aFile></a>

<script>

	var g_sBGColor = "#f0f0f0"	// 背景色
	var g_nBorder = 1;				// 1: 横屏有蓝边 2: 竖屏有蓝边 3: 有蓝边
	var g_bWideArticle = 0;		// 1: 文章宽页面显示（横屏时）
	var g_bSmallImageList = 0;	// 1: 图片列表用小图（横屏时）

	var g_nInit = 2;						// 打开首页时显示 0: 文章 1: 目录 2: 说明
	var g_nOrd = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18];	// 文章顺序，交换数字可调整顺序，删除数字不显示文章。

	var g_nTotal = 0, g_nIndex = 0, g_sArticle = [], g_sList = '', g_sHelp;

	var sUA = navigator.userAgent;
	var g_bAndroid = sUA.indexOf("Android") >= 0 || sUA.indexOf("Adr") >= 0;
	var g_bApple = /macintosh|mac os x/i.test(sUA);
	var g_bIE11 = sUA.indexOf("Trident") > -1 && sUA.indexOf("rv:11.0") > -1;
	var g_bFireFox = sUA.indexOf("Firefox") > -1 || g_bIE11;
	var g_bIE = sUA.indexOf("MSIE") > -1 || (Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject")) || ("ActiveXObject" in window);
	var g_bHTTP = window.location.href.substr(0,4).toLowerCase() == "http";
	var g_bPlyr = !g_bIE11 && "undefined"!=typeof Plyr;

	var g_bTui = 1;	// 显示三退按钮（设为 1 时）
	var g_sTui = "我要三退";	// 三退按钮默认文字
	var g_sHint = "";	// 自动提示三退或下载的说明
	var g_sFile = "";	// 自动提示下载的文件
	var g_bAuto = 0;	// 自动提示下载的同时自动下载文件（设为 1 时）
	var g_bPopTui = 0;	// 自动弹出三退提示框（设为 1 时）
	var g_sToast = "欢迎访问！<br>请将本网页收藏到书签，以后可从书签打开本站。";
	var g_bWeb = 1;	// 自动加载（弹出）网址

	var g_sPF = [];
	var g_bDL = 'download' in document.createElement('a') && navigator.userAgent.indexOf('Lenovo') < 0;

	function getDL(s, bPF) {return g_bDL && !bPF ? (s ? "title='' download='"+s+"'" : "download") : "";}
	function addPF1(s, n) {
		for (var i=g_sPF.length-1; i>=0; --i) if (g_sPF[i].url == s) return;
		g_sPF.push({"url":s, "priority":n});
	}
	function addPF2() {
		g_sPF.sort(function(a, b){return a.priority-b.priority});
		var n = g_sPF.length;
		for (var i=0; i<n; ++i) addPF(g_sPF[i].url);
		g_sPF = [];
	}

	XBack = {};
	(function(XBack) {
		XBack.STATE = 'x - back';
		XBack.onPopState = function(event) {showMenu(0);};
		XBack.record = function(state) {history.pushState(state, null, location.href);};
		XBack.init = function() {window.addEventListener('popstate', XBack.onPopState);XBack.record(XBack.STATE);};
		XBack.deinit = function() {window.removeEventListener('popstate', XBack.onPopState);};
	})(XBack);

	var COLOR = ["#f0f0d8","#f0f0e0","#f0f0e8","#f0f0f0"];
	function switchBG() {
		var s = document.body.bgColor;
		var n = COLOR.indexOf(s);
		if (n < 0) n = 0; else n = (n+1)%COLOR.length;
		document.body.bgColor = COLOR[n];
	}

	var g_nWiFi = 1;
	function setWiFi(n) {
		if (n == 0 && g_nWiFi < 1) return;
		g_nWiFi = n;
		if (n < 1) {
			/*
			divTui.style.display = "none";
			if (g_bTui) {
				$('div.tui').hide();
				for (var i=g_sArticle.length-1; i>=0; --i) g_sArticle[i].content = g_sArticle[i].content.replace(/<div class=tui.*<\/div>/, '');
			}
			*/
			if (n == 0) loadWeb1();
		}
	}

	function checkWiFi() {
		if (!navigator.onLine) {setWiFi(-1);return;}
		if (!g_bHTTP) {setWiFi(0);return;}
		if (!window.XMLHttpRequest) return;
		var xhr = new XMLHttpRequest();
		xhr.open("HEAD", "data.js", true);
		xhr.setRequestHeader("If-Modified-Since", "0");
		xhr.setRequestHeader("Cache-Control","no-cache");
		xhr.timeout = 3000;
		xhr.ontimeout = function() {setWiFi(0);}
		xhr.onerror = function () {setWiFi(0);}
		xhr.onreadystatechange=function () {
			if (xhr.readyState == 4)
			try {setWiFi(xhr.status == 200 ? 1 : 0);} catch(e){}
		}
		xhr.send();
	}

	function do3Tui(b) {
		if (g_bHTTP) {
			if (!navigator.onLine) {alert("未连接网络！");return;}
			if (!window.szsite && g_nWiFi < 1) {alert("三退功能仅在连接本 WiFi 或新闻加载后可用！");return;}
		}
		if (b) doTui1(); else doTui();
	}

	function initArticle() {
		checkWiFi();
		document.body.bgColor = g_sBGColor;
		var bLand = isLand();
		if (!g_bAndroid && bLand) {
			td0.style.display=td7.style.display="";
			tbMenu.style.height=divSpace.style.height=divDDM.style.top=divBack.style.top="3em";
		}

		aZoom.style.display = bLand ? "" : "none";
		if (bLand) {
			zoom(false);
		} else {
			for (i=1;i<7;++i) {
				var td = eval('td'+i);
				td.style.fontSize = "18px";
				td.innerHTML= td.innerText;
			}
			bq.style.padding = "0.6em 10px";
			divFile.style.color = "#817767";
			divFile.style.height = "2.25em";
			divFile.style.fontSize = "1.05em";
			divFile.style.lineHeight = g_bAndroid ? "1.1em" : "1.05em";
			divFile.style.paddingTop = g_bAndroid ? "0.15em" : "0.1em";
			svgMenu.style.height = divFile.style.paddingLeft = divFile.style.paddingRight = btnMenu.style.width = btnMenu.style.height = "41px";
			divBtns.style.height = "36px";
			var arr = divBtns.querySelectorAll('svg');
			for (i=arr.length-1;i>=0;--i) arr[i].style.width = "36px";
			tdSite.style.marginTop = "4px";
			tdSite.style.padding = "3px";
			if (!g_bPlyr) divGJ2.style.margin = "-10px 0 0";
		}
		if ("ontouchstart" in window) {
			var e = divBtns.querySelectorAll("svg");
			for (var i=0;i<e.length;++i) e[i].style.filter= "initial";
		}

		var n = window.innerWidth;
		if (!window.CSS || !CSS.supports("aspect-ratio:16/9")) fp.style.height = Math.floor((bLand ? (n >1680 ? 1000 : n*0.6) : n) * 9 / 16) + "px";
		d1.style.display = "";
		if ((g_nBorder & (bLand ? 1 : 2)) == 0)
		{
			bq.style.border = "0";
			if (!bLand) bq.style.borderLeft = "10px solid #5480da";
		}
		tbNav.style.marginTop = (bq.offsetTop-tbNav.offsetTop+20)+"px";
		var arr=document.getElementsByTagName('pre'), n=arr.length-1, b=typeof(g_nOrd)=="undefined", i, j;
		g_nOrd = b ? [] : g_nOrd.unique();
		for (i=b?n-1:g_nOrd.length-1; i>=0; --i) if (b) g_nOrd[i]=i+1; else if (g_nOrd[i]-1 >= n) g_nOrd.splice(i, 1);
		g_nTotal = g_nOrd.length;
		for (var p=0; p<=n; ++p) if (arr[p].id == "article") break;
		if (p > n) p = 0;
		for (var i=0; i<n; ++i)
		if (arr[i+p].id == "article")
		{
			var s = arr[i+p].innerHTML.trim(), t = arr[i+p].title.trim(), k = t.indexOf('#'), sTui = "";
			arr[i+p].innerHTML = "";
			if (k >= 0)
			{
				var f = t.substr(k+1).split(','), m = f.length;
				for (j=0; j<m; ++j) s += '<img src="media/'+f[j]+'" class=mw><br>';
				s = "<div align=center>"+s+"</div><br>";
				t = t.substr(0, k);
			}
			k = t.indexOf('|');
			if (k >= 0) t = t.substr(0, k);

			if (g_bTui) sTui = '<div align=center><div class=tui onclick="do3Tui();">'+(sTui=='' ? g_sTui : sTui)+'</div></div>';
			if (s.indexOf('<') < 0) s = "　　" + s.replace(/[\r\n]\s*/g, "<div class=em></div>　　")+ '<br><br>';
			s = t.length > 0 ? "<h3 style='color:#03c' align=center>" +t+ "</h3>" + s : "<br>" + s;
			if (b) k = i; else for (j=g_nTotal-1; j>=0; --j) if (g_nOrd[j]==i+1) {k = j;break;}
			s += sTui + '<table style="font-size:1.08em;table-layout:fixed;width:100%"><tr><td>'+(k==0 ? '<a href="javascript:showItem(-1);" title=>目 录</a>' : k>0 ? '<a href="javascript:prevItem();" title=>上 篇</a>' : '')+'</td><td align=center><a href="javascript:scroll2(0);">页 首</a></td><td align=right>'+(k<g_nTotal-1 ? '<a href="javascript:nextItem();">下 篇</a>' : '')+'</td></tr></table>';
			g_sArticle.push({content:s,title:t});
		}

		for (i=0; i<g_nTotal; ++i) {t=g_sArticle[g_nOrd[i]-1].title;g_sList += "<a href='javascript:showItem("+i+");' class=list>"+(t.length>0 ? t : "无标题")+"</a>";}
		g_sList = '<h3 style="color:#03c">目录</h3>' +g_sList+ "<br>";
		g_sHelp = '<h3 style="color:#03c">说明</h3>' +help.innerHTML.trim().replace(/[\r\n]\s*/g, "<br><br>")+ "<br><br><br>";
		help.innerHTML = "";
		if (g_nTotal > 0) showItem(0);
		if (g_nInit == 1) showItem(-1); else if (g_nInit == 2) showHelp();
		if (g_bCanPF)
		{
			/*
			var re = new RegExp('<img src="([^"]+)"', "g");
			for (i=g_nInit>0?0:1; i<g_nTotal; ++i) do {var r=re.exec(g_sArticle[g_nOrd[i]-1]["content"]);if (r) addPF1(r[1],2);} while (r);
			*/
			var PF = ["media/zjmd.html","images/list2.png"/*,"images/lotus.png","images/tuidang.png","images/tuidang.jpg","images/banner.jpg"*/];
			for (i=PF.length-1; i>=0; --i) addPF1(PF[i], PF[i].indexOf(".html") > 0 ? 5 : 1);
			/*
			t = imgNum.src;
			t = t.substr(t.indexOf("images/"));
			addPF1(t, 1);
			*/
		}
		setTimeout(function(){addPF2();}, 100);
	}

	function download()
	{
		if (g_bPopTui)
		{
			if (getCookie("santui")) return;
			s = g_sHint;
			if (s == "") s = "请点击三退";
			easyDialog.open({container:{header:"提示", content:s, yesText:"三退", yesFn:popTui}});
			setCookie("santui");
		} else
		if (g_sFile != "")
		{
			if (getCookie("download")) return;
			s = g_sHint;
			if (s == "") s = "请点击下载：";
			s += "<br><br><a href='media/"+g_sFile+"' "+getDL(g_sFile,g_bAuto==2)+">"+g_sFile+"</a>";
			easyDialog.open({container:{header:"提示", content:s, noText:"关闭", noFn:true}});
			setCookie("download");
			if (g_bAuto == 2) addPF1("media/"+g_sFile, 6); else
			if (g_bAuto == 1 && navigator.userAgent.indexOf("like Mac OS X") < 0)
			{
				aFile.href = "media/"+g_sFile;
				if (g_bDL) aFile.download = g_sFile;
				aFile.click();
			}
		} else
		if (g_sHint != "")
		{
			if (getCookie("hint")) return;
			easyDialog.open({container:{header:"提示", content:g_sHint, noText:"关闭", noFn:true}});
			setCookie("hint");
		}
		if (g_bPF) toast(g_sToast, 0);
	}

	function getCookie(s) {return document.cookie.indexOf(s+"=1") >= 0;}
	function setCookie(s)
	{
		var exp = new Date();
		exp.setTime(exp.getTime() + 3600000);	// 1hour
		document.cookie = s + "=1;expires=" + (s=="toast" ? "Fri, 31 Dec 9999 23:59:59 GMT" : exp.toGMTString());
	}

	function setBQ(b) {
		banner.style.display = b ? "none" : "";
	}

	function showIndex() {
		aPrev.style.visibility = g_nIndex <= 0 ? "hidden" : "visible";
		aNext.style.visibility = g_nIndex == g_nTotal-1 ? "hidden" : "visible";
		spIndex.innerHTML = (g_nIndex+1) + "/" + g_nTotal;
	}

	function showItem(n) {
		g_nIndex = n;
		spContent.innerHTML = n < 0 ? g_sList : g_sArticle[g_nOrd[n]-1]["content"];
		showIndex();
		if (n < 0) spIndex.innerHTML = "";
		scroll2(0);
		setBQ(true);
	}

	function showHelp() {
		spContent.innerHTML = g_sHelp;
		aPrev.style.visibility = "hidden";
		aNext.style.visibility = "visible";
		spIndex.innerHTML = "";
		g_nIndex = -1;
		setBQ(false);
	}

	Array.prototype.unique=function() {var r=[],j={},n=this.length;for(var i=0;i<n;++i){if(!j[this[i]]){r.push(this[i]);j[this[i]]=1;}}return r;}
	String.prototype.trim=function() {return this.replace(/^\s+|\s+$/g, "");}
	String.prototype.has=function(s) {return this.indexOf(s) >= 0;}
	function prevItem() {showItem(--g_nIndex);}
	function nextItem() {showItem(++g_nIndex);}
	function isLand() {return window.innerWidth > window.innerHeight;}

</script>
</div><div align=center><img onclick="jmp(d1);" class=lotus src="images/lotus.png"></div>

<div class="pk-form" style="display:none"><label for="option"><h2></h2></label><div class="pk-form"><select id="optSite" class="option pickout" placeholder=""></select></div></div>

<div id=d6>
<h3 align=center><font color=blue>新闻内容将在本机连接互联网时加载</font></h3>

<!--#region szmjweb+player.txt -->

<style>
    #d6c{box-shadow:5px 5px 10px #888}
    .card h4{background-color:#a2c0fb; color:#FFF; font-size:18px; padding:10px; margin:0; display:block; font-weight:normal;}
    .card h4 a{color:#FFF; margin-right:10px; float:right; font-weight:normal;}
    .card h4 span{color:#FFF; margin-left:10px;}
    .card ul{background-color:#f9f9f9; margin:0 0 5px 0; padding:10px 0 10px 30px;}
    .card ul li{padding:7px 10px;}
    #tuicont{display:none;}
    #custom{display:none;}

    .player2 .btn11{border-radius: 0.25em; background: #128deb; line-height: 1.4em; text-align: center; font-size: 1em; color: white;margin:0 5px;padding: 0.4em;cursor: pointer;-moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;user-select: none;}
    .player2 .btn11:active, .player2 .btn11:hover{filter:invert(0) drop-shadow(0 0 5px #00c)}
    .player2 #divList{display:inline-block;width:100%; overflow-y:auto;overflow-x:hidden;max-height:475px;margin-top:10px}
    .player2 #tbList{border:1px solid #c0c0c0; padding:0 15px 10px;table-layout:fixed}
    .player2 #tbList td.sepr {border-bottom: 1px solid #c0c0c0;}
    .player2 #tbList tr.t, .player2 #tbList td.t {height: 38px;padding-top: 5px; }
</style>

<div id="d6c">
    <div id="preload" style="color:green;font-weight:bold" align=center><br><div class=btn9 onclick='loadWeb2();' title='手动加载新闻'>加载新闻</div><br><br></div>
    <div id="content"></div>
</div>

<img src="" class="hidden" id="c" rel="" nov="1" pwa="0" jsonp="ios:C6V8Z,!ios:kiC7K">
<div id="custom">
    {
        "b_order": ["custom","dongtaiwang_top","dongtaiwang_ytb","epochtimes","ntdtv","mhwin","secretchina","soundofhope","software","domain","book","art","website","video"],
        "b_data": []
    }
</div>

<script type="text/javascript">
//zepto、hls、web版
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){var t,e,n;return function r(t,e,n){function i(s,a){if(!e[s]){if(!t[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,r,t,e,n)}return e[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new f(16),this._normalQueue=new f(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=p}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}function a(t){for(;t.length()>0;)c(t)}function c(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}var u;try{throw new Error}catch(l){u=l}var p=t("./schedule"),f=t("./queue");r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=s,r.prototype._drainQueues=function(){a(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,a(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=r,e.exports.firstLineError=u},{"./queue":26,"./schedule":29}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new t(e);l._propagateFrom(this,1);var p=this._target();if(l._setBoundTo(u),u instanceof t){var f={promiseRejectionQueued:!1,promise:l,target:p,bindingPromise:u};p._then(e,s,void 0,l,f),u._then(a,c,void 0,l,f),l._setOnCancel(u)}else l._resolveCallback(p);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),c=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(c){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,c=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(c){var u=a._boundValue();t:for(var l=0;l<t.length;++l){var p=t[l];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return o(n).call(u,c)}else if("function"==typeof p){var f=o(p).call(u,c);if(f===s)return f;if(f)return o(n).call(u,c)}else if(r.isObject(c)){for(var h=i(p),_=0;_<h.length;++_){var d=h[_];if(p[d]!=c[d])continue t}return o(n).call(u,c)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=c,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,e){return{promise:e}}function s(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+B.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function c(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?B.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function l(t){this._onCancelField=t}function p(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function _(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new V(this._peekContext())}function v(t,e){if(q(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=F(t);B.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(t,"__stackCleaned__",!0)}}}function y(){this._trace=void 0}function g(t,e,n,r,i){if(void 0===t&&null!==e&&Z){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),c=k(a),u=c.length-1;u>=0;--u){var l=c[u];if(!Q.test(l)){var p=l.match(G);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0)for(var f=c[0],u=0;u<a.length;++u)if(a[u]===f){u>0&&(s="\n"+a[u-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function m(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),b(n)}function b(t,n,r){if(lt.warnings){var i,o=new U(t);if(n)r._attachExtraTrace(o);else if(lt.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var s=F(o);o.stack=s.message+"\n"+s.stack.join("\n")}ot("warning",o)||x(o,"",!0)}}function w(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function C(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function j(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var c=r[a];if(e[i]!==c)break;e.pop(),i--}e=r}}function k(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||z.test(r),o=i&&at(r);i&&!o&&(W&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function E(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||z.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function F(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?E(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:k(e)}}function x(t,e,n){if("undefined"!=typeof console){var r;if(B.isObject(t)){var i=t.stack;r=e+X(i,t)}else r=e+String(t);"function"==typeof I?I(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function T(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){N.throwLater(o)}"unhandledRejection"===t?ot(t,n,r)||i||x(n,"Unhandled rejection "):ot(t,r)}function P(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():B.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+R(e)+">, no stack trace)"}function R(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function S(){return"function"==typeof ut}function O(t){var e=t.match(ct);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function A(t,e){if(S()){for(var n,r,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),s=-1,a=-1,c=0;c<i.length;++c){var u=O(i[c]);if(u){n=u.fileName,s=u.line;break}}for(var c=0;c<o.length;++c){var u=O(o[c]);if(u){r=u.fileName,a=u.line;break}}0>s||0>a||!n||!r||n!==r||s>=a||(at=function(t){if($.test(t))return!0;var e=O(t);return e&&e.fileName===n&&s<=e.line&&e.line<=a?!0:!1})}}function V(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ut(this,V),e>32&&this.uncycle()}var H,D,I,L,N=e._async,U=t("./errors").Warning,B=t("./util"),M=t("./es5"),q=B.canAttachTrace,$=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,Q=/\((?:timers\.js):\d+:\d+\)/,G=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,z=null,X=null,W=!1,K=!(0==B.env("BLUEBIRD_DEBUG")||!B.env("BLUEBIRD_DEBUG")&&"development"!==B.env("NODE_ENV")),J=!(0==B.env("BLUEBIRD_WARNINGS")||!K&&!B.env("BLUEBIRD_WARNINGS")),Y=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!K&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),Z=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(J||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function t(){for(var t=0;t<r.length;++t)r[t]._notifyUnhandledRejection();n()}function n(){r.length=0}var r=[];L=function(e){r.push(e),setTimeout(t,1)},M.defineProperty(e,"_unhandledRejectionCheck",{value:t}),M.defineProperty(e,"_unhandledRejectionClear",{value:n})}(),e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),L(this))},e.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",H,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",D,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return b(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var n=e._getContext();D=B.contextBind(n,t)},e.onUnhandledRejectionHandled=function(t){var n=e._getContext();H=B.contextBind(n,t)};var tt=function(){};e.longStackTraces=function(){if(N.haveItemsQueued()&&!lt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!lt.longStackTraces&&S()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace,i=e.prototype._dereferenceTrace;lt.longStackTraces=!0,tt=function(){if(N.haveItemsQueued()&&!lt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,e.prototype._dereferenceTrace=i,n.deactivateLongStackTraces(),lt.longStackTraces=!1},e.prototype._captureStackTrace=d,e.prototype._attachExtraTrace=v,e.prototype._dereferenceTrace=y,n.activateLongStackTraces()}},e.hasLongStackTraces=function(){return lt.longStackTraces&&S()};var et={unhandledrejection:{before:function(){var t=B.global.onunhandledrejection;return B.global.onunhandledrejection=null,t},after:function(t){B.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=B.global.onrejectionhandled;return B.global.onrejectionhandled=null,t},after:function(t){B.global.onrejectionhandled=t}}},nt=function(){var t=function(t,e){if(!t)return!B.global.dispatchEvent(e);var n;try{return n=t.before(),!B.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return B.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r={detail:n,cancelable:!0},i=new CustomEvent(e,r);return M.defineProperty(i,"promise",{value:n.promise}),M.defineProperty(i,"reason",{value:n.reason}),t(et[e],i)}}if("function"==typeof Event){var e=new Event("CustomEvent");return B.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new Event(e,{cancelable:!0});return r.detail=n,M.defineProperty(r,"promise",{value:n.promise}),M.defineProperty(r,"reason",{value:n.reason}),t(et[e],r)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!0,n),t(et[e],r)}}catch(n){}return function(){return!1}}(),rt=function(){return B.isNode?function(){return process.emit.apply(process,arguments)}:B.global?function(t){var e="on"+t.toLowerCase(),n=B.global[e];return n?(n.apply(B.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),it={promiseCreated:o,promiseFulfilled:o,promiseRejected:o,promiseResolved:o,promiseCancelled:o,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:o},ot=function(t){var e=!1;try{e=rt.apply(null,arguments)}catch(n){N.throwLater(n),e=!0}var r=!1;try{r=nt(t,it[t].apply(null,arguments))}catch(n){N.throwLater(n),r=!0}return r||e};e.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&tt()),"warnings"in t){var n=t.warnings;lt.warnings=!!n,Z=lt.warnings,B.isObject(n)&&"wForgottenReturn"in n&&(Z=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!lt.cancellation){if(N.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=p,e.prototype._propagateFrom=f,e.prototype._onCancel=u,e.prototype._setOnCancel=l,e.prototype._attachCancellationCallback=c,e.prototype._execute=a,st=f,lt.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!lt.monitoring?(lt.monitoring=!0,e.prototype._fireEvent=ot):!t.monitoring&&lt.monitoring&&(lt.monitoring=!1,e.prototype._fireEvent=s)),"asyncHooks"in t&&B.nodeSupportsAsyncResource){var o=lt.asyncHooks,h=!!t.asyncHooks;o!==h&&(lt.asyncHooks=h,h?r():i())}return e},e.prototype._fireEvent=s,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var st=h,at=function(){return!1},ct=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(V,Error),n.CapturedTrace=V,V.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;t-1>a?(c._parent=e[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},V.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=F(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(k(i.stack.split("\n"))),i=i._parent;j(r),C(r),B.notEnumerableProp(t,"stack",w(n,r)),B.notEnumerableProp(t,"__stackCleaned__",!0)}};var ut=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():P(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,z=t,X=e;var n=Error.captureStackTrace;return at=function(t){return $.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return z=/@/,X=e,W=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(X=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?P(e):e.toString()},null):(z=t,X=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(I=function(t){console.warn(t)},B.isNode&&process.stderr.isTTY?I=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(I=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var lt={warnings:J,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Y&&e.longStackTraces(),{asyncHooks:function(){return lt.asyncHooks},longStackTraces:function(){return lt.longStackTraces},warnings:function(){return lt.warnings},cancellation:function(){return lt.cancellation},monitoring:function(){return lt.monitoring},propagateFromFunction:function(){return st},boundValueFunction:function(){return _},checkForgottenReturns:g,setBounds:A,warn:b,deprecated:m,CapturedTrace:V,fireDomEvent:nt,fireGlobalEvent:rt}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(p(this,"message","string"==typeof r?r:e),p(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(p(this,"name","OperationalError"),p(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(p(this,"message",t.message),p(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),c=a.freeze,u=t("./util"),l=u.inherits,p=u.notEnumerableProp,f=r("Warning","warning"),h=r("CancellationError","cancellation error"),_=r("TimeoutError","timeout error"),d=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(v){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(d.prototype[y[g]]=Array.prototype[y[g]]);a.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var m=0;d.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return m--,e},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:h,TimeoutError:_,OperationalError:i,RejectionError:i,AggregateError:d}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},u=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},f=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:f,keys:a,names:a,defineProperty:u,getDescriptor:c,freeze:l,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function s(t,e){return null!=t.cancelPromise?(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0):!1}function a(){return u.call(this,this.promise._target()._settledValue())}function c(t){return s(this,t)?void 0:(f.e=t,f)}function u(t){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),t);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var h=n(l,i);if(h instanceof e){if(null!=this.cancelPromise){if(h._isCancelled()){var _=new p("late cancellation observer");return i._attachExtraTrace(_),f.e=_,f}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(a,c,void 0,this,void 0)}}}return i.isRejected()?(s(this),f.e=t,f):(s(this),t)}var l=t("./util"),p=e.CancellationError,f=l.errorObj,h=t("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new i(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,u);var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var s=arguments[r];if(!l.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(s)));i[o++]=s}i.length=o;var a=arguments[r];return this._passThrough(h(i,a,this),1,void 0,u)},i}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===f){r._pushContext();var a=e.reject(f.e);return r._popContext(),a}var c=i(s,r);if(c instanceof e)return c}return null}function c(t,n,i,o){if(s.cancellation()){var a=new e(r),c=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return c}),a._captureStackTrace(),a._setOnCancel(this)}else{var u=this._promise=new e(r);u._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(_):_,this._yieldedPromise=null,this._cancellationPhase=!1}var u=t("./errors"),l=u.TypeError,p=t("./util"),f=p.errorObj,h=p.tryCatch,_=[];p.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},c.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(t){var n=this._promise;if(t===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);
var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=c,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+p.classString(t));_.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t),this._promise._captureStackTrace();var s=e._getContext();if(this._callback=u.contextBind(s,n),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0),u.isArray(t))for(var a=0;a<t.length;++a){var c=t[a];c instanceof e&&c.suppressUnhandledRejections()}}function c(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var u=t("./util"),l=u.tryCatch,p=u.errorObj,f=e._async;u.inherits(a,n),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,c=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var u=this._promise,f=this._callback,h=u._boundValue();u._pushContext();var _=l(f).call(h,t,n,o),d=u._popContext();if(s.checkForgottenReturns(_,d,null!==a?"Promise.filter":"Promise.map",u),_===p)return this._reject(_.e),!0;var v=i(_,this._promise);if(v instanceof e){v=v._target();var y=v._bitField;if(0===(50397184&y))return c>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);_=v._value()}r[n]=_}var g=++this._totalResolved;return g>=o?(null!==a?this._filter(r,a):this._resolve(r),!0):!1},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return c(this,t,e,null)},e.map=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];c=s.isArray(u)?a(t).apply(l,u):a(t).call(l,u)}else c=a(t)();var p=r._popContext();return o.checkForgottenReturns(c,p,"Promise.try",r),r._resolveFromSyncValue(c),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new u(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];p.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,c=t("./errors"),u=c.OperationalError,l=t("./es5"),p=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===c&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===c&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===c&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,c=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,n){"use strict";e.exports=function(){function n(){}function r(t,e){if(null==t||t.constructor!==i)throw new E("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new E("expecting a function but got "+f.classString(e))}function i(t){t!==x&&r(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function a(t){var e=new i(x);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c=function(){return new E("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new i.PromiseInspection(this._target())},l=function(t){return i.reject(new E(t))},p={},f=t("./util");f.setReflectHandler(u);var h=function(){var t=process.domain;return void 0===t?null:t},_=function(){return null},d=function(){return{domain:h(),async:null}},v=f.isNode&&f.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,y=function(){return{domain:h(),async:new v("Bluebird::Promise")}},g=f.isNode?d:_;f.notEnumerableProp(i,"_getContext",g);var m=function(){g=y,f.notEnumerableProp(i,"_getContext",y)},b=function(){g=d,f.notEnumerableProp(i,"_getContext",d)},w=t("./es5"),C=t("./async"),j=new C;w.defineProperty(i,"_async",{value:j});var k=t("./errors"),E=i.TypeError=k.TypeError;i.RangeError=k.RangeError;var F=i.CancellationError=k.CancellationError;i.TimeoutError=k.TimeoutError,i.OperationalError=k.OperationalError,i.RejectionError=k.OperationalError,i.AggregateError=k.AggregateError;var x=function(){},T={},P={},R=t("./thenables")(i,x),S=t("./promise_array")(i,x,R,l,n),O=t("./context")(i),A=O.create,V=t("./debuggability")(i,O,m,b),H=(V.CapturedTrace,t("./finally")(i,R,P)),D=t("./catch_filter")(P),I=t("./nodeback"),L=f.errorObj,N=f.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!f.isObject(o))return l("Catch statement predicate: expecting an object but got "+f.classString(o));r[i++]=o}if(r.length=i,t=arguments[n],"function"!=typeof t)throw new E("The last argument to .catch() must be a function, got "+f.toString(t));return this.then(void 0,D(r,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},i.prototype.then=function(t,e){if(V.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+f.classString(t);arguments.length>1&&(n+=", "+f.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?l("expecting a function but got "+f.classString(t)):this.all()._then(t,void 0,void 0,T,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new S(this).promise()},i.prototype.error=function(t){return this.caught(f.originatesFromRejection,t)},i.getNewLibraryCopy=e.exports,i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(x);e._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,r=N(t)(I(e,n));return r===L&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new S(t).promise()},i.cast=function(t){var e=R(t);return e instanceof i||(e=new i(x),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(x);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new E("expecting a function but got "+f.classString(t));return j.setScheduler(t)},i.prototype._then=function(t,e,n,r,o){var s=void 0!==o,a=s?o:new i(x),c=this._target(),u=c._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var l=g();if(0!==(50397184&u)){var p,h,_=c._settlePromiseCtx;0!==(33554432&u)?(h=c._rejectionHandler0,p=t):0!==(16777216&u)?(h=c._fulfillmentHandler0,p=e,c._unsetRejectionIsUnhandled()):(_=c._settlePromiseLateCancellationObserver,h=new F("late cancellation observer"),c._attachExtraTrace(h),p=e),j.invoke(_,c,{handler:f.contextBind(l,p),promise:a,receiver:r,value:h})}else c._addCallbacks(t,e,a,r,l);return a},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){if(!j.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},i.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===p?void 0:void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},i.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=f.contextBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=f.contextBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=f.contextBind(i,t)),"function"==typeof e&&(this[s+1]=f.contextBind(i,e))}return this._setLength(o+1),o},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var n=R(t,this);if(!(n instanceof i))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var o=r._bitField;if(0===(50397184&o)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;s>a;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var u=new F("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},i.prototype._rejectCallback=function(t,e,n){var r=f.ensureErrorObject(t),i=r===t;if(!i&&!n&&V.warnings()){var o="a promise was rejected with a non-error: "+f.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,e?i:!1),this._reject(t)},i.prototype._resolveFromExecutor=function(t){if(t!==x){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},i.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===T?n&&"number"==typeof n.length?o=N(t).apply(this._boundValue(),n):(o=L,o.e=new E("cannot .spread() a non-array: "+f.classString(n))):o=N(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===P?r._reject(n):o===L?r._rejectCallback(o.e,!1):(V.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,r,o){var s=t instanceof i,a=this._bitField,c=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),r instanceof H&&r.isFinallyHandler()?(r.cancelPromise=t,N(e).call(r,o)===L&&t._reject(L.e)):e===u?t._fulfill(u.call(r)):r instanceof n?r._promiseCancelled(t):s||t instanceof S?t._cancel():r.cancel()):"function"==typeof e?s?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,o,t)):e.call(r,o,t):r instanceof n?r._isResolved()||(0!==(33554432&a)?r._promiseFulfilled(o,t):r._promiseRejected(o,t)):s&&(c&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof i?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():j.settlePromises(this),this._dereferenceTrace())}},i.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?j.fatalError(t,f.isNode):void((65535&e)>0?j.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&w.defineProperty(i.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),i.defer=i.pending=function(){V.deprecated("Promise.defer","new Promise");var t=new i(x);return{promise:t,resolve:o,reject:s}},f.notEnumerableProp(i,"_makeSelfResolutionError",c),t("./method")(i,x,R,l,V),t("./bind")(i,x,R,V),t("./cancel")(i,S,l,V),t("./direct_resolve")(i),t("./synchronous_inspection")(i),t("./join")(i,S,R,x,j),i.Promise=i,i.version="3.7.2",t("./call_get.js")(i),t("./generators.js")(i,l,x,R,n,V),t("./map.js")(i,S,l,R,x,V),t("./nodeify.js")(i),t("./promisify.js")(i,x),t("./props.js")(i,S,R,l),t("./race.js")(i,x,R,l),t("./reduce.js")(i,S,l,R,x,V),t("./settle.js")(i,S,V),t("./some.js")(i,S,l),t("./timers.js")(i,x,V),t("./using.js")(i,l,R,A,x,V),t("./any.js")(i),t("./each.js")(i,x),t("./filter.js")(i,x),f.toFastProperties(i),f.toFastProperties(i.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a(function(){}),a(void 0),a(!1),a(new i(x)),V.setBounds(C.firstLineError,f.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function a(t){var r=this._promise=new e(n);t instanceof e&&(r._propagateFrom(t,3),t.suppressUnhandledRejections()),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=t("./util");c.isArray;return c.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function u(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(u,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=c.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+c.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;n>a;++a){var c=r(t[a],i);c instanceof e?(c=c._target(),s=c._bitField):s=null,o?null!==s&&c.suppressUnhandledRejections():null!==s?0===(50397184&s)?(c._proxy(this,a),this._values[a]=c):o=0!==(33554432&s)?this._promiseFulfilled(c._value(),a):0!==(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!C.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,b);return r?i(r):!1}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=h.inheritedDataKeys(t),c=[],u=0;u<a.length;++u){var l=a[u],p=t[l],f=r===j?!0:j(l,p,t);"function"!=typeof p||i(p)||o(t,l,e)||!r(l,p,t,f)||c.push(l,p)}return s(c,e,n),c}function c(t,r,i,o,s,a){function c(){var i=r;r===f&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==u?this[l]:t,c=_(o,a);try{s.apply(i,d(arguments,c))}catch(p){o._rejectCallback(v(p),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(c,"__isPromisified__",!0),c}function u(t,e,n,r,i){for(var o=new RegExp(k(e)+"$"),s=a(t,e,o,n),c=0,u=s.length;u>c;c+=2){var l=s[c],p=s[c+1],_=l+e;if(r===E)t[_]=E(l,f,l,p,e,i);else{var d=r(p,function(){return E(l,f,l,p,e,i)});h.notEnumerableProp(d,"__isPromisified__",!0),t[_]=d}}return h.toFastProperties(t),t}function l(t,e,n){return E(t,e,void 0,t,null,n)}var p,f={},h=t("./util"),_=t("./nodeback"),d=h.withAppended,v=h.maybeWrapAsError,y=h.canEvaluate,g=t("./errors").TypeError,m="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],C=new RegExp("^(?:"+w.join("|")+")$"),j=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},E=y?p:c;e.promisify=function(t,e){if("function"!=typeof t)throw new g("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?f:e.context,o=!!e.multiArgs,s=l(t,n,o);return h.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=m);var i=e.filter;"function"!=typeof i&&(i=j);var o=e.promisifier;if("function"!=typeof o&&(o=E),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=h.inheritedDataKeys(t),a=0;a<s.length;++a){var c=t[s[a]];"constructor"!==s[a]&&h.isClass(c)&&(u(c.prototype,r,i,o,n),u(c,r,i,o,n))}return u(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=p(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function s(t){var n,s=r(t);return u(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,c=t("./util"),u=c.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var p=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),f=function(t){for(var e=new a,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=f(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var c=r(t);if(c instanceof e)return a(c);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var u=new e(n);void 0!==o&&u._propagateFrom(o,3);for(var l=u._fulfill,p=u._reject,f=0,h=t.length;h>f;++f){var _=t[f];(void 0!==_||f in t)&&e.cast(_)._then(l,p,void 0,u,null)}return u}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=e._getContext();this._fn=f.contextBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function u(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+f.classString(e));var o=new a(t,e,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n=this.array,r=n._promise,i=h(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var f=t("./util"),h=f.tryCatch;f.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n;for(var o=r;i>o;++o){var s=t[o];s instanceof e&&s.suppressUnhandledRejections()}if(!n.isRejected())for(;i>r;++r){var a={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,a,void 0),0===(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],29:[function(t,e,n){"use strict";var r,i=t("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var a=global.setImmediate,c=process.nextTick;r=i.isRecentNode?function(t){a.call(global,t)}:function(t){c.call(process,t)}}else if("function"==typeof s&&"function"==typeof s.resolve){
var u=s.resolve();r=function(t){u.then(t)}}else r="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}():"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:o;e.exports=r},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.allSettled=function(t){return new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,c=t("./errors").AggregateError,u=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new c,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===u){r&&r._pushContext();var c=e.reject(i.e);return r&&r._popContext(),c}if("function"==typeof i){if(s(t)){var c=new e(n);return t._then(c._fulfill,c._reject,void 0,c,null),c}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return u.e=e,u}}function s(t){try{return p.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,p,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var p=!0,f=c.tryCatch(r).call(t,o,s);return p=!1,a&&f===u&&(a._rejectCallback(f.e,!0,!0),a=null),l}var c=t("./util"),u=c.errorObj,l=c.isObject,p={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),c=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(u,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var p=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new c("operation timed out"):new c(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,c=new i(setTimeout(function(){n.isPending()&&p(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,s,void 0,c,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function c(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,n){function i(){if(s>=u)return l._fulfill();var o=c(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(p){return a(p)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,u=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function p(t,e,n){this.constructor$(t,e,n)}function f(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var _=t("./util"),d=t("./errors").TypeError,v=t("./util").inherits,y=_.errorObj,g=_.tryCatch,m={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():m},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==m?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(p,l),p.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+_.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var c=new h(t),p=0;t>p;++p){var d=o[p];if(l.isDisposer(d)){var v=d;d=d.promise(),d._setDisposable(v)}else{var m=r(d);m instanceof e&&(d=m._then(f,null,null,{resources:c,index:p},void 0))}c[p]=d}for(var b=new Array(c.length),p=0;p<b.length;++p)b[p]=e.resolve(c[p]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}C._pushContext(),i=g(i);var r=a?i.apply(void 0,t):i(t),o=C._popContext();return s.checkForgottenReturns(r,o,"Promise.using",C),r}),C=w.lastly(function(){var t=new e.PromiseInspection(w);return u(c,t)});return c.promise=C,C._setOnCancel(c),C},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new p(t,this,i());throw new d}}},{"./errors":12,"./util":36}],36:[function(t,e,n){"use strict";function r(){try{var t=P;return P=null,t.apply(this,arguments)}catch(e){return T.e=e,T}}function i(t){return P=t,r}function o(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return o(t)?new Error(v(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function u(t,e,n){if(!F.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function l(t,e,n){if(o(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return F.defineProperty(t,e,r),t}function p(t){throw t}function f(t){try{if("function"==typeof t){var e=F.names(t.prototype),n=F.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=A.test(t+"")&&F.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function h(t){function e(){}function n(){return typeof r.foo}e.prototype=t;var r=new e;return n(),n(),t}function _(t){return V.test(t)}function d(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function v(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function g(t){try{l(t,"isOperational",!0)}catch(e){}}function m(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function b(t){return y(t)&&F.propertyIsWritable(t,"stack")}function w(t){return{}.toString.call(t)}function C(t,e,n){for(var r=F.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{F.defineProperty(e,o,F.getDescriptor(t,o))}catch(s){}}}function j(t){return N?process.env[t]:void 0}function k(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"===w(t))return Promise}catch(e){}}function E(t,e){if(null===t||"function"!=typeof e||e===U)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var r=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=r,t[1]=this,n.runInAsyncScope.apply(n,t)}}return e}var F=t("./es5"),x="undefined"==typeof navigator,T={e:{}},P,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,S=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},O=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(F.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var c=o[a];if(!i[c]){i[c]=!0;var u=Object.getOwnPropertyDescriptor(t,c);null!=u&&null==u.get&&null==u.set&&r.push(c)}}t=F.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),A=/this\s*\.\s*\S+\s*=/,V=/^[a-z$_][a-z$_0-9]*$/i,H=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(v(t))}:function(t){if(b(t))return t;try{throw new Error(v(t))}catch(e){return e}}}(),D=function(t){return F.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var I="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};D=function(t){return F.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?I(t):null}}var L="undefined"!=typeof process&&"[object process]"===w(process).toLowerCase(),N="undefined"!=typeof process&&"undefined"!=typeof process.env,U,B={setReflectHandler:function(t){U=t},isClass:f,isIdentifier:_,inheritedDataKeys:O,getDataPropertyOrDefault:u,thrower:p,isArray:F.isArray,asArray:D,notEnumerableProp:l,isPrimitive:o,isObject:s,isError:y,canEvaluate:x,errorObj:T,tryCatch:i,inherits:S,withAppended:c,maybeWrapAsError:a,toFastProperties:h,filledRange:d,toString:v,canAttachTrace:b,ensureErrorObject:H,originatesFromRejection:m,markAsOriginatingFromRejection:g,classString:w,copyDescriptors:C,isNode:L,hasEnvVariables:N,env:j,global:R,getNativePromise:k,contextBind:E};B.isRecentNode=B.isNode&&function(){var t;return process.versions&&process.versions.node?t=process.versions.node.split(".").map(Number):process.version&&(t=process.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),B.nodeSupportsAsyncResource=B.isNode&&function(){var e=!1;try{var n=t("async_hooks").AsyncResource;e="function"==typeof n.prototype.runInAsyncScope}catch(r){e=!1}return e}(),B.isNode&&B.toFastProperties(process);try{throw new Error}catch(M){B.lastLineError=M}e.exports=B},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);
!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):e(t)}(this,function(t){var e=function(){function $(t){return null==t?String(t):S[C.call(t)]||"object"}function F(t){return"function"==$(t)}function k(t){return null!=t&&t==t.window}function M(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function R(t){return"object"==$(t)}function Z(t){return R(t)&&!k(t)&&Object.getPrototypeOf(t)==Object.prototype}function z(t){var e=!!t&&"length"in t&&t.length,n=r.type(t);return"function"!=n&&!k(t)&&("array"==n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function q(t){return a.call(t,function(t){return null!=t})}function H(t){return t.length>0?r.fn.concat.apply([],t):t}function I(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function V(t){return t in l?l[t]:l[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function _(t,e){return"number"!=typeof e||h[I(t)]?e:e+"px"}function B(t){var e,n;return c[t]||(e=f.createElement(t),f.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),c[t]=n),c[t]}function U(t){return"children"in t?u.call(t.children):r.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function X(t,e){var n,r=t?t.length:0;for(n=0;r>n;n++)this[n]=t[n];this.length=r,this.selector=e||""}function J(t,r,i){for(n in r)i&&(Z(r[n])||L(r[n]))?(Z(r[n])&&!Z(t[n])&&(t[n]={}),L(r[n])&&!L(t[n])&&(t[n]=[]),J(t[n],r[n],i)):r[n]!==e&&(t[n]=r[n])}function W(t,e){return null==e?r(t):r(t).filter(e)}function Y(t,e,n,r){return F(e)?e.call(t,n,r):e}function G(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function K(t,n){var r=t.className||"",i=r&&r.baseVal!==e;return n===e?i?r.baseVal:r:void(i?r.baseVal=n:t.className=n)}function Q(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?r.parseJSON(t):t):t}catch(e){return t}}function tt(t,e){e(t);for(var n=0,r=t.childNodes.length;r>n;n++)tt(t.childNodes[n],e)}var e,n,r,i,O,P,o=[],s=o.concat,a=o.filter,u=o.slice,f=t.document,c={},l={},h={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},p=/^\s*<(\w+|!)[^>]*>/,d=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,g=/^(?:body|html)$/i,v=/([A-Z])/g,y=["val","css","html","text","data","width","height","offset"],x=["after","prepend","before","append"],b=f.createElement("table"),E=f.createElement("tr"),j={tr:f.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:E,th:E,"*":f.createElement("div")},w=/complete|loaded|interactive/,T=/^[\w-]*$/,S={},C=S.toString,N={},A=f.createElement("div"),D={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},L=Array.isArray||function(t){return t instanceof Array};return N.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=A).appendChild(t),r=~N.qsa(i,e).indexOf(t),o&&A.removeChild(t),r},O=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},P=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},N.fragment=function(t,n,i){var o,s,a;return d.test(t)&&(o=r(f.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(m,"<$1></$2>")),n===e&&(n=p.test(t)&&RegExp.$1),n in j||(n="*"),a=j[n],a.innerHTML=""+t,o=r.each(u.call(a.childNodes),function(){a.removeChild(this)})),Z(i)&&(s=r(o),r.each(i,function(t,e){y.indexOf(t)>-1?s[t](e):s.attr(t,e)})),o},N.Z=function(t,e){return new X(t,e)},N.isZ=function(t){return t instanceof N.Z},N.init=function(t,n){var i;if(!t)return N.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&p.test(t))i=N.fragment(t,RegExp.$1,n),t=null;else{if(n!==e)return r(n).find(t);i=N.qsa(f,t)}else{if(F(t))return r(f).ready(t);if(N.isZ(t))return t;if(L(t))i=q(t);else if(R(t))i=[t],t=null;else if(p.test(t))i=N.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==e)return r(n).find(t);i=N.qsa(f,t)}}return N.Z(i,t)},r=function(t,e){return N.init(t,e)},r.extend=function(t){var e,n=u.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){J(t,n,e)}),t},N.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,s=T.test(o);return t.getElementById&&s&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:u.call(s&&!r&&t.getElementsByClassName?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},r.contains=f.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},r.type=$,r.isFunction=F,r.isWindow=k,r.isArray=L,r.isPlainObject=Z,r.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},r.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},r.inArray=function(t,e,n){return o.indexOf.call(e,t,n)},r.camelCase=O,r.trim=function(t){return null==t?"":String.prototype.trim.call(t)},r.uuid=0,r.support={},r.expr={},r.noop=function(){},r.map=function(t,e){var n,i,o,r=[];if(z(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&r.push(n);else for(o in t)n=e(t[o],o),null!=n&&r.push(n);return H(r)},r.each=function(t,e){var n,r;if(z(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},r.grep=function(t,e){return a.call(t,e)},t.JSON&&(r.parseJSON=JSON.parse),r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){S["[object "+e+"]"]=e.toLowerCase()}),r.fn={constructor:N.Z,length:0,forEach:o.forEach,reduce:o.reduce,push:o.push,sort:o.sort,splice:o.splice,indexOf:o.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=N.isZ(e)?e.toArray():e;return s.apply(N.isZ(this)?this.toArray():this,n)},map:function(t){return r(r.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return r(u.apply(this,arguments))},ready:function(t){return w.test(f.readyState)&&f.body?t(r):f.addEventListener("DOMContentLoaded",function(){t(r)},!1),this},get:function(t){return t===e?u.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return o.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return F(t)?this.not(this.not(t)):r(a.call(this,function(e){return N.matches(e,t)}))},add:function(t,e){return r(P(this.concat(r(t,e))))},is:function(t){return this.length>0&&N.matches(this[0],t)},not:function(t){var n=[];if(F(t)&&t.call!==e)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):z(t)&&F(t.item)?u.call(t):r(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return r(n)},has:function(t){return this.filter(function(){return R(t)?r.contains(this,t):r(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!R(t)?t:r(t)},last:function(){var t=this[this.length-1];return t&&!R(t)?t:r(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?r(t).filter(function(){var t=this;return o.some.call(n,function(e){return r.contains(e,t)})}):1==this.length?r(N.qsa(this[0],t)):this.map(function(){return N.qsa(this,t)}):r()},closest:function(t,e){var n=[],i="object"==typeof t&&r(t);return this.each(function(r,o){for(;o&&!(i?i.indexOf(o)>=0:N.matches(o,t));)o=o!==e&&!M(o)&&o.parentNode;o&&n.indexOf(o)<0&&n.push(o)}),r(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=r.map(n,function(t){return(t=t.parentNode)&&!M(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return W(e,t)},parent:function(t){return W(P(this.pluck("parentNode")),t)},children:function(t){return W(this.map(function(){return U(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||u.call(this.childNodes)})},siblings:function(t){return W(this.map(function(t,e){return a.call(U(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return r.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=B(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=F(t);if(this[0]&&!e)var n=r(t).get(0),i=n.parentNode||this.length>1;return this.each(function(o){r(this).wrapAll(e?t.call(this,o):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){r(this[0]).before(t=r(t));for(var e;(e=t.children()).length;)t=e.first();r(t).append(this)}return this},wrapInner:function(t){var e=F(t);return this.each(function(n){var i=r(this),o=i.contents(),s=e?t.call(this,n):t;o.length?o.wrapAll(s):i.append(s)})},unwrap:function(){return this.parent().each(function(){r(this).replaceWith(r(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var n=r(this);(t===e?"none"==n.css("display"):t)?n.show():n.hide()})},prev:function(t){return r(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return r(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;r(this).empty().append(Y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=Y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,r){var i;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(R(t))for(n in t)G(this,n,t[n]);else G(this,t,Y(this,r,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(t))?i:e},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){G(this,t)},this)})},prop:function(t,e){return t=D[t]||t,1 in arguments?this.each(function(n){this[t]=Y(this,e,n,this[t])}):this[0]&&this[0][t]},removeProp:function(t){return t=D[t]||t,this.each(function(){delete this[t]})},data:function(t,n){var r="data-"+t.replace(v,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?Q(i):e},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=Y(this,t,e,this.value)})):this[0]&&(this[0].multiple?r(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=r(this),i=Y(this,e,t,n.offset()),o=n.offsetParent().offset(),s={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(f.documentElement!==this[0]&&!r.contains(f.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,e){if(arguments.length<2){var i=this[0];if("string"==typeof t){if(!i)return;return i.style[O(t)]||getComputedStyle(i,"").getPropertyValue(t)}if(L(t)){if(!i)return;var o={},s=getComputedStyle(i,"");return r.each(t,function(t,e){o[e]=i.style[O(e)]||s.getPropertyValue(e)}),o}}var a="";if("string"==$(t))e||0===e?a=I(t)+":"+_(t,e):this.each(function(){this.style.removeProperty(I(t))});else for(n in t)t[n]||0===t[n]?a+=I(n)+":"+_(n,t[n])+";":this.each(function(){this.style.removeProperty(I(n))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(r(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?o.some.call(this,function(t){return this.test(K(t))},V(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){i=[];var n=K(this),o=Y(this,t,e,n);o.split(/\s+/g).forEach(function(t){r(this).hasClass(t)||i.push(t)},this),i.length&&K(this,n+(n?" ":"")+i.join(" "))}}):this},removeClass:function(t){return this.each(function(n){if("className"in this){if(t===e)return K(this,"");i=K(this),Y(this,t,n,i).split(/\s+/g).forEach(function(t){i=i.replace(V(t)," ")}),K(this,i.trim())}})},toggleClass:function(t,n){return t?this.each(function(i){var o=r(this),s=Y(this,t,i,K(this));s.split(/\s+/g).forEach(function(t){(n===e?!o.hasClass(t):n)?o.addClass(t):o.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===e?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===e?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=g.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(r(t).css("margin-top"))||0,n.left-=parseFloat(r(t).css("margin-left"))||0,i.top+=parseFloat(r(e[0]).css("border-top-width"))||0,i.left+=parseFloat(r(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||f.body;t&&!g.test(t.nodeName)&&"static"==r(t).css("position");)t=t.offsetParent;return t})}},r.fn.detach=r.fn.remove,["width","height"].forEach(function(t){var n=t.replace(/./,function(t){return t[0].toUpperCase()});r.fn[t]=function(i){var o,s=this[0];return i===e?k(s)?s["inner"+n]:M(s)?s.documentElement["scroll"+n]:(o=this.offset())&&o[t]:this.each(function(e){s=r(this),s.css(t,Y(this,i,e,s[t]()))})}}),x.forEach(function(n,i){var o=i%2;r.fn[n]=function(){var n,a,s=r.map(arguments,function(t){var i=[];return n=$(t),"array"==n?(t.forEach(function(t){return t.nodeType!==e?i.push(t):r.zepto.isZ(t)?i=i.concat(t.get()):void(i=i.concat(N.fragment(t)))}),i):"object"==n||null==t?t:N.fragment(t)}),u=this.length>1;return s.length<1?this:this.each(function(e,n){a=o?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null;var c=r.contains(f.documentElement,a);s.forEach(function(e){if(u)e=e.cloneNode(!0);else if(!a)return r(e).remove();a.insertBefore(e,n),c&&tt(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var n=e.ownerDocument?e.ownerDocument.defaultView:t;n.eval.call(n,e.innerHTML)}})})})},r.fn[o?n+"To":"insert"+(i?"Before":"After")]=function(t){return r(t)[n](this),this}}),N.Z.prototype=X.prototype=r.fn,N.uniq=P,N.deserializeValue=Q,r.zepto=N,r}();return t.Zepto=e,void 0===t.$&&(t.$=e),function(e){function h(t){return t._zid||(t._zid=n++)}function p(t,e,n,r){if(e=d(e),e.ns)var i=m(e.ns);return(a[h(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||i.test(t.ns))&&(!n||h(t.fn)===h(n))&&(!r||t.sel==r)})}function d(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function m(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function g(t,e){return t.del&&!f&&t.e in c||!!e}function v(t){return l[t]||f&&c[t]||t}function y(t,n,i,o,s,u,f){var c=h(t),p=a[c]||(a[c]=[]);n.split(/\s/).forEach(function(n){if("ready"==n)return e(document).ready(i);var a=d(n);a.fn=i,a.sel=s,a.e in l&&(i=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=u;var c=u||i;a.proxy=function(e){if(e=T(e),!e.isImmediatePropagationStopped()){e.data=o;var n=c.apply(t,e._args==r?[e]:[e].concat(e._args));return n===!1&&(e.preventDefault(),e.stopPropagation()),n}},a.i=p.length,p.push(a),"addEventListener"in t&&t.addEventListener(v(a.e),a.proxy,g(a,f))})}function x(t,e,n,r,i){var o=h(t);(e||"").split(/\s/).forEach(function(e){p(t,e,n,r).forEach(function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(v(e.e),e.proxy,g(e,i))})})}function T(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(w,function(e,r){var i=n[e];t[e]=function(){return this[r]=b,i&&i.apply(n,arguments)},t[r]=E}),t.timeStamp||(t.timeStamp=Date.now()),(n.defaultPrevented!==r?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=b)),t}function S(t){var e,n={originalEvent:t};for(e in t)j.test(e)||t[e]===r||(n[e]=t[e]);return T(n,t)}var r,n=1,i=Array.prototype.slice,o=e.isFunction,s=function(t){return"string"==typeof t},a={},u={},f="onfocusin"in t,c={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};u.click=u.mousedown=u.mouseup=u.mousemove="MouseEvents",e.event={add:y,remove:x},e.proxy=function(t,n){var r=2 in arguments&&i.call(arguments,2);if(o(t)){var a=function(){return t.apply(n,r?r.concat(i.call(arguments)):arguments)};return a._zid=h(t),a}if(s(n))return r?(r.unshift(t[n],t),e.proxy.apply(null,r)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var b=function(){return!0},E=function(){return!1},j=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,a,u,f){var c,l,h=this;return t&&!s(t)?(e.each(t,function(t,e){h.on(t,n,a,e,f)}),h):(s(n)||o(u)||u===!1||(u=a,a=n,n=r),(u===r||a===!1)&&(u=a,a=r),u===!1&&(u=E),h.each(function(r,o){f&&(c=function(t){return x(o,t.type,u),u.apply(this,arguments)}),n&&(l=function(t){var r,s=e(t.target).closest(n,o).get(0);return s&&s!==o?(r=e.extend(S(t),{currentTarget:s,liveFired:o}),(c||u).apply(s,[r].concat(i.call(arguments,1)))):void 0}),y(o,t,u,a,n,l||c)}))},e.fn.off=function(t,n,i){var a=this;return t&&!s(t)?(e.each(t,function(t,e){a.off(t,n,e)}),a):(s(n)||o(i)||i===!1||(i=n,n=r),i===!1&&(i=E),a.each(function(){x(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=s(t)||e.isPlainObject(t)?e.Event(t):T(t),t._args=n,this.each(function(){t.type in c&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,i;return this.each(function(o,a){r=S(s(t)?e.Event(t):t),r._args=n,r.target=a,e.each(p(a,t.type||t),function(t,e){return i=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(t,e){s(t)||(e=t,t=e.type);var n=document.createEvent(u[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),T(n)}}(e),function(e){function p(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function d(t,e,n,i){return t.global?p(e||r,n,i):void 0}function m(t){t.global&&0===e.active++&&d(t,null,"ajaxStart")}function g(t){t.global&&!--e.active&&d(t,null,"ajaxStop")}function v(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||d(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void d(e,n,"ajaxSend",[t,e])}function y(t,e,n,r){var i=n.context,o="success";n.success.call(i,t,o,e),r&&r.resolveWith(i,[t,o,e]),d(n,i,"ajaxSuccess",[e,n,t]),b(o,e,n)}function x(t,e,n,r,i){var o=r.context;r.error.call(o,n,e,t),i&&i.rejectWith(o,[n,e,t]),d(r,o,"ajaxError",[n,r,t||e]),b(e,n,r)}function b(t,e,n){var r=n.context;n.complete.call(r,e,t),d(n,r,"ajaxComplete",[e,n]),g(n)}function E(t,e,n){if(n.dataFilter==j)return t;var r=n.context;return n.dataFilter.call(r,t,e)}function j(){}function w(t){return t&&(t=t.split(";",2)[0]),t&&(t==c?"html":t==f?"json":a.test(t)?"script":u.test(t)&&"xml")||"text"}function T(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function S(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=T(t.url,t.data),t.data=void 0)}function C(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}function O(t,n,r,i){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,function(n,u){o=e.type(u),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?t.add(u.name,u.value):"array"==o||!r&&"object"==o?O(t,u,r,n):t.add(n,u)})}var i,o,n=+new Date,r=t.document,s=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=/^(?:text|application)\/javascript/i,u=/^(?:text|application)\/xml/i,f="application/json",c="text/html",l=/^\s*$/,h=r.createElement("a");h.href=t.location.href,e.active=0,e.ajaxJSONP=function(i,o){if(!("type"in i))return e.ajax(i);var c,p,s=i.jsonpCallback,a=(e.isFunction(s)?s():s)||"Zepto"+n++,u=r.createElement("script"),f=t[a],l=function(t){e(u).triggerHandler("error",t||"abort")},h={abort:l};return o&&o.promise(h),e(u).on("load error",function(n,r){clearTimeout(p),e(u).off().remove(),"error"!=n.type&&c?y(c[0],h,i,o):x(null,r||"error",h,i,o),t[a]=f,c&&e.isFunction(f)&&f(c[0]),f=c=void 0}),v(h,i)===!1?(l("abort"),h):(t[a]=function(){c=arguments},u.src=i.url.replace(/\?(.+)=\?/,"?$1="+a),r.head.appendChild(u),i.timeout>0&&(p=setTimeout(function(){l("timeout")},i.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:f,xml:"application/xml, text/xml",html:c,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:j},e.ajax=function(n){var u,f,s=e.extend({},n||{}),a=e.Deferred&&e.Deferred();for(i in e.ajaxSettings)void 0===s[i]&&(s[i]=e.ajaxSettings[i]);m(s),s.crossDomain||(u=r.createElement("a"),u.href=s.url,u.href=u.href,s.crossDomain=h.protocol+"//"+h.host!=u.protocol+"//"+u.host),s.url||(s.url=t.location.toString()),(f=s.url.indexOf("#"))>-1&&(s.url=s.url.slice(0,f)),S(s);var c=s.dataType,p=/\?.+=\?/.test(s.url);if(p&&(c="jsonp"),s.cache!==!1&&(n&&n.cache===!0||"script"!=c&&"jsonp"!=c)||(s.url=T(s.url,"_="+Date.now())),"jsonp"==c)return p||(s.url=T(s.url,s.jsonp?s.jsonp+"=?":s.jsonp===!1?"":"callback=?")),e.ajaxJSONP(s,a);var P,d=s.accepts[c],g={},b=function(t,e){g[t.toLowerCase()]=[t,e]},C=/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:t.location.protocol,N=s.xhr(),O=N.setRequestHeader;if(a&&a.promise(N),s.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",d||"*/*"),(d=s.mimeType||d)&&(d.indexOf(",")>-1&&(d=d.split(",",2)[0]),N.overrideMimeType&&N.overrideMimeType(d)),(s.contentType||s.contentType!==!1&&s.data&&"GET"!=s.type.toUpperCase())&&b("Content-Type",s.contentType||"application/x-www-form-urlencoded"),s.headers)for(o in s.headers)b(o,s.headers[o]);if(N.setRequestHeader=b,N.onreadystatechange=function(){if(4==N.readyState){N.onreadystatechange=j,clearTimeout(P);var t,n=!1;if(N.status>=200&&N.status<300||304==N.status||0==N.status&&"file:"==C){if(c=c||w(s.mimeType||N.getResponseHeader("content-type")),"arraybuffer"==N.responseType||"blob"==N.responseType)t=N.response;else{t=N.responseText;try{t=E(t,c,s),"script"==c?(1,eval)(t):"xml"==c?t=N.responseXML:"json"==c&&(t=l.test(t)?null:e.parseJSON(t))}catch(r){n=r}if(n)return x(n,"parsererror",N,s,a)}y(t,N,s,a)}else x(N.statusText||null,N.status?"error":"abort",N,s,a)}},v(N,s)===!1)return N.abort(),x(null,"abort",N,s,a),N;var A="async"in s?s.async:!0;if(N.open(s.type,s.url,A,s.username,s.password),s.xhrFields)for(o in s.xhrFields)N[o]=s.xhrFields[o];for(o in g)O.apply(N,g[o]);return s.timeout>0&&(P=setTimeout(function(){N.onreadystatechange=j,N.abort(),x(null,"timeout",N,s,a)},s.timeout)),N.send(s.data?s.data:null),N},e.get=function(){return e.ajax(C.apply(null,arguments))},e.post=function(){var t=C.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=C.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var a,i=this,o=t.split(/\s/),u=C(t,n,r),f=u.success;return o.length>1&&(u.url=o[0],a=o[1]),u.success=function(t){i.html(a?e("<div>").html(t.replace(s,"")).find(a):t),f&&f.apply(i,arguments)},e.ajax(u),this};var N=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(N(t)+"="+N(n))},O(r,t,n),r.join("&").replace(/%20/g,"+")}}(e),function(t){t.fn.serializeArray=function(){var e,n,r=[],i=function(t){return t.forEach?t.forEach(i):void r.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(r,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(t(o).val())}),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;t.getComputedStyle=function(t,e){try{return n(t,e)}catch(r){return null}}}}(),e});
!function(i){!function(i,a){var o=this.os={},e=this.browser={},t=i.match(/(Android);?[\s\/]+([\d.]+)?/),r=!!i.match(/\(Macintosh\; Intel /),a=/Win\d{2}|Windows/.test(a),s=i.match(/(iPad).*OS\s([\d_]+)/),c=i.match(/(iPod)(.*OS\s([\d_]+))?/),n=!s&&i.match(/(iPhone\sOS)\s([\d_]+)/),h=!s&&!n&&i.match(/(Macintosh;.*Mac\sOS\sX)\s([\d_]+)/),d=i.match(/Chrome\/([\d.]+)/)||i.match(/CriOS\/([\d.]+)/),m=i.match(/Firefox\/([\d.]+)/),v=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),S=!d&&i.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),f=S||i.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);t&&(o.android=!0,o.version=t[2]);n&&!c&&(o.ios=o.iphone=!0,o.version=n[2].replace(/_/g,"."));s&&(o.ios=o.ipad=!0,o.version=s[2].replace(/_/g,"."));h&&(o.ios=o.mac=!0,o.version=h[2].replace(/_/g,"."));d&&(e.chrome=!0,e.version=d[1]);m&&(e.firefox=!0,e.version=m[1]);v&&(e.ie=!0,e.version=v[1]);if(f&&(r||o.ios||a)){e.safari=!0;o.ios||(e.version=f[1])}S&&(e.webview=!0);o.phone=!(o.tablet||o.ipod||!(t||n||d&&i.match(/Android/)||d&&i.match(/CriOS\/([\d.]+)/)||m&&i.match(/Mobile/)||v&&i.match(/Touch/)))}.call(i,navigator.userAgent,navigator.platform)}(Zepto);

!function t(e){var r,i;r=this,i=function(){"use strict";function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,m(i.key),i)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},o.apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,h(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,r){return c=d()?Reflect.construct.bind():function(t,e,r){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return r&&h(n,r.prototype),n},c.apply(null,arguments)}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return c(t,arguments,u(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,t)},f(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function v(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y={exports:{}};!function(t,e){var r,i,n,a,s;r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var n=s.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):e;var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var h=o.path,d=h.substring(0,h.lastIndexOf("/")+1)+a.path;u.path=s.normalizePath(d)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(u)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(n,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s}(y);var T=y.exports,E=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},S=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),L=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),R=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({}),A=function(){},k={trace:A,debug:A,log:A,warn:A,info:A,error:A},b=k;function D(t){var e=self.console[t];return e?e.bind(self.console,"["+t+"] >"):A}function I(t,e){if(self.console&&!0===t||"object"==typeof t){!function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];r.forEach((function(e){b[e]=t[e]?t[e].bind(t):D(e)}))}(t,"debug","log","info","warn","error");try{b.log('Debug logs enabled for "'+e+'" in hls.js version 1.4.12')}catch(t){b=k}}else b=k}var w=b,C=/^(\d+)x(\d+)$/,_=/(.+?)=(".*?"|.*?)(?:,|$)/g,P=function(){function t(e){for(var r in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&("X-"===r.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=e[r])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)r[i]=parseInt(e.slice(2*i,2*i+2),16);return r}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var r=this[t];return r?parseFloat(r):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return"YES"===this[t]},e.decimalResolution=function(t){var e=C.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(_.lastIndex=0;null!==(e=_.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[e[1].trim()]=i}return r},t}();function x(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}var F=function(){function t(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){var r=e.attr;for(var i in r)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]!==r[i]){w.warn('DATERANGE tag attribute: "'+i+'" does not match for tags with ID: "'+t.ID+'"'),this._badValueForSameId=i;break}t=o(new P({}),r,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){var n=new Date(this.attr["END-DATE"]);E(n.getTime())&&(this._endDate=n)}}return a(t,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var t=this.attr.decimalFloatingPoint("DURATION");if(E(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&E(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),t}(),M=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},O="audio",N="video",U="audiovideo",B=function(){function t(t){var e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((e={})[O]=null,e[N]=null,e[U]=null,e),this.baseurl=t}return t.prototype.setByteRange=function(t,e){var r=t.split("@",2),i=[];1===r.length?i[0]=e?e.byteRangeEndOffset:0:i[0]=parseInt(r[1]),i[1]=parseInt(r[0])+i[0],this._byteRange=i},a(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=T.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),G=function(t){function e(e,r){var i;return(i=t.call(this,r)||this)._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkeys=void 0,i.type=void 0,i.loader=null,i.keyLoader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new M,i.urlId=0,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.endList=void 0,i.gap=void 0,i.type=e,i}l(e,t);var r=e.prototype;return r.setKeyFormat=function(t){if(this.levelkeys){var e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}},r.abortRequests=function(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()},r.setElementaryStreamInfo=function(t,e,r,i,n,a){void 0===a&&(a=!1);var s=this.elementaryStreams,o=s[t];o?(o.startPTS=Math.min(o.startPTS,e),o.endPTS=Math.max(o.endPTS,r),o.startDTS=Math.min(o.startDTS,i),o.endDTS=Math.max(o.endDTS,n)):s[t]={startPTS:e,endPTS:r,startDTS:i,endDTS:n,partial:a}},r.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[O]=null,t[N]=null,t[U]=null},a(e,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!E(this.programDateTime))return null;var t=E(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){var e=Object.keys(this.levelkeys),r=e.length;if(r>1||1===r&&this.levelkeys[e[0]].encrypted)return!0}return!1}}]),e}(B),K=function(t){function e(e,r,i,n,a){var s;(s=t.call(this,i)||this).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new M,s.duration=e.decimalFloatingPoint("DURATION"),s.gap=e.bool("GAP"),s.independent=e.bool("INDEPENDENT"),s.relurl=e.enumeratedString("URI"),s.fragment=r,s.index=n;var o=e.enumeratedString("BYTERANGE");return o&&s.setByteRange(o,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return l(e,t),a(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),e}(B),H=function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,r=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!r||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay},a(t,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&E(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),t}();function V(t){return Uint8Array.from(atob(t),(function(t){return t.charCodeAt(0)}))}function Y(t){var e,r,i=t.split(":"),n=null;if("data"===i[0]&&2===i.length){var a=i[1].split(";"),s=a[a.length-1].split(",");if(2===s.length){var o="base64"===s[0],l=s[1];o?(a.splice(-1,1),n=V(l)):(e=W(l).subarray(0,16),(r=new Uint8Array(16)).set(e,16-e.length),n=r)}}return n}function W(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(function(t){return t.charCodeAt(0)}))}var j={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},q="org.w3.clearkey",X="com.apple.streamingkeydelivery",z="com.microsoft.playready",Q="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function $(t){switch(t){case X:return j.FAIRPLAY;case z:return j.PLAYREADY;case Q:return j.WIDEVINE;case q:return j.CLEARKEY}}var J="edef8ba979d64acea3c827dcd51d21ed";function Z(t){switch(t){case j.FAIRPLAY:return X;case j.PLAYREADY:return z;case j.WIDEVINE:return Q;case j.CLEARKEY:return q}}function tt(t){var e=t.drmSystems,r=t.widevineLicenseUrl,i=e?[j.FAIRPLAY,j.WIDEVINE,j.PLAYREADY,j.CLEARKEY].filter((function(t){return!!e[t]})):[];return!i[j.WIDEVINE]&&r&&i.push(j.WIDEVINE),i}var et="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function rt(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}var it,nt=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},at=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},st=function(t,e){for(var r=e,i=0;nt(t,e);)i+=10,i+=ot(t,e+6),at(t,e+10)&&(i+=10),e+=i;if(i>0)return t.subarray(r,r+i)},ot=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},lt=function(t,e){return nt(t,e)&&ot(t,e+6)+10<=t.length-e},ut=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},ht=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=ot(t,4);return{type:e,size:r,data:t.subarray(10,10+r)}},dt=function(t){for(var e=0,r=[];nt(t,e);){for(var i=ot(t,e+6),n=(e+=10)+i;e+8<n;){var a=ht(t.subarray(e)),s=ct(a);s&&r.push(s),e+=a.size+10}at(t,e)&&(e+=10)}return r},ct=function(t){return"PRIV"===t.type?ft(t):"W"===t.type[0]?vt(t):gt(t)},ft=function(t){if(!(t.size<2)){var e=pt(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}},gt=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,r=pt(t.data.subarray(e),!0);e+=r.length+1;var i=pt(t.data.subarray(e));return{key:t.type,info:r,data:i}}var n=pt(t.data.subarray(1));return{key:t.type,data:n}}},vt=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,r=pt(t.data.subarray(e),!0);e+=r.length+1;var i=pt(t.data.subarray(e));return{key:t.type,info:r,data:i}}var n=pt(t.data);return{key:t.type,data:n}},mt=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},pt=function(t,e){void 0===e&&(e=!1);var r=yt();if(r){var i=r.decode(t);if(e){var n=i.indexOf("\0");return-1!==n?i.substring(0,n):i}return i.replace(/\0/g,"")}for(var a,s,o,l=t.length,u="",h=0;h<l;){if(0===(a=t[h++])&&e)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=t[h++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=t[h++],o=t[h++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&o)<<0)}}return u};function yt(){return it||void 0===self.TextDecoder||(it=new self.TextDecoder("utf-8")),it}var Tt=function(t){for(var e="",r=0;r<t.length;r++){var i=t[r].toString(16);i.length<2&&(i="0"+i),e+=i}return e},Et=Math.pow(2,32)-1,St=[].push,Lt={video:1,audio:2,id3:3,text:4};function Rt(t){return String.fromCharCode.apply(null,t)}function At(t,e){var r=t[e]<<8|t[e+1];return r<0?65536+r:r}function kt(t,e){var r=bt(t,e);return r<0?4294967296+r:r}function bt(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Dt(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}function It(t,e){var r=[];if(!e.length)return r;for(var i=t.byteLength,n=0;n<i;){var a=kt(t,n),s=a>1?n+a:i;if(Rt(t.subarray(n+4,n+8))===e[0])if(1===e.length)r.push(t.subarray(n+8,s));else{var o=It(t.subarray(n+8,s),e.slice(1));o.length&&St.apply(r,o)}n=s}return r}function wt(t){var e=[],r=t[0],i=8,n=kt(t,i);i+=4,i+=0===r?8:16,i+=2;var a=t.length+0,s=At(t,i);i+=2;for(var o=0;o<s;o++){var l=i,u=kt(t,l);l+=4;var h=2147483647&u;if(1==(2147483648&u)>>>31)return w.warn("SIDX has hierarchical references (not supported)"),null;var d=kt(t,l);l+=4,e.push({referenceSize:h,subsegmentDuration:d,info:{duration:d/n,start:a,end:a+h-1}}),a+=h,i=l+=4}return{earliestPresentationTime:0,timescale:n,version:r,referencesCount:s,references:e}}function Ct(t){for(var e=[],r=It(t,["moov","trak"]),i=0;i<r.length;i++){var n=r[i],a=It(n,["tkhd"])[0];if(a){var s=a[0],o=0===s?12:20,l=kt(a,o),u=It(n,["mdia","mdhd"])[0];if(u){var h=kt(u,o=0===(s=u[0])?12:20),d=It(n,["mdia","hdlr"])[0];if(d){var c=Rt(d.subarray(8,12)),f={soun:O,vide:N}[c];if(f){var g=It(n,["mdia","minf","stbl","stsd"])[0],v=void 0;g&&(v=Rt(g.subarray(12,16))),e[l]={timescale:h,type:f},e[f]={timescale:h,id:l,codec:v}}}}}}return It(t,["moov","mvex","trex"]).forEach((function(t){var r=kt(t,4),i=e[r];i&&(i.default={duration:kt(t,12),flags:kt(t,20)})})),e}function _t(t){var e=It(t,["schm"])[0];if(e){var r=Rt(e.subarray(4,8));if("cbcs"===r||"cenc"===r)return It(t,["schi","tenc"])[0]}return w.error("[eme] missing 'schm' box"),null}function Pt(t){var e=kt(t,0),r=8;1&e&&(r+=4),4&e&&(r+=4);for(var i=0,n=kt(t,4),a=0;a<n;a++)256&e&&(i+=kt(t,r),r+=4),512&e&&(r+=4),1024&e&&(r+=4),2048&e&&(r+=4);return i}function xt(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function Ft(t,e){var r=[],i=e.samples,n=e.timescale,a=e.id,s=!1;return It(i,["moof"]).map((function(o){var l=o.byteOffset-8;It(o,["traf"]).map((function(o){var u=It(o,["tfdt"]).map((function(t){var e=t[0],r=kt(t,4);return 1===e&&(r*=Math.pow(2,32),r+=kt(t,8)),r/n}))[0];return void 0!==u&&(t=u),It(o,["tfhd"]).map((function(u){var h=kt(u,4),d=16777215&kt(u,0),c=0,f=0!=(16&d),g=0,v=0!=(32&d),m=8;h===a&&(0!=(1&d)&&(m+=8),0!=(2&d)&&(m+=4),0!=(8&d)&&(c=kt(u,m),m+=4),f&&(g=kt(u,m),m+=4),v&&(m+=4),"video"===e.type&&(s=function(t){if(!t)return!1;var e=t.indexOf("."),r=e<0?t:t.substring(0,e);return"hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}(e.codec)),It(o,["trun"]).map((function(a){var o=a[0],u=16777215&kt(a,0),h=0!=(1&u),d=0,f=0!=(4&u),v=0!=(256&u),m=0,p=0!=(512&u),y=0,T=0!=(1024&u),E=0!=(2048&u),S=0,L=kt(a,4),R=8;h&&(d=kt(a,R),R+=4),f&&(R+=4);for(var A=d+l,k=0;k<L;k++){if(v?(m=kt(a,R),R+=4):m=c,p?(y=kt(a,R),R+=4):y=g,T&&(R+=4),E&&(S=0===o?kt(a,R):bt(a,R),R+=4),e.type===N)for(var b=0;b<y;){var D=kt(i,A);Mt(s,i[A+=4])&&Ot(i.subarray(A,A+D),s?2:1,t+S/n,r),A+=D,b+=D+4}t+=m/n}})))}))}))})),r}function Mt(t,e){if(t){var r=e>>1&63;return 39===r||40===r}return 6==(31&e)}function Ot(t,e,r,i){var n=Nt(t),a=0;a+=e;for(var s=0,o=0,l=!1,u=0;a<n.length;){s=0;do{if(a>=n.length)break;s+=u=n[a++]}while(255===u);o=0;do{if(a>=n.length)break;o+=u=n[a++]}while(255===u);var h=n.length-a;if(!l&&4===s&&a<n.length){if(l=!0,181===n[a++]){var d=At(n,a);if(a+=2,49===d){var c=kt(n,a);if(a+=4,1195456820===c){var f=n[a++];if(3===f){var g=n[a++],v=64&g,m=v?2+3*(31&g):0,p=new Uint8Array(m);if(v){p[0]=g;for(var y=1;y<m;y++)p[y]=n[a++]}i.push({type:f,payloadType:s,pts:r,bytes:p})}}}}}else if(5===s&&o<h){if(l=!0,o>16){for(var T=[],E=0;E<16;E++){var S=n[a++].toString(16);T.push(1==S.length?"0"+S:S),3!==E&&5!==E&&7!==E&&9!==E||T.push("-")}for(var L=o-16,R=new Uint8Array(L),A=0;A<L;A++)R[A]=n[a++];i.push({payloadType:s,pts:r,uuid:T.join(""),userData:pt(R),userDataBytes:R})}}else if(o<h)a+=o;else if(o>h)break}}function Nt(t){for(var e=t.byteLength,r=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return t;var n=e-r.length,a=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=t[s];return a}function Ut(t,e,r){if(16!==t.byteLength)throw new RangeError("Invalid system id");var i,n,a;if(e){i=1,n=new Uint8Array(16*e.length);for(var s=0;s<e.length;s++){var o=e[s];if(16!==o.byteLength)throw new RangeError("Invalid key");n.set(o,16*s)}}else i=0,n=new Uint8Array;i>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(l.buffer).setUint32(0,r.byteLength,!1),function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];for(var n=r.length,a=8,s=n;s--;)a+=r[s].byteLength;var o=new Uint8Array(a);for(o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,o.set(t,4),s=0,a=8;s<n;s++)o.set(r[s],a),a+=r[s].byteLength;return o}([112,115,115,104],new Uint8Array([i,0,0,0]),t,a,n,l,r||new Uint8Array)}var Bt={},Gt=function(){function t(t,e,r,i,n){void 0===i&&(i=[1]),void 0===n&&(n=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=r,this.keyFormatVersions=i,this.iv=n,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}t.clearKeyUriToKeyIdMap=function(){Bt={}};var e=t.prototype;return e.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case X:case Q:case z:case q:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1},e.getDecryptData=function(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof e&&("AES-128"!==this.method||this.iv||w.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),e=0);var r=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}(e);return new t(this.method,this.uri,"identity",this.keyFormatVersions,r)}var i=Y(this.uri);if(i)switch(this.keyFormat){case Q:this.pssh=i,i.length>=22&&(this.keyId=i.subarray(i.length-22,i.length-6));break;case z:var n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Ut(n,null,i);var a=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2),s=String.fromCharCode.apply(null,Array.from(a)),o=s.substring(s.indexOf("<"),s.length),l=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(l){var u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){var h=V(u).subarray(0,16);!function(t){var e=function(t,e,r){var i=t[e];t[e]=t[r],t[r]=i};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(h),this.keyId=h}}break;default:var d=i.subarray(0,16);if(16!==d.length){var c=new Uint8Array(16);c.set(d,16-d.length),d=c}this.keyId=d}if(!this.keyId||16!==this.keyId.byteLength){var f=Bt[this.uri];if(!f){var g=Object.keys(Bt).length%Number.MAX_SAFE_INTEGER;f=new Uint8Array(16),new DataView(f.buffer,12,4).setUint32(0,g),Bt[this.uri]=f}this.keyId=f}return this},t}(),Kt=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ht(t){return Kt.test(t)}function Vt(t,e,r){if(null!==t.variableList||t.hasVariableRefs)for(var i=r.length;i--;){var n=r[i],a=e[n];a&&(e[n]=Yt(t,a))}}function Yt(t,e){if(null!==t.variableList||t.hasVariableRefs){var r=t.variableList;return e.replace(Kt,(function(e){var i=e.substring(2,e.length-1),n=null==r?void 0:r[i];return void 0===n?(t.playlistParsingError||(t.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+i+'"')),e):n}))}return e}function Wt(t,e,r){var i,n,a=t.variableList;if(a||(t.variableList=a={}),"QUERYPARAM"in e){i=e.QUERYPARAM;try{var s=new self.URL(r).searchParams;if(!s.has(i))throw new Error('"'+i+'" does not match any query parameter in URI: "'+r+'"');n=s.get(i)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+e.message))}}else i=e.NAME,n=e.VALUE;i in a?t.playlistParsingError||(t.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+i+'"')):a[i]=n||""}function jt(t,e,r){var i=e.IMPORT;if(r&&i in r){var n=t.variableList;n||(t.variableList=n={}),n[i]=r[i]}else t.playlistParsingError||(t.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+i+'"'))}function qt(){if("undefined"!=typeof self)return self.MediaSource||self.WebKitMediaSource}var Xt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},zt=qt();function Qt(t,e){var r;return null!=(r=null==zt?void 0:zt.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"'))&&r}var $t=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Jt=/#EXT-X-MEDIA:(.*)/g,Zt=/^#EXT(?:INF|-X-TARGETDURATION):/m,te=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),ee=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),re=function(){function t(){}return t.findGroup=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(i.id===e)return i}},t.convertAVC1ToAVCOTI=function(t){var e=t.split(".");if(e.length>2){var r=e.shift()+".";return r+=parseInt(e.shift()).toString(16),r+=("000"+parseInt(e.shift()).toString(16)).slice(-4)}return t},t.resolve=function(t,e){return T.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.isMediaPlaylist=function(t){return Zt.test(t)},t.parseMasterPlaylist=function(e,r){var i,n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Ht(e)},a=[];for($t.lastIndex=0;null!=(i=$t.exec(e));)if(i[1]){var s,o=new P(i[1]);Vt(n,o,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var l=Yt(n,i[2]),u={attrs:o,bitrate:o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),name:o.NAME,url:t.resolve(l,r)},h=o.decimalResolution("RESOLUTION");h&&(u.width=h.width,u.height=h.height),ae((o.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=t.convertAVC1ToAVCOTI(u.videoCodec)),null!=(s=u.unknownCodecs)&&s.length||a.push(u),n.levels.push(u)}else if(i[3]){var d=i[3],c=i[4];switch(d){case"SESSION-DATA":var f=new P(c);Vt(n,f,["DATA-ID","LANGUAGE","VALUE","URI"]);var g=f["DATA-ID"];g&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[g]=f);break;case"SESSION-KEY":var v=ie(c,r,n);v.encrypted&&v.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(v)):w.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+c+'"');break;case"DEFINE":var m=new P(c);Vt(n,m,["NAME","VALUE","QUERYPARAM"]),Wt(n,m,r);break;case"CONTENT-STEERING":var p=new P(c);Vt(n,p,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:t.resolve(p["SERVER-URI"],r),pathwayId:p["PATHWAY-ID"]||"."};break;case"START":n.startTimeOffset=ne(c)}}var y=a.length>0&&a.length<n.levels.length;return n.levels=y?a:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n},t.parseMasterPlaylistMedia=function(e,r,i){var n,a={},s=i.levels,o={AUDIO:s.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),SUBTITLES:s.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;for(Jt.lastIndex=0;null!==(n=Jt.exec(e));){var u=new P(n[1]),h=u.TYPE;if(h){var d=o[h],c=a[h]||[];a[h]=c,Vt(i,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var f={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:h,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?t.resolve(u.URI,r):""};if(null!=d&&d.length){var g=t.findGroup(d,f.groupId)||d[0];se(f,g,"audioCodec"),se(f,g,"textCodec")}c.push(f)}}return a},t.parseLevelPlaylist=function(t,e,r,i,n,a){var s,l,u,h=new H(e),d=h.fragments,c=null,f=0,g=0,v=0,m=0,p=null,y=new G(i,e),T=-1,S=!1;for(te.lastIndex=0,h.m3u8=t,h.hasVariableRefs=Ht(t);null!==(s=te.exec(t));){S&&(S=!1,(y=new G(i,e)).start=v,y.sn=f,y.cc=m,y.level=r,c&&(y.initSegment=c,y.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null));var L=s[1];if(L){y.duration=parseFloat(L);var R=(" "+s[2]).slice(1);y.title=R||null,y.tagList.push(R?["INF",L,R]:["INF",L])}else if(s[3]){if(E(y.duration)){y.start=v,u&&ue(y,u,h),y.sn=f,y.level=r,y.cc=m,y.urlId=n,d.push(y);var A=(" "+s[3]).slice(1);y.relurl=Yt(h,A),oe(y,p),p=y,v+=y.duration,f++,g=0,S=!0}}else if(s[4]){var k=(" "+s[4]).slice(1);p?y.setByteRange(k,p):y.setByteRange(k)}else if(s[5])y.rawProgramDateTime=(" "+s[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]),-1===T&&(T=d.length);else{if(!(s=s[0].match(ee))){w.warn("No matches on slow regex match for level playlist!");continue}for(l=1;l<s.length&&void 0===s[l];l++);var b=(" "+s[l]).slice(1),D=(" "+s[l+1]).slice(1),I=s[l+2]?(" "+s[l+2]).slice(1):"";switch(b){case"PLAYLIST-TYPE":h.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":f=h.startSN=parseInt(D);break;case"SKIP":var C=new P(D);Vt(h,C,["RECENTLY-REMOVED-DATERANGES"]);var _=C.decimalInteger("SKIPPED-SEGMENTS");if(E(_)){h.skippedSegments=_;for(var x=_;x--;)d.unshift(null);f+=_}var M=C.enumeratedString("RECENTLY-REMOVED-DATERANGES");M&&(h.recentlyRemovedDateranges=M.split("\t"));break;case"TARGETDURATION":h.targetduration=Math.max(parseInt(D),1);break;case"VERSION":h.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":h.live=!1;break;case"#":(D||I)&&y.tagList.push(I?[D,I]:[D]);break;case"DISCONTINUITY":m++,y.tagList.push(["DIS"]);break;case"GAP":y.gap=!0,y.tagList.push([b]);break;case"BITRATE":y.tagList.push([b,D]);break;case"DATERANGE":var O=new P(D);Vt(h,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Vt(h,O,O.clientAttrs);var N=new F(O,h.dateRanges[O.ID]);N.isValid||h.skippedSegments?h.dateRanges[N.id]=N:w.warn('Ignoring invalid DATERANGE tag: "'+D+'"'),y.tagList.push(["EXT-X-DATERANGE",D]);break;case"DEFINE":var U=new P(D);Vt(h,U,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in U?jt(h,U,a):Wt(h,U,e);break;case"DISCONTINUITY-SEQUENCE":m=parseInt(D);break;case"KEY":var B=ie(D,e,h);if(B.isSupported()){if("NONE"===B.method){u=void 0;break}u||(u={}),u[B.keyFormat]&&(u=o({},u)),u[B.keyFormat]=B}else w.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+D+'"');break;case"START":h.startTimeOffset=ne(D);break;case"MAP":var V=new P(D);if(Vt(h,V,["BYTERANGE","URI"]),y.duration){var Y=new G(i,e);le(Y,V,r,u),c=Y,y.initSegment=c,c.rawProgramDateTime&&!y.rawProgramDateTime&&(y.rawProgramDateTime=c.rawProgramDateTime)}else le(y,V,r,u),c=y,S=!0;break;case"SERVER-CONTROL":var W=new P(D);h.canBlockReload=W.bool("CAN-BLOCK-RELOAD"),h.canSkipUntil=W.optionalFloat("CAN-SKIP-UNTIL",0),h.canSkipDateRanges=h.canSkipUntil>0&&W.bool("CAN-SKIP-DATERANGES"),h.partHoldBack=W.optionalFloat("PART-HOLD-BACK",0),h.holdBack=W.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var j=new P(D);h.partTarget=j.decimalFloatingPoint("PART-TARGET");break;case"PART":var q=h.partList;q||(q=h.partList=[]);var X=g>0?q[q.length-1]:void 0,z=g++,Q=new P(D);Vt(h,Q,["BYTERANGE","URI"]);var $=new K(Q,y,e,z,X);q.push($),y.duration+=$.duration;break;case"PRELOAD-HINT":var J=new P(D);Vt(h,J,["URI"]),h.preloadHint=J;break;case"RENDITION-REPORT":var Z=new P(D);Vt(h,Z,["URI"]),h.renditionReports=h.renditionReports||[],h.renditionReports.push(Z);break;default:w.warn("line parsed but not handled: "+s)}}}p&&!p.relurl?(d.pop(),v-=p.duration,h.partList&&(h.fragmentHint=p)):h.partList&&(oe(y,p),y.cc=m,h.fragmentHint=y,u&&ue(y,u,h));var tt=d.length,et=d[0],rt=d[tt-1];if((v+=h.skippedSegments*h.targetduration)>0&&tt&&rt){h.averagetargetduration=v/tt;var it=rt.sn;h.endSN="initSegment"!==it?it:0,h.live||(rt.endList=!0),et&&(h.startCC=et.cc)}else h.endSN=0,h.startCC=0;return h.fragmentHint&&(v+=h.fragmentHint.duration),h.totalduration=v,h.endCC=m,T>0&&function(t,e){for(var r=t[e],i=e;i--;){var n=t[i];if(!n)return;n.programDateTime=r.programDateTime-1e3*n.duration,r=n}}(d,T),h},t}();function ie(t,e,r){var i,n,a=new P(t);Vt(r,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var s=null!=(i=a.METHOD)?i:"",o=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,h=null!=(n=a.KEYFORMAT)?n:"identity";o&&a.IV&&!l&&w.error("Invalid IV: "+a.IV);var d=o?re.resolve(o,e):"",c=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Gt(s,d,h,c,l)}function ne(t){var e=new P(t).decimalFloatingPoint("TIME-OFFSET");return E(e)?e:null}function ae(t,e){["video","audio","text"].forEach((function(r){var i=t.filter((function(t){return function(t,e){var r=Xt[e];return!!r&&!0===r[t.slice(0,4)]}(t,r)}));if(i.length){var n=i.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[r+"Codec"]=n.length>0?n[0]:i[0],t=t.filter((function(t){return-1===i.indexOf(t)}))}})),e.unknownCodecs=t}function se(t,e,r){var i=e[r];i&&(t[r]=i)}function oe(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),E(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function le(t,e,r,i){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",i&&(t.levelkeys=i),t.initSegment=null}function ue(t,e,r){t.levelkeys=e;var i=r.encryptedFragments;i.length&&i[i.length-1].levelkeys===e||!Object.keys(e).some((function(t){return e[t].isCommonEncryption}))||i.push(t)}var he="manifest",de="level",ce="audioTrack",fe="subtitleTrack",ge="main",ve="audio",me="subtitle";function pe(t){switch(t.type){case ce:return ve;case fe:return me;default:return ge}}function ye(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r}var Te=function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}var e=t.prototype;return e.startLoad=function(t){},e.stopLoad=function(){this.destroyInternalLoaders()},e.registerListeners=function(){var t=this.hls;t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.LEVEL_LOADING,this.onLevelLoading,this),t.on(S.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(S.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.LEVEL_LOADING,this.onLevelLoading,this),t.off(S.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(S.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,i=e.loader,n=new(r||i)(e);return this.loaders[t.type]=n,n},e.getInternalLoader=function(t){return this.loaders[t.type]},e.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=function(t,e){var r=e.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:he,url:r,deliveryDirectives:null})},e.onLevelLoading=function(t,e){var r=e.id,i=e.level,n=e.url,a=e.deliveryDirectives;this.load({id:r,level:i,responseType:"text",type:de,url:n,deliveryDirectives:a})},e.onAudioTrackLoading=function(t,e){var r=e.id,i=e.groupId,n=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:"text",type:ce,url:n,deliveryDirectives:a})},e.onSubtitleTrackLoading=function(t,e){var r=e.id,i=e.groupId,n=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:"text",type:fe,url:n,deliveryDirectives:a})},e.load=function(t){var e,r,i,n=this,a=this.hls.config,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===t.url)return void w.trace("[playlist-loader]: playlist request ongoing");w.log("[playlist-loader]: aborting previous loader for type: "+t.type),s.abort()}if(r=t.type===he?a.manifestLoadPolicy.default:o({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(t),null!=(e=t.deliveryDirectives)&&e.part&&(t.type===de&&null!==t.level?i=this.hls.levels[t.level].details:t.type===ce&&null!==t.id?i=this.hls.audioTracks[t.id].details:t.type===fe&&null!==t.id&&(i=this.hls.subtitleTracks[t.id].details),i)){var u=i.partTarget,h=i.targetduration;if(u&&h){var d=1e3*Math.max(3*u,.8*h);r=o({},r,{maxTimeToFirstByteMs:Math.min(d,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,r.maxTimeToFirstByteMs)})}}var c=r.errorRetry||r.timeoutRetry||{},f={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},g={onSuccess:function(t,e,r,i){var a=n.getInternalLoader(r);n.resetInternalLoader(r.type);var s=t.data;0===s.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),re.isMediaPlaylist(s)?n.handleTrackOrLevelPlaylist(t,e,r,i||null,a):n.handleMasterPlaylist(t,e,r,i)):n.handleManifestParsingError(t,r,new Error("no EXTM3U delimiter"),i||null,e)},onError:function(t,e,r,i){n.handleNetworkError(e,r,!1,t,i)},onTimeout:function(t,e,r){n.handleNetworkError(e,r,!0,void 0,t)}};s.load(t,f,g)},e.handleMasterPlaylist=function(t,e,r,i){var n=this.hls,a=t.data,s=ye(t,r),o=re.parseMasterPlaylist(a,s);if(o.playlistParsingError)this.handleManifestParsingError(t,r,o.playlistParsingError,i,e);else{var l=o.contentSteering,u=o.levels,h=o.sessionData,d=o.sessionKeys,c=o.startTimeOffset,f=o.variableList;this.variableList=f;var g=re.parseMasterPlaylistMedia(a,s,o),v=g.AUDIO,m=void 0===v?[]:v,p=g.SUBTITLES,y=g["CLOSED-CAPTIONS"];m.length&&(m.some((function(t){return!t.url}))||!u[0].audioCodec||u[0].attrs.AUDIO||(w.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new P({}),bitrate:0,url:""}))),n.trigger(S.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:p,captions:y,contentSteering:l,url:s,stats:e,networkDetails:i,sessionData:h,sessionKeys:d,startTimeOffset:c,variableList:f})}},e.handleTrackOrLevelPlaylist=function(t,e,r,i,n){var a=this.hls,s=r.id,o=r.level,l=r.type,u=ye(t,r),h=E(s)?s:0,d=E(o)?o:h,c=pe(r),f=re.parseLevelPlaylist(t.data,u,d,c,h,this.variableList);if(l===he){var g={attrs:new P({}),bitrate:0,details:f,name:"",url:u};a.trigger(S.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:u,stats:e,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),r.levelDetails=f,this.handlePlaylistLoaded(f,t,e,r,i,n)},e.handleManifestParsingError=function(t,e,r,i,n){this.hls.trigger(S.ERROR,{type:L.NETWORK_ERROR,details:R.MANIFEST_PARSING_ERROR,fatal:e.type===he,url:t.url,err:r,error:r,reason:r.message,response:t,context:e,networkDetails:i,stats:n})},e.handleNetworkError=function(t,e,r,n,a){void 0===r&&(r=!1);var s="A network "+(r?"timeout":"error"+(n?" (status "+n.code+")":""))+" occurred while loading "+t.type;t.type===de?s+=": "+t.level+" id: "+t.id:t.type!==ce&&t.type!==fe||(s+=" id: "+t.id+' group-id: "'+t.groupId+'"');var o=new Error(s);w.warn("[playlist-loader]: "+s);var l=R.UNKNOWN,u=!1,h=this.getInternalLoader(t);switch(t.type){case he:l=r?R.MANIFEST_LOAD_TIMEOUT:R.MANIFEST_LOAD_ERROR,u=!0;break;case de:l=r?R.LEVEL_LOAD_TIMEOUT:R.LEVEL_LOAD_ERROR,u=!1;break;case ce:l=r?R.AUDIO_TRACK_LOAD_TIMEOUT:R.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case fe:l=r?R.SUBTITLE_TRACK_LOAD_TIMEOUT:R.SUBTITLE_LOAD_ERROR,u=!1}h&&this.resetInternalLoader(t.type);var d={type:L.NETWORK_ERROR,details:l,fatal:u,url:t.url,loader:h,context:t,error:o,networkDetails:e,stats:a};if(n){var c=(null==e?void 0:e.url)||t.url;d.response=i({url:c,data:void 0},n)}this.hls.trigger(S.ERROR,d)},e.handlePlaylistLoaded=function(t,e,r,i,n,a){var s=this.hls,o=i.type,l=i.level,u=i.id,h=i.groupId,d=i.deliveryDirectives,c=ye(e,i),f=pe(i),g="number"==typeof i.level&&f===ge?l:void 0;if(t.fragments.length){t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));var v=t.playlistParsingError;if(v)s.trigger(S.ERROR,{type:L.NETWORK_ERROR,details:R.LEVEL_PARSING_ERROR,fatal:!1,url:c,error:v,reason:v.message,response:e,context:i,level:g,parent:f,networkDetails:n,stats:r});else switch(t.live&&a&&(a.getCacheAge&&(t.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),o){case he:case de:s.trigger(S.LEVEL_LOADED,{details:t,level:g||0,id:u||0,stats:r,networkDetails:n,deliveryDirectives:d});break;case ce:s.trigger(S.AUDIO_TRACK_LOADED,{details:t,id:u||0,groupId:h||"",stats:r,networkDetails:n,deliveryDirectives:d});break;case fe:s.trigger(S.SUBTITLE_TRACK_LOADED,{details:t,id:u||0,groupId:h||"",stats:r,networkDetails:n,deliveryDirectives:d})}}else{var m=new Error("No Segments found in Playlist");s.trigger(S.ERROR,{type:L.NETWORK_ERROR,details:R.LEVEL_EMPTY_ERROR,fatal:!1,url:c,error:m,reason:m.message,response:e,context:i,level:g,parent:f,networkDetails:n,stats:r})}},t}();function Ee(t,e){var r;try{r=new Event("addtrack")}catch(t){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function Se(t,e){var r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(r){w.debug("[texttrack-utils]: "+r);try{var i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(t){w.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+t)}}"disabled"===r&&(t.mode=r)}function Le(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var r=t.cues.length;r--;)t.removeCue(t.cues[r]);"disabled"===e&&(t.mode=e)}function Re(t,e,r,i){var n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var a=function(t,e,r){var i=[],n=function(t,e){if(e<t[0].startTime)return 0;var r=t.length-1;if(e>t[r].endTime)return-1;for(var i=0,n=r;i<=n;){var a=Math.floor((n+i)/2);if(e<t[a].startTime)n=a-1;else{if(!(e>t[a].startTime&&i<r))return a;i=a+1}}return t[i].startTime-e<e-t[n].startTime?i:n}(t,e);if(n>-1)for(var a=n,s=t.length;a<s;a++){var o=t[a];if(o.startTime>=e&&o.endTime<=r)i.push(o);else if(o.startTime>r)return i}return i}(t.cues,e,r),s=0;s<a.length;s++)i&&!i(a[s])||t.removeCue(a[s]);"disabled"===n&&(t.mode=n)}var Ae="org.id3",ke="com.apple.quicktime.HLS",be="https://aomedia.org/emsg/ID3";function De(){if("undefined"!=typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Ie=function(){var t=De();try{new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function we(t,e){return t.getTime()/1e3-e}var Ce=function(){function t(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}var e=t.prototype;return e.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},e._registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(S.LEVEL_UPDATED,this.onLevelUpdated,this)},e._unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(S.LEVEL_UPDATED,this.onLevelUpdated,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onMediaDetaching=function(){this.id3Track&&(Le(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},e.onManifestLoading=function(){this.dateRangeCuesAppended={}},e.createTrack=function(t){var e=this.getID3Track(t.textTracks);return e.mode="hidden",e},e.getID3Track=function(t){if(this.media){for(var e=0;e<t.length;e++){var r=t[e];if("metadata"===r.kind&&"id3"===r.label)return Ee(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},e.onFragParsingMetadata=function(t,e){if(this.media){var r=this.hls.config,i=r.enableEmsgMetadataCues,n=r.enableID3MetadataCues;if(i||n){var a=e.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var s=De(),o=0;o<a.length;o++){var l=a[o].type;if((l!==be||i)&&n){var u=dt(a[o].data);if(u){var h=a[o].pts,d=h+a[o].duration;d>Ie&&(d=Ie),d-h<=0&&(d=h+.25);for(var c=0;c<u.length;c++){var f=u[c];if(!ut(f)){this.updateId3CueEnds(h,l);var g=new s(h,d,"");g.value=f,l&&(g.type=l),this.id3Track.addCue(g)}}}}}}}},e.updateId3CueEnds=function(t,e){var r,i=null==(r=this.id3Track)?void 0:r.cues;if(i)for(var n=i.length;n--;){var a=i[n];a.type===e&&a.startTime<t&&a.endTime===Ie&&(a.endTime=t)}},e.onBufferFlushing=function(t,e){var r=e.startOffset,i=e.endOffset,n=e.type,a=this.id3Track,s=this.hls;if(s){var o=s.config,l=o.enableEmsgMetadataCues,u=o.enableID3MetadataCues;a&&(l||u)&&Re(a,r,i,"audio"===n?function(t){return t.type===Ae&&u}:"video"===n?function(t){return t.type===be&&l}:function(t){return t.type===Ae&&u||t.type===be&&l})}},e.onLevelUpdated=function(t,e){var r=this,i=e.details;if(this.media&&i.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var n=this.dateRangeCuesAppended,a=this.id3Track,s=i.dateRanges,o=Object.keys(s);if(a)for(var l=Object.keys(n).filter((function(t){return!o.includes(t)})),u=function(){var t=l[h];Object.keys(n[t].cues).forEach((function(e){a.removeCue(n[t].cues[e])})),delete n[t]},h=l.length;h--;)u();var d=i.fragments[i.fragments.length-1];if(0!==o.length&&E(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var c=d.programDateTime/1e3-d.start,f=De(),g=function(){var t=o[v],e=s[t],i=n[t],a=(null==i?void 0:i.cues)||{},l=(null==i?void 0:i.durationKnown)||!1,u=we(e.startDate,c),h=Ie,d=e.endDate;if(d)h=we(d,c),l=!0;else if(e.endOnNext&&!l){var g=o.reduce((function(t,r){var i=s[r];return i.class===e.class&&i.id!==r&&i.startDate>e.startDate&&t.push(i),t}),[]).sort((function(t,e){return t.startDate.getTime()-e.startDate.getTime()}))[0];g&&(h=we(g.startDate,c),l=!0)}for(var m,p,y=Object.keys(e.attr),T=0;T<y.length;T++){var E=y[T];if("ID"!==(p=E)&&"CLASS"!==p&&"START-DATE"!==p&&"DURATION"!==p&&"END-DATE"!==p&&"END-ON-NEXT"!==p){var S=a[E];if(S)l&&!i.durationKnown&&(S.endTime=h);else{var L=e.attr[E];S=new f(u,h,""),x(E)&&(m=L,L=Uint8Array.from(m.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),S.value={key:E,data:L},S.type=ke,S.id=t,r.id3Track.addCue(S),a[E]=S}}}n[t]={cues:a,dateRange:e,durationKnown:l}},v=0;v<o.length;v++)g()}}},t}(),_e=function(){function t(t){var e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},e.registerListeners=function(){this.hls.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(S.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(S.ERROR,this.onError,this)},e.unregisterListeners=function(){this.hls.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(S.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(S.ERROR,this.onError,this)},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},e.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},e.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},e.onLevelUpdated=function(t,e){var r=e.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},e.onError=function(t,e){var r;e.details===R.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(r=this.levelDetails)&&r.live&&w.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},e.timeupdate=function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var i=this.config,n=i.lowLatencyMode,a=i.maxLiveSyncPlaybackRate;if(n&&1!==a){var s=this.targetLatency;if(null!==s){var o=r-s,l=o<Math.min(this.maxLatency,s+e.targetduration);if(e.live&&l&&o>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),h=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;t.playbackRate=Math.min(u,Math.max(1,h))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}},e.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},e.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},a(t,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,r=t.partHoldBack,i=t.targetduration,n=this.config,a=n.liveSyncDuration,s=n.liveSyncDurationCount,o=n.lowLatencyMode,l=this.hls.userConfig,u=o&&r||e;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:s*i);var h=i;return u+Math.min(1*this.stallCount,h)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,r=this.levelDetails;if(null===t||null===e||null===r)return null;var i=r.edge,n=t-e-this.edgeStalled,a=i-r.totalduration,s=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,n),s)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var r=t.buffered.length;return(r?t.buffered.end(r-1):e.edge)-this.currentTime}}]),t}(),Pe=["NONE","TYPE-0","TYPE-1",null],xe="",Fe="YES",Me="v2",Oe=function(){function t(t,e,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=r}return t.prototype.addDirectives=function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href},t}(),Ne=function(){function t(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}return t.prototype.addFallback=function(t){this.url.push(t.url),this._attrs.push(t.attrs)},a(t,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}},{key:"audioGroupId",get:function(){var t;return null==(t=this.audioGroupIds)?void 0:t[this.urlId]}},{key:"textGroupId",get:function(){var t;return null==(t=this.textGroupIds)?void 0:t[this.urlId]}}]),t}();function Ue(t,e){var r=e.startPTS;if(E(r)){var i,n=0;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&(i.duration=n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function Be(t,e,r,i,n,a){i-r<=0&&(w.warn("Fragment should have a positive duration",e),i=r+e.duration,a=n+e.duration);var s=r,o=i,l=e.startPTS,u=e.endPTS;if(E(l)){var h=Math.abs(l-r);E(e.deltaPTS)?e.deltaPTS=Math.max(h,e.deltaPTS):e.deltaPTS=h,s=Math.max(r,l),r=Math.min(r,l),n=Math.min(n,e.startDTS),o=Math.min(i,u),i=Math.max(i,u),a=Math.max(a,e.endDTS)}var d=r-e.start;0!==e.start&&(e.start=r),e.duration=i-e.start,e.startPTS=r,e.maxStartPTS=s,e.startDTS=n,e.endPTS=i,e.minEndPTS=o,e.endDTS=a;var c,f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;var g=f-t.startSN,v=t.fragments;for(v[g]=e,c=g;c>0;c--)Ue(v[c],v[c-1]);for(c=g;c<v.length-1;c++)Ue(v[c],v[c+1]);return t.fragmentHint&&Ue(v[v.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function Ge(t,e){for(var r=null,i=t.fragments,n=i.length-1;n>=0;n--){var a=i[n].initSegment;if(a){r=a;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var s,l,u,h,d,c=0;if(function(t,e,r){for(var i=e.skippedSegments,n=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(i?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=n;u<=a;u++){var h=l[s+u],d=o[u];i&&!d&&u<i&&(d=e.fragments[u]=h),h&&d&&r(h,d)}}(t,e,(function(t,i){t.relurl&&(c=t.cc-i.cc),E(t.startPTS)&&E(t.endPTS)&&(i.start=i.startPTS=t.startPTS,i.startDTS=t.startDTS,i.maxStartPTS=t.maxStartPTS,i.endPTS=t.endPTS,i.endDTS=t.endDTS,i.minEndPTS=t.minEndPTS,i.duration=t.endPTS-t.startPTS,i.duration&&(s=i),e.PTSKnown=e.alignedSliding=!0),i.elementaryStreams=t.elementaryStreams,i.loader=t.loader,i.stats=t.stats,i.urlId=t.urlId,t.initSegment&&(i.initSegment=t.initSegment,r=t.initSegment)})),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((function(t){var e;t.initSegment&&t.initSegment.relurl!==(null==(e=r)?void 0:e.relurl)||(t.initSegment=r)})),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed){w.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var f=e.skippedSegments;f--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=(l=t.dateRanges,u=e.dateRanges,h=e.recentlyRemovedDateranges,d=o({},l),h&&h.forEach((function(t){delete d[t]})),Object.keys(u).forEach((function(t){var e=new F(u[t].attr,d[t]);e.isValid?d[t]=e:w.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(u[t].attr)+'"')})),d));var g=e.fragments;if(c){w.warn("discontinuity sliding from playlist, take drift into account");for(var v=0;v<g.length;v++)g[v].cc+=c}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,r){if(t&&e)for(var i=0,n=0,a=t.length;n<=a;n++){var s=t[n],o=e[n+i];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):i--}}(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),s?Be(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):Ke(t,e),g.length&&(e.totalduration=e.edge-g[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var m=e.advancedDateTime;if(e.advanced&&m){var p=e.edge;e.driftStart||(e.driftStartTime=m,e.driftStart=p),e.driftEndTime=m,e.driftEnd=p}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function Ke(t,e){var r=e.startSN+e.skippedSegments-t.startSN,i=t.fragments;r<0||r>=i.length||He(e,i[r].start)}function He(t,e){if(e){for(var r=t.fragments,i=t.skippedSegments;i<r.length;i++)r[i].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Ve(t,e,r){var i;return null!=t&&t.details?Ye(null==(i=t.details)?void 0:i.partList,e,r):null}function Ye(t,e,r){if(t)for(var i=t.length;i--;){var n=t[i];if(n.index===r&&n.fragment.sn===e)return n}return null}function We(t){switch(t.details){case R.FRAG_LOAD_TIMEOUT:case R.KEY_LOAD_TIMEOUT:case R.LEVEL_LOAD_TIMEOUT:case R.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function je(t,e){var r=We(e);return t.default[(r?"timeout":"error")+"Retry"]}function qe(t,e){var r="linear"===t.backoff?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function Xe(t){return i(i({},t),{errorRetry:null,timeoutRetry:null})}function ze(t,e,r,i){return!!t&&e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(i)||!!r)}var Qe=function(t,e){for(var r=0,i=t.length-1,n=null,a=null;r<=i;){var s=e(a=t[n=(r+i)/2|0]);if(s>0)r=n+1;else{if(!(s<0))return a;i=n-1}}return null};function $e(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=null;if(t?n=e[t.sn-e[0].sn+1]||null:0===r&&0===e[0].start&&(n=e[0]),n&&0===Je(r,i,n))return n;var a=Qe(e,Je.bind(null,r,i));return!a||a===t&&n?n:a}function Je(t,e,r){if(void 0===t&&(t=0),void 0===e&&(e=0),r.start<=t&&r.start+r.duration>t)return 0;var i=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=t?1:r.start-i>t&&r.start?-1:0}function Ze(t,e,r){var i=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-i>t}var tr,er=3e5,rr=0,ir=2,nr=5,ar=0,sr=1,or=2,lr=function(){function t(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=w.log.bind(w,"[info]:"),this.warn=w.warn.bind(w,"[warning]:"),this.error=w.error.bind(w,"[error]:"),this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(S.ERROR,this.onError,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.LEVEL_UPDATED,this.onLevelUpdated,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(S.ERROR,this.onError,this),t.off(S.ERROR,this.onErrorOut,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.LEVEL_UPDATED,this.onLevelUpdated,this))},e.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},e.startLoad=function(t){this.playlistError=0},e.stopLoad=function(){},e.getVariantLevelIndex=function(t){return(null==t?void 0:t.type)===ge?t.level:this.hls.loadLevel},e.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},e.onLevelUpdated=function(){this.playlistError=0},e.onError=function(t,e){var r,i;if(!e.fatal){var n=this.hls,a=e.context;switch(e.details){case R.FRAG_LOAD_ERROR:case R.FRAG_LOAD_TIMEOUT:case R.KEY_LOAD_ERROR:case R.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case R.FRAG_PARSING_ERROR:if(null!=(r=e.frag)&&r.gap)return void(e.errorAction={action:rr,flags:ar});case R.FRAG_GAP:case R.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=ir);case R.LEVEL_EMPTY_ERROR:case R.LEVEL_PARSING_ERROR:var s,o,l=e.parent===ge?e.level:n.loadLevel;return void(e.details===R.LEVEL_EMPTY_ERROR&&null!=(s=e.context)&&null!=(o=s.levelDetails)&&o.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,l):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,l)));case R.LEVEL_LOAD_ERROR:case R.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==a?void 0:a.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,a.level)));case R.AUDIO_TRACK_LOAD_ERROR:case R.AUDIO_TRACK_LOAD_TIMEOUT:case R.SUBTITLE_LOAD_ERROR:case R.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var u=n.levels[n.loadLevel];if(u&&(a.type===ce&&a.groupId===u.audioGroupId||a.type===fe&&a.groupId===u.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,n.loadLevel),e.errorAction.action=ir,void(e.errorAction.flags=sr)}return;case R.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var h=n.levels[n.loadLevel],d=null==h?void 0:h.attrs["HDCP-LEVEL"];return void(d&&(e.errorAction={action:ir,flags:or,hdcpLevel:d}));case R.BUFFER_ADD_CODEC_ERROR:case R.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(i=e.level)?i:n.loadLevel));case R.INTERNAL_EXCEPTION:case R.BUFFER_APPENDING_ERROR:case R.BUFFER_APPEND_ERROR:case R.BUFFER_FULL_ERROR:case R.LEVEL_SWITCH_ERROR:case R.BUFFER_STALLED_ERROR:case R.BUFFER_SEEK_OVER_HOLE:case R.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:rr,flags:ar})}if(e.type===L.KEY_SYSTEM_ERROR){var c=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,c))}}},e.getPlaylistRetryOrSwitchAction=function(t,e){var r,i=je(this.hls.config.playlistLoadPolicy,t),n=this.playlistError++,a=null==(r=t.response)?void 0:r.code;if(ze(i,n,We(t),a))return{action:nr,flags:ar,retryConfig:i,retryCount:n};var s=this.getLevelSwitchAction(t,e);return i&&(s.retryConfig=i,s.retryCount=n),s},e.getFragRetryOrSwitchAction=function(t){var e=this.hls,r=this.getVariantLevelIndex(t.frag),i=e.levels[r],n=e.config,a=n.fragLoadPolicy,s=n.keyLoadPolicy,o=je(t.details.startsWith("key")?s:a,t),l=e.levels.reduce((function(t,e){return t+e.fragmentError}),0);if(i){var u;t.details!==R.FRAG_GAP&&i.fragmentError++;var h=null==(u=t.response)?void 0:u.code;if(ze(o,l,We(t),h))return{action:nr,flags:ar,retryConfig:o,retryCount:l}}var d=this.getLevelSwitchAction(t,r);return o&&(d.retryConfig=o,d.retryCount=l),d},e.getLevelSwitchAction=function(t,e){var r=this.hls;null==e&&(e=r.loadLevel);var i=this.hls.levels[e];if(i&&(i.loadError++,r.autoLevelEnabled)){for(var n,a,s=-1,o=r.levels,l=r.loadLevel,u=r.minAutoLevel,h=r.maxAutoLevel,d=null==(n=t.frag)?void 0:n.type,c=null!=(a=t.context)?a:{},f=c.type,g=c.groupId,v=o.length;v--;){var m=(v+l)%o.length;if(m!==l&&m>=u&&m<=h&&0===o[m].loadError){var p=o[m];if(t.details===R.FRAG_GAP&&t.frag){var y=o[m].details;if(y){var T=$e(t.frag,y.fragments,t.frag.start);if(null!=T&&T.gap)continue}}else{if(f===ce&&g===p.audioGroupId||f===fe&&g===p.textGroupId)continue;if(d===ve&&i.audioGroupId===p.audioGroupId||d===me&&i.textGroupId===p.textGroupId)continue}s=m;break}}if(s>-1&&r.loadLevel!==s)return t.levelRetry=!0,this.playlistError=0,{action:ir,flags:ar,nextAutoLevel:s}}return{action:ir,flags:sr}},e.onErrorOut=function(t,e){var r;switch(null==(r=e.errorAction)?void 0:r.action){case rr:break;case ir:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===R.FRAG_GAP||(e.fatal=!0)}e.fatal&&this.hls.stopLoad()},e.sendAlternateToPenaltyBox=function(t){var e=this.hls,r=t.errorAction;if(r){var i=r.flags,n=r.hdcpLevel,a=r.nextAutoLevel;switch(i){case ar:this.switchLevel(t,a);break;case sr:r.resolved||(r.resolved=this.redundantFailover(t));break;case or:n&&(e.maxHdcpLevel=Pe[Pe.indexOf(n)-1],r.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+e.maxHdcpLevel+'" or lower')}r.resolved||this.switchLevel(t,a)}},e.switchLevel=function(t,e){void 0!==e&&t.errorAction&&(this.warn("switching to level "+e+" after "+t.details),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},e.redundantFailover=function(t){var e=this,r=this.hls,i=this.penalizedRenditions,n=t.parent===ge?t.level:r.loadLevel,a=r.levels[n],s=a.url.length,o=t.frag?t.frag.urlId:a.urlId;a.urlId!==o||t.frag&&!a.details||this.penalizeRendition(a,t);for(var l=function(){var l=(o+u)%s,h=i[l];if(!h||function(t,e,r){if(performance.now()-t.lastErrorPerfMs>er)return!0;var i=t.details;if(e.details===R.FRAG_GAP&&i&&e.frag){var n=e.frag.start,a=$e(null,i.fragments,n);if(a&&!a.gap)return!0}if(r&&t.errors.length<r.errors.length){var s=t.errors[t.errors.length-1];if(i&&s.frag&&e.frag&&Math.abs(s.frag.start-e.frag.start)>3*i.targetduration)return!0}return!1}(h,t,i[o]))return e.warn("Switching to Redundant Stream "+(l+1)+"/"+s+': "'+a.url[l]+'" after '+t.details),e.playlistError=0,r.levels.forEach((function(t){t.urlId=l})),r.nextLoadLevel=n,{v:!0}},u=1;u<s;u++){var h=l();if("object"==typeof h)return h.v}return!1},e.penalizeRendition=function(t,e){var r=this.penalizedRenditions,i=r[t.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};i.lastErrorPerfMs=performance.now(),i.errors.push(e),i.details=t.details,r[t.urlId]=i},t}(),ur=function(){function t(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=w.log.bind(w,e+":"),this.warn=w.warn.bind(w,e+":"),this.hls=t}var e=t.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},e.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,e){var r=null==e?void 0:e.renditionReports;if(r){for(var i=-1,n=0;n<r.length;n++){var a=r[n],s=void 0;try{s=new self.URL(a.URI,e.url).href}catch(t){w.warn("Could not construct new URL for Rendition Report: "+t),s=a.URI||""}if(s===t){i=n;break}s===t.substring(0,s.length)&&(i=n)}if(-1!==i){var o=r[i],l=parseInt(o["LAST-MSN"])||(null==e?void 0:e.lastPartSn),u=parseInt(o["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){var h=Math.min(e.age-e.partTarget,e.targetduration);u>=0&&h>e.partTarget&&(u+=1)}return new Oe(l,u>=0?u:void 0,xe)}}},e.loadPlaylist=function(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},e.shouldLoadPlaylist=function(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)},e.shouldReloadPlaylist=function(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)},e.playlistLoaded=function(t,e,r){var i=this,n=e.details,a=e.stats,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(n.advancedDateTime=Date.now()-o,n.live||null!=r&&r.live){if(n.reloaded(r),r&&this.log("live playlist "+t+" "+(n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:n.updated?"UPDATED":"MISSED")),r&&n.fragments.length>0&&Ge(r,n),!this.canLoad||!n.live)return;var l,u=void 0,h=void 0;if(n.canBlockReload&&n.endSN&&n.advanced){var d=this.hls.config.lowLatencyMode,c=n.lastPartSn,f=n.endSN,g=n.lastPartIndex,v=c===f;-1!==g?(u=v?f+1:c,h=v?d?0:g:g+1):u=f+1;var m=n.age,p=m+n.ageHeader,y=Math.min(p-n.partTarget,1.5*n.targetduration);if(y>0){if(r&&y>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+y+" with playlist age: "+n.age),y=0;else{var T=Math.floor(y/n.targetduration);u+=T,void 0!==h&&(h+=Math.round(y%n.targetduration/n.partTarget)),this.log("CDN Tune-in age: "+n.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+T+" to part "+h)}n.tuneInGoal=y}if(l=this.getDeliveryDirectives(n,e.deliveryDirectives,u,h),d||!v)return void this.loadPlaylist(l)}else(n.canBlockReload||n.canSkipUntil)&&(l=this.getDeliveryDirectives(n,e.deliveryDirectives,u,h));var E=this.hls.mainForwardBufferInfo,S=E?E.end-E.len:0,L=function(t,e){void 0===e&&(e=1/0);var r=1e3*t.targetduration;if(t.updated){var i=t.fragments;if(i.length&&4*r>e){var n=1e3*i[i.length-1].duration;n<r&&(r=n)}}else r/=2;return Math.round(r)}(n,1e3*(n.edge-S));n.updated&&s>this.requestScheduled+L&&(this.requestScheduled=a.loading.start),void 0!==u&&n.canBlockReload?this.requestScheduled=a.loading.first+L-(1e3*n.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+L<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=L);var R=this.requestScheduled-s;R=Math.max(0,R),this.log("reload live playlist "+t+" in "+Math.round(R)+" ms"),this.timer=self.setTimeout((function(){return i.loadPlaylist(l)}),R)}else this.clearTimer()},e.getDeliveryDirectives=function(t,e,r,i){var n=function(t,e){var r=t.canSkipUntil,i=t.canSkipDateRanges,n=t.endSN;return r&&(void 0!==e?e-n:0)<r?i?Me:Fe:xe}(t,r);return null!=e&&e.skip&&t.deltaUpdateFailed&&(r=e.msn,i=e.part,n=xe),new Oe(r,i,n)},e.checkRetry=function(t){var e=this,r=t.details,i=We(t),n=t.errorAction,a=n||{},s=a.action,o=a.retryCount,l=void 0===o?0:o,u=a.retryConfig,h=!!n&&!!u&&(s===nr||!n.resolved&&s===ir);if(h){var d;if(this.requestScheduled=-1,l>=u.maxNumRetry)return!1;if(i&&null!=(d=t.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading "+(l+1)+"/"+u.maxNumRetry+' after "'+r+'" without delivery-directives'),this.loadPlaylist();else{var c=qe(u,l);this.timer=self.setTimeout((function(){return e.loadPlaylist()}),c),this.warn("Retrying playlist loading "+(l+1)+"/"+u.maxNumRetry+' after "'+r+'" in '+c+"ms")}t.levelRetry=!0,n.resolved=!0}return h},t}(),hr=function(t){function e(e,r){var i;return(i=t.call(this,e,"[level-controller]")||this)._levels=[],i._firstLevel=-1,i._startLevel=void 0,i.currentLevel=null,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.steering=void 0,i.onParsedComplete=void 0,i.steering=r,i._registerListeners(),i}l(e,t);var r=e.prototype;return r._registerListeners=function(){var t=this.hls;t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(S.LEVEL_LOADED,this.onLevelLoaded,this),t.on(S.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(S.FRAG_LOADED,this.onFragLoaded,this),t.on(S.ERROR,this.onError,this)},r._unregisterListeners=function(){var t=this.hls;t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(S.LEVEL_LOADED,this.onLevelLoaded,this),t.off(S.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(S.FRAG_LOADED,this.onFragLoaded,this),t.off(S.ERROR,this.onError,this)},r.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),t.prototype.destroy.call(this)},r.startLoad=function(){this._levels.forEach((function(t){t.loadError=0,t.fragmentError=0})),t.prototype.startLoad.call(this)},r.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]},r.onManifestLoading=function(t,e){this.resetLevels()},r.onManifestLoaded=function(t,e){var r,i=[],n={};e.levels.forEach((function(t){var e,a=t.attrs;-1!==(null==(e=t.audioCodec)?void 0:e.indexOf("mp4a.40.34"))&&(tr||(tr=/chrome|firefox/i.test(navigator.userAgent)),tr&&(t.audioCodec=void 0));var s=a.AUDIO,o=a.CODECS,l=a["FRAME-RATE"],u=a["PATHWAY-ID"],h=a.RESOLUTION,d=a.SUBTITLES,c=(u||".")+"-"+t.bitrate+"-"+h+"-"+l+"-"+o;(r=n[c])?r.addFallback(t):(r=new Ne(t),n[c]=r,i.push(r)),dr(r,"audio",s),dr(r,"text",d)})),this.filterAndSortMediaOptions(i,e)},r.filterAndSortMediaOptions=function(t,e){var r=this,i=[],n=[],a=!1,s=!1,o=!1,l=t.filter((function(t){var e=t.audioCodec,r=t.videoCodec,i=t.width,n=t.height,l=t.unknownCodecs;return a||(a=!(!i||!n)),s||(s=!!r),o||(o=!!e),!(null!=l&&l.length)&&(!e||Qt(e,"audio"))&&(!r||Qt(r,"video"))}));if((a||s)&&o&&(l=l.filter((function(t){var e=t.videoCodec,r=t.width,i=t.height;return!!e||!(!r||!i)}))),0!==l.length){e.audioTracks&&cr(i=e.audioTracks.filter((function(t){return!t.audioCodec||Qt(t.audioCodec,"audio")}))),e.subtitles&&cr(n=e.subtitles);var u=l.slice(0);l.sort((function(t,e){return t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"]?(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1:t.bitrate!==e.bitrate?t.bitrate-e.bitrate:t.attrs["FRAME-RATE"]!==e.attrs["FRAME-RATE"]?t.attrs.decimalFloatingPoint("FRAME-RATE")-e.attrs.decimalFloatingPoint("FRAME-RATE"):t.attrs.SCORE!==e.attrs.SCORE?t.attrs.decimalFloatingPoint("SCORE")-e.attrs.decimalFloatingPoint("SCORE"):a&&t.height!==e.height?t.height-e.height:0}));var h=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l)).length!==u.length)for(var d=0;d<u.length;d++)if(u[d].pathwayId===l[0].pathwayId){h=u[d];break}this._levels=l;for(var c=0;c<l.length;c++)if(l[c]===h){this._firstLevel=c,this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+h.bitrate);break}var f=o&&!s,g={levels:l,audioTracks:i,subtitleTracks:n,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:s,altAudio:!f&&i.some((function(t){return!!t.url}))};this.hls.trigger(S.MANIFEST_PARSED,g),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(r.hls){var t=new Error("no level with compatible codecs found in manifest");r.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}}))},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===de&&e.context.level===this.level&&this.checkRetry(e)},r.onFragLoaded=function(t,e){var r=e.frag;if(void 0!==r&&r.type===ge){var i=this._levels[r.level];void 0!==i&&(i.loadError=0)}},r.onLevelLoaded=function(t,e){var r,i,n=e.level,a=e.details,s=this._levels[n];if(!s)return this.warn("Invalid level index "+n),void(null!=(i=e.deliveryDirectives)&&i.skip&&(a.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===s.fragmentError&&(s.loadError=0),this.playlistLoaded(n,e,s.details)):null!=(r=e.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0)},r.onAudioTrackSwitched=function(t,e){var r=this.currentLevel;if(r){var i=this.hls.audioTracks[e.id].groupId;if(r.audioGroupIds&&r.audioGroupId!==i){for(var n=-1,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===i){n=a;break}-1!==n&&n!==r.urlId&&(r.urlId=n,this.canLoad&&this.startLoad())}}},r.loadPlaylist=function(e){t.prototype.loadPlaylist.call(this);var r=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){var n=i.urlId,a=i.uri;if(e)try{a=e.addDirectives(a)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}var s=i.attrs["PATHWAY-ID"];this.log("Loading level index "+r+(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:"")+" with"+(s?" Pathway "+s:"")+" URI "+(n+1)+"/"+i.url.length+" "+a),this.clearTimer(),this.hls.trigger(S.LEVEL_LOADING,{url:a,level:r,id:n,deliveryDirectives:e||null})}},r.removeLevel=function(t,e){var r=this,i=function(t,r){return r!==e},n=this._levels.filter((function(n,a){return a!==t||(n.url.length>1&&void 0!==e?(n.url=n.url.filter(i),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(i)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(i)),n.urlId=0,!0):(r.steering&&r.steering.removeLevel(n),!1))}));this.hls.trigger(S.LEVELS_UPDATED,{levels:n})},r.onLevelsUpdated=function(t,e){var r=e.levels;r.forEach((function(t,e){var r=t.details;null!=r&&r.fragments&&r.fragments.forEach((function(t){t.level=e}))})),this._levels=r},a(e,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;if(0!==e.length){if(t<0||t>=e.length){var r=new Error("invalid level idx"),i=t<0;if(this.hls.trigger(S.ERROR,{type:L.OTHER_ERROR,details:R.LEVEL_SWITCH_ERROR,level:t,fatal:i,error:r,reason:r.message}),i)return;t=Math.min(t,e.length-1)}var n=this.currentLevelIndex,a=this.currentLevel,s=a?a.attrs["PATHWAY-ID"]:void 0,l=e[t],u=l.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=l,n!==t||!l.details||!a||s!==u){this.log("Switching to level "+t+(u?" with Pathway "+u:"")+" from level "+n+(s?" with Pathway "+s:""));var h=o({},l,{level:t,maxBitrate:l.maxBitrate,attrs:l.attrs,uri:l.uri,urlId:l.urlId});delete h._attrs,delete h._urlId,this.hls.trigger(S.LEVEL_SWITCHING,h);var d=l.details;if(!d||d.live){var c=this.switchParams(l.uri,null==a?void 0:a.details);this.loadPlaylist(c)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(ur);function dr(t,e,r){r&&("audio"===e?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=r):"text"===e&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=r))}function cr(t){var e={};t.forEach((function(t){var r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++}))}var fr="NOT_LOADED",gr="APPENDING",vr="PARTIAL",mr="OK",pr=function(){function t(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(S.BUFFER_APPENDED,this.onBufferAppended,this),t.on(S.FRAG_BUFFERED,this.onFragBuffered,this),t.on(S.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=function(){var t=this.hls;t.off(S.BUFFER_APPENDED,this.onBufferAppended,this),t.off(S.FRAG_BUFFERED,this.onFragBuffered,this),t.off(S.FRAG_LOADED,this.onFragLoaded,this)},e.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},e.getAppendedFrag=function(t,e){var r=this.activePartLists[e];if(r)for(var i=r.length;i--;){var n=r[i];if(!n)break;var a=n.end;if(n.start<=t&&null!==a&&t<=a)return n}return this.getBufferedFrag(t,e)},e.getBufferedFrag=function(t,e){for(var r=this.fragments,i=Object.keys(r),n=i.length;n--;){var a=r[i[n]];if((null==a?void 0:a.body.type)===e&&a.buffered){var s=a.body;if(s.start<=t&&t<=s.end)return s}}return null},e.detectEvictedFragments=function(t,e,r,i){var n=this;this.timeRanges&&(this.timeRanges[t]=e);var a=(null==i?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(i){var s=n.fragments[i];if(s&&!(a>=s.body.sn))if(s.buffered||s.loaded){var o=s.range[t];o&&o.time.some((function(t){var r=!n.isTimeBuffered(t.startPTS,t.endPTS,e);return r&&n.removeFragment(s.body),r}))}else s.body.type===r&&n.removeFragment(s.body)}))},e.detectPartialFragments=function(t){var e=this,r=this.timeRanges,i=t.frag,n=t.part;if(r&&"initSegment"!==i.sn){var a=Tr(i),s=this.fragments[a];if(!(!s||s.buffered&&i.gap)){var o=!i.relurl;Object.keys(r).forEach((function(t){var a=i.elementaryStreams[t];if(a){var l=r[t],u=o||!0===a.partial;s.range[t]=e.getBufferedTimes(i,n,u,l)}})),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=i.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),yr(s)||this.removeParts(i.sn-1,i.type)):this.removeFragment(s.body)}}},e.removeParts=function(t,e){var r=this.activePartLists[e];r&&(this.activePartLists[e]=r.filter((function(e){return e.fragment.sn>=t})))},e.fragBuffered=function(t,e){var r=Tr(t),i=this.fragments[r];!i&&e&&(i=this.fragments[r]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)},e.getBufferedTimes=function(t,e,r,i){for(var n={time:[],partial:r},a=t.start,s=t.end,o=t.minEndPTS||s,l=t.maxStartPTS||a,u=0;u<i.length;u++){var h=i.start(u)-this.bufferPadding,d=i.end(u)+this.bufferPadding;if(l>=h&&o<=d){n.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(s,i.end(u))});break}if(a<d&&s>h)n.partial=!0,n.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(s,i.end(u))});else if(s<=h)break}return n},e.getPartialFragment=function(t){var e,r,i,n=null,a=0,s=this.bufferPadding,o=this.fragments;return Object.keys(o).forEach((function(l){var u=o[l];u&&yr(u)&&(r=u.body.start-s,i=u.body.end+s,t>=r&&t<=i&&(e=Math.min(t-r,i-t),a<=e&&(n=u.body,a=e)))})),n},e.isEndListAppended=function(t){var e=this.endListFragments[t];return void 0!==e&&(e.buffered||yr(e))},e.getState=function(t){var e=Tr(t),r=this.fragments[e];return r?r.buffered?yr(r)?vr:mr:gr:fr},e.isTimeBuffered=function(t,e,r){for(var i,n,a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,n=r.end(a)+this.bufferPadding,t>=i&&e<=n)return!0;if(e<=i)return!1}return!1},e.onFragLoaded=function(t,e){var r=e.frag,i=e.part;if("initSegment"!==r.sn&&!r.bitrateTest){var n=i?null:e,a=Tr(r);this.fragments[a]={body:r,appendedPTS:null,loaded:n,buffered:!1,range:Object.create(null)}}},e.onBufferAppended=function(t,e){var r=this,i=e.frag,n=e.part,a=e.timeRanges;if("initSegment"!==i.sn){var s=i.type;if(n){var o=this.activePartLists[s];o||(this.activePartLists[s]=o=[]),o.push(n)}this.timeRanges=a,Object.keys(a).forEach((function(t){var e=a[t];r.detectEvictedFragments(t,e,s,n)}))}},e.onFragBuffered=function(t,e){this.detectPartialFragments(e)},e.hasFragment=function(t){var e=Tr(t);return!!this.fragments[e]},e.hasParts=function(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)},e.removeFragmentsInRange=function(t,e,r,i,n){var a=this;i&&!this.hasGaps||Object.keys(this.fragments).forEach((function(s){var o=a.fragments[s];if(o){var l=o.body;l.type!==r||i&&!l.gap||l.start<e&&l.end>t&&(o.buffered||n)&&a.removeFragment(l)}}))},e.removeFragment=function(t){var e=Tr(t);t.stats.loaded=0,t.clearElementaryStreamInfo();var r=this.activePartLists[t.type];if(r){var i=t.sn;this.activePartLists[t.type]=r.filter((function(t){return t.fragment.sn!==i}))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]},e.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},t}();function yr(t){var e,r,i;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(r=t.range.audio)?void 0:r.partial)||(null==(i=t.range.audiovideo)?void 0:i.partial))}function Tr(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn}var Er=Math.pow(2,17),Sr=function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var e=t.prototype;return e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.abort=function(){this.loader&&this.loader.abort()},e.load=function(t,e){var r=this,n=t.url;if(!n)return Promise.reject(new Ar({type:L.NETWORK_ERROR,details:R.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise((function(l,u){if(r.loader&&r.loader.destroy(),t.gap){if(t.tagList.some((function(t){return"GAP"===t[0]})))return void u(Rr(t));t.gap=!1}var h=r.loader=t.loader=s?new s(a):new o(a),d=Lr(t),c=Xe(a.fragLoadPolicy.default),f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:Er};t.stats=h.stats,h.load(d,f,{onSuccess:function(e,i,n,a){r.resetLoader(t,h);var s=e.data;n.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(s.slice(0,16)),s=s.slice(16)),l({frag:t,part:null,payload:s,networkDetails:a})},onError:function(e,a,s,o){r.resetLoader(t,h),u(new Ar({type:L.NETWORK_ERROR,details:R.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:i({url:n,data:void 0},e),error:new Error("HTTP Error "+e.code+" "+e.text),networkDetails:s,stats:o}))},onAbort:function(e,i,n){r.resetLoader(t,h),u(new Ar({type:L.NETWORK_ERROR,details:R.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:n,stats:e}))},onTimeout:function(e,i,n){r.resetLoader(t,h),u(new Ar({type:L.NETWORK_ERROR,details:R.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:n,stats:e}))},onProgress:function(r,i,n,a){e&&e({frag:t,part:null,payload:n,networkDetails:a})}})}))},e.loadPart=function(t,e,r){var n=this;this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise((function(l,u){if(n.loader&&n.loader.destroy(),t.gap||e.gap)u(Rr(t,e));else{var h=n.loader=t.loader=s?new s(a):new o(a),d=Lr(t,e),c=Xe(a.fragLoadPolicy.default),f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Er};e.stats=h.stats,h.load(d,f,{onSuccess:function(i,a,s,o){n.resetLoader(t,h),n.updateStatsFromPart(t,e);var u={frag:t,part:e,payload:i.data,networkDetails:o};r(u),l(u)},onError:function(r,a,s,o){n.resetLoader(t,h),u(new Ar({type:L.NETWORK_ERROR,details:R.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:i({url:d.url,data:void 0},r),error:new Error("HTTP Error "+r.code+" "+r.text),networkDetails:s,stats:o}))},onAbort:function(r,i,a){t.stats.aborted=e.stats.aborted,n.resetLoader(t,h),u(new Ar({type:L.NETWORK_ERROR,details:R.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:a,stats:r}))},onTimeout:function(r,i,a){n.resetLoader(t,h),u(new Ar({type:L.NETWORK_ERROR,details:R.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:a,stats:r}))}})}}))},e.updateStatsFromPart=function(t,e){var r=t.stats,i=e.stats,n=i.total;if(r.loaded+=i.loaded,n){var a=Math.round(t.duration/e.duration),s=Math.min(Math.round(r.loaded/n),a),o=(a-s)*Math.round(r.loaded/s);r.total=r.loaded+o}else r.total=Math.max(r.loaded,r.total);var l=r.loading,u=i.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},e.resetLoader=function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()},t}();function Lr(t,e){void 0===e&&(e=null);var r=e||t,i={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},n=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(E(n)&&E(a)){var s,o=n,l=a;if("initSegment"===t.sn&&"AES-128"===(null==(s=t.decryptdata)?void 0:s.method)){var u=a-n;u%16&&(l=a+(16-u%16)),0!==n&&(i.resetIV=!0,o=n-16)}i.rangeStart=o,i.rangeEnd=l}return i}function Rr(t,e){var r=new Error("GAP "+(t.gap?"tag":"attribute")+" found"),i={type:L.MEDIA_ERROR,details:R.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(i.part=e),(e||t).stats.aborted=!0,new Ar(i)}var Ar=function(t){function e(e){var r;return(r=t.call(this,e.error.message)||this).data=void 0,r.data=e,r}return l(e,t),e}(f(Error)),kr=function(){function t(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}var e=t.prototype;return e.abort=function(t){for(var e in this.keyUriToKeyInfo){var r=this.keyUriToKeyInfo[e].loader;if(r){if(t&&t!==r.context.frag.type)return;r.abort()}}},e.detach=function(){for(var t in this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}},e.destroy=function(){for(var t in this.detach(),this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}},e.createKeyLoadError=function(t,e,r,i,n){return void 0===e&&(e=R.KEY_LOAD_ERROR),new Ar({type:L.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:n,error:r,networkDetails:i})},e.loadClear=function(t,e){var r=this;if(this.emeController&&this.config.emeEnabled)for(var i=t.sn,n=t.cc,a=function(){var t=e[s];if(n<=t.cc&&("initSegment"===i||"initSegment"===t.sn||i<t.sn))return r.emeController.selectKeySystemFormat(t).then((function(e){t.setKeyFormat(e)})),"break"},s=0;s<e.length&&"break"!==a();s++);},e.load=function(t){var e=this;return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((function(r){return e.loadInternal(t,r)})):this.loadInternal(t)},e.loadInternal=function(t,e){var r,i;e&&t.setKeyFormat(e);var n=t.decryptdata;if(!n){var a=new Error(e?"Expected frag.decryptdata to be defined after setting format "+e:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,R.KEY_LOAD_ERROR,a))}var s=n.uri;if(!s)return Promise.reject(this.createKeyLoadError(t,R.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+s+'"')));var o,l=this.keyUriToKeyInfo[s];if(null!=(r=l)&&r.decryptdata.key)return n.key=l.decryptdata.key,Promise.resolve({frag:t,keyInfo:l});if(null!=(i=l)&&i.keyLoadPromise)switch(null==(o=l.mediaKeySessionContext)?void 0:o.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(e){return n.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[s]={decryptdata:n,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},n.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===n.keyFormat?this.loadKeyHTTP(l,t):this.loadKeyEME(l,t);case"AES-128":return this.loadKeyHTTP(l,t);default:return Promise.reject(this.createKeyLoadError(t,R.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+n.method+'"')))}},e.loadKeyEME=function(t,e){var r={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var i=this.emeController.loadKey(r);if(i)return(t.keyLoadPromise=i.then((function(e){return t.mediaKeySessionContext=e,r}))).catch((function(e){throw t.keyLoadPromise=null,e}))}return Promise.resolve(r)},e.loadKeyHTTP=function(t,e){var r=this,n=this.config,a=new(0,n.loader)(n);return e.keyLoader=t.loader=a,t.keyLoadPromise=new Promise((function(s,o){var l={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},u=n.keyLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:function(t,e,i,n){var a=i.frag,l=i.keyInfo,u=i.url;if(!a.decryptdata||l!==r.keyUriToKeyInfo[u])return o(r.createKeyLoadError(a,R.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),n));l.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,l.loader=null,s({frag:a,keyInfo:l})},onError:function(t,n,a,s){r.resetLoader(n),o(r.createKeyLoadError(e,R.KEY_LOAD_ERROR,new Error("HTTP Error "+t.code+" loading key "+t.text),a,i({url:l.url,data:void 0},t)))},onTimeout:function(t,i,n){r.resetLoader(i),o(r.createKeyLoadError(e,R.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),n))},onAbort:function(t,i,n){r.resetLoader(i),o(r.createKeyLoadError(e,R.INTERNAL_ABORTED,new Error("key loading aborted"),n))}};a.load(l,h,d)}))},e.resetLoader=function(t){var e=t.frag,r=t.keyInfo,i=t.url,n=r.loader;e.keyLoader===n&&(e.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],n&&n.destroy()},t}(),br=function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this._tickInterval},e.hasNextTick=function(){return!!this._tickTimer},e.setInterval=function(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)},e.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},e.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},e.doTick=function(){},t}(),Dr={length:0,start:function(){return 0},end:function(){return 0}},Ir=function(){function t(){}return t.isBuffered=function(e,r){try{if(e)for(var i=t.getBuffered(e),n=0;n<i.length;n++)if(r>=i.start(n)&&r<=i.end(n))return!0}catch(t){}return!1},t.bufferInfo=function(e,r,i){try{if(e){var n,a=t.getBuffered(e),s=[];for(n=0;n<a.length;n++)s.push({start:a.start(n),end:a.end(n)});return this.bufferedInfo(s,r,i)}}catch(t){}return{len:0,start:r,end:r,nextStart:void 0}},t.bufferedInfo=function(t,e,r){e=Math.max(0,e),t.sort((function(t,e){var r=t.start-e.start;return r||e.end-t.end}));var i=[];if(r)for(var n=0;n<t.length;n++){var a=i.length;if(a){var s=i[a-1].end;t[n].start-s<r?t[n].end>s&&(i[a-1].end=t[n].end):i.push(t[n])}else i.push(t[n])}else i=t;for(var o,l=0,u=e,h=e,d=0;d<i.length;d++){var c=i[d].start,f=i[d].end;if(e+r>=c&&e<f)u=c,l=(h=f)-e;else if(e+r<c){o=c;break}}return{len:l,start:u||0,end:h||0,nextStart:o}},t.getBuffered=function(t){try{return t.buffered}catch(t){return w.log("failed to get media.buffered",t),Dr}},t}(),wr=function(t,e,r,i,n,a){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=r,this.size=i,this.part=n,this.partial=a};function Cr(t,e){for(var r=null,i=0,n=t.length;i<n;i++){var a=t[i];if(a&&a.cc===e){r=a;break}}return r}function _r(t,e){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function Pr(t,e){for(var r=e.fragments,i=0,n=r.length;i<n;i++)_r(r[i],t);e.fragmentHint&&_r(e.fragmentHint,t),e.alignedSliding=!0}function xr(t,e,r){e&&(function(t,e,r){if(function(t,e,r){return!(!e.details||!(r.endCC>r.startCC||t&&t.cc<r.startCC))}(t,r,e)){var i=function(t,e,r){var i=t.fragments,n=e.fragments;if(n.length&&i.length){var a=Cr(i,n[0].cc);if(a&&(!a||a.startPTS))return a;w.log("No frag in previous level to align on")}else w.log("No fragments to align")}(r.details,e);i&&E(i.start)&&(w.log("Adjusting PTS using last level due to CC increase within current level "+e.url),Pr(i.start,e))}}(t,r,e),!r.alignedSliding&&e.details&&function(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var r=e.fragments[0].programDateTime,i=t.fragments[0].programDateTime,n=(i-r)/1e3+e.fragments[0].start;n&&E(n)&&(w.log("Adjusting PTS using programDateTime delta "+(i-r)+"ms, sliding:"+n.toFixed(3)+" "+t.url+" "),Pr(n,t))}}(r,e.details),r.alignedSliding||!e.details||r.skippedSegments||Ke(e.details,r))}function Fr(t,e){if(t.hasProgramDateTime&&e.hasProgramDateTime){var r=t.fragments,i=e.fragments;if(r.length&&i.length){var n=i[Math.round(i.length/2)-1],a=Cr(r,n.cc)||r[Math.round(r.length/2)-1],s=n.programDateTime,o=a.programDateTime;null!==s&&null!==o&&Pr((o-s)/1e3-(a.start-n.start),t)}}}var Mr=function(){function t(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),Or=function(){function t(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),Nr=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),i=0;i<4;i++)r[i]=e.getUint32(4*i);return r},e.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,i=r[0],n=r[1],a=r[2],s=r[3],o=this.invSubMix,l=o[0],u=o[1],h=o[2],d=o[3],c=new Uint32Array(256),f=0,g=0,v=0;for(v=0;v<256;v++)c[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=g^g<<1^g<<2^g<<3^g<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var p=c[f],y=c[p],T=c[y],E=257*c[m]^16843008*m;i[f]=E<<24|E>>>8,n[f]=E<<16|E>>>16,a[f]=E<<8|E>>>24,s[f]=E,E=16843009*T^65537*y^257*p^16843008*f,l[m]=E<<24|E>>>8,u[m]=E<<16|E>>>16,h[m]=E<<8|E>>>24,d[m]=E,f?(f=p^c[c[c[T^p]]],g^=c[c[g]]):f=g=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,i=0;i<e.length&&r;)r=e[i]===this.key[i],i++;if(!r){this.key=e;var n=this.keySize=e.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var a,s,o,l,u=this.ksRows=4*(n+6+1),h=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),c=this.sBox,f=this.rcon,g=this.invSubMix,v=g[0],m=g[1],p=g[2],y=g[3];for(a=0;a<u;a++)a<n?o=h[a]=e[a]:(l=o,a%n==0?(l=c[(l=l<<8|l>>>24)>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l],l^=f[a/n|0]<<24):n>6&&a%n==4&&(l=c[l>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l]),h[a]=o=(h[a-n]^l)>>>0);for(s=0;s<u;s++)a=u-s,l=3&s?h[a]:h[a-4],d[s]=s<4||a<=4?l:v[c[l>>>24]]^m[c[l>>>16&255]]^p[c[l>>>8&255]]^y[c[255&l]],d[s]=d[s]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,r){for(var i,n,a,s,o,l,u,h,d,c,f,g,v,m,p=this.keySize+6,y=this.invKeySchedule,T=this.invSBox,E=this.invSubMix,S=E[0],L=E[1],R=E[2],A=E[3],k=this.uint8ArrayToUint32Array_(r),b=k[0],D=k[1],I=k[2],w=k[3],C=new Int32Array(t),_=new Int32Array(C.length),P=this.networkToHostOrderSwap;e<C.length;){for(d=P(C[e]),c=P(C[e+1]),f=P(C[e+2]),g=P(C[e+3]),o=d^y[0],l=g^y[1],u=f^y[2],h=c^y[3],v=4,m=1;m<p;m++)i=S[o>>>24]^L[l>>16&255]^R[u>>8&255]^A[255&h]^y[v],n=S[l>>>24]^L[u>>16&255]^R[h>>8&255]^A[255&o]^y[v+1],a=S[u>>>24]^L[h>>16&255]^R[o>>8&255]^A[255&l]^y[v+2],s=S[h>>>24]^L[o>>16&255]^R[l>>8&255]^A[255&u]^y[v+3],o=i,l=n,u=a,h=s,v+=4;i=T[o>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&h]^y[v],n=T[l>>>24]<<24^T[u>>16&255]<<16^T[h>>8&255]<<8^T[255&o]^y[v+1],a=T[u>>>24]<<24^T[h>>16&255]<<16^T[o>>8&255]<<8^T[255&l]^y[v+2],s=T[h>>>24]<<24^T[o>>16&255]<<16^T[l>>8&255]<<8^T[255&u]^y[v+3],_[e]=P(i^b),_[e+1]=P(s^D),_[e+2]=P(a^I),_[e+3]=P(n^w),b=d,D=c,I=f,w=g,e+=4}return _.buffer},t}(),Ur=function(){function t(t,e){var r=(void 0===e?{}:e).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=i,i)try{var n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch(t){}null===this.subtle&&(this.useSoftware=!0)}var e=t.prototype;return e.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},e.isSync=function(){return this.useSoftware},e.flush=function(){var t=this.currentResult,e=this.remainderData;if(!t||e)return this.reset(),null;var r,i,n,a=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?(i=(r=a).byteLength,(n=i&&new DataView(r.buffer).getUint8(i-1))?rt(r,0,i-n):r):a},e.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},e.decrypt=function(t,e,r){var i=this;return this.useSoftware?new Promise((function(n,a){i.softwareDecrypt(new Uint8Array(t),e,r);var s=i.flush();s?n(s.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,r)},e.softwareDecrypt=function(t,e,r){var i=this.currentIV,n=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(t=xt(a,t),this.remainderData=null);var s=this.getValidChunk(t);if(!s.length)return null;i&&(r=i);var o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new Nr),o.expandKey(e);var l=n;return this.currentResult=o.decrypt(s.buffer,0,r),this.currentIV=rt(s,-16).buffer,l||null},e.webCryptoDecrypt=function(t,e,r){var i=this,n=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new Or(n,e)),this.fastAesKey.expandKey().then((function(e){return n?(i.logOnce("WebCrypto AES decrypt"),new Mr(n,new Uint8Array(r)).decrypt(t.buffer,e)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return w.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+n.name+": "+n.message),i.onWebCryptoError(t,e,r)}))},e.onWebCryptoError=function(t,e,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,r);var i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},e.getValidChunk=function(t){var e=t,r=t.length-t.length%16;return r!==t.length&&(e=rt(t,0,r),this.remainderData=rt(t,r)),e},e.logOnce=function(t){this.logEnabled&&(w.log("[decrypter]: "+t),this.logEnabled=!1)},t}(),Br=function(t){for(var e="",r=t.length,i=0;i<r;i++)e+="["+t.start(i).toFixed(3)+"-"+t.end(i).toFixed(3)+"]";return e},Gr="STOPPED",Kr="IDLE",Hr="KEY_LOADING",Vr="FRAG_LOADING",Yr="FRAG_LOADING_WAITING_RETRY",Wr="WAITING_TRACK",jr="PARSING",qr="PARSED",Xr="ENDED",zr="ERROR",Qr="WAITING_INIT_PTS",$r="WAITING_LEVEL",Jr=function(t){function e(e,r,i,n,a){var s;return(s=t.call(this)||this).hls=void 0,s.fragPrevious=null,s.fragCurrent=null,s.fragmentTracker=void 0,s.transmuxer=null,s._state=Gr,s.playlistType=void 0,s.media=null,s.mediaBuffer=null,s.config=void 0,s.bitrateTest=!1,s.lastCurrentTime=0,s.nextLoadPosition=0,s.startPosition=0,s.startTimeOffset=null,s.loadedmetadata=!1,s.retryDate=0,s.levels=null,s.fragmentLoader=void 0,s.keyLoader=void 0,s.levelLastLoaded=null,s.startFragRequested=!1,s.decrypter=void 0,s.initPTS=[],s.onvseeking=null,s.onvended=null,s.logPrefix="",s.log=void 0,s.warn=void 0,s.playlistType=a,s.logPrefix=n,s.log=w.log.bind(w,n+":"),s.warn=w.warn.bind(w,n+":"),s.hls=e,s.fragmentLoader=new Sr(e.config),s.keyLoader=i,s.fragmentTracker=r,s.config=e.config,s.decrypter=new Ur(e.config),e.on(S.MANIFEST_LOADED,s.onManifestLoaded,function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(s)),s}l(e,t);var r=e.prototype;return r.doTick=function(){this.onTickEnd()},r.onTickEnd=function(){},r.startLoad=function(t){},r.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Gr},r._streamEnded=function(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;var r=e.partList;if(null!=r&&r.length){var i=r[r.length-1];return Ir.isBuffered(this.media,i.start+i.duration/2)}var n=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(n)},r.getLevelDetails=function(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levels[this.levelLastLoaded])?void 0:t.details},r.onMediaAttached=function(t,e){var r=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.state===Gr&&this.startLoad(i.startPosition)},r.onMediaDetaching=function(){var t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},r.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,r=this.media,i=this.mediaBuffer,n=this.state,a=r?r.currentTime:0,s=Ir.bufferInfo(i||r,a,t.maxBufferHole);if(this.log("media seeking to "+(E(a)?a.toFixed(3):a)+", state: "+n),this.state===Xr)this.resetLoadingState();else if(e){var o=t.maxFragLookUpTolerance,l=e.start-o,u=e.start+e.duration+o;if(!s.len||u<s.start||l>s.end){var h=a>u;(a<l||h)&&(h&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onManifestLoaded=function(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]},r.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=Gr,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.loadFragment=function(t,e,r){this._loadFragForPlayback(t,e,r)},r._loadFragForPlayback=function(t,e,r){var i=this;this._doFragLoad(t,e,r,(function(e){if(i.fragContextChanged(t))return i.warn("Fragment "+t.sn+(e.part?" p: "+e.part.index:"")+" of level "+t.level+" was dropped during download."),void i.fragmentTracker.removeFragment(t);t.stats.chunkCount++,i._handleFragmentLoadProgress(e)})).then((function(e){if(e){var r=i.state;i.fragContextChanged(t)?(r===Vr||!i.fragCurrent&&r===jr)&&(i.fragmentTracker.removeFragment(t),i.state=Kr):("payload"in e&&(i.log("Loaded fragment "+t.sn+" of level "+t.level),i.hls.trigger(S.FRAG_LOADED,e)),i._handleFragmentLoadComplete(e))}})).catch((function(e){i.state!==Gr&&i.state!==zr&&(i.warn(e),i.resetFragmentLoading(t))}))},r.clearTrackerIfNeeded=function(t){var e,r=this.fragmentTracker;if(r.getState(t)===gr){var i=t.type,n=this.getFwdBufferInfo(this.mediaBuffer,i),a=Math.max(t.duration,n?n.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&r.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?r.removeAllFragments():r.hasParts(t.type)&&(r.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),r.getState(t)===vr&&r.removeFragment(t))},r.checkLiveUpdate=function(t){if(t.updated&&!t.live){var e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)},r.flushMainBuffer=function(t,e,r){if(void 0===r&&(r=null),t-e){var i={startOffset:t,endOffset:e,type:r};this.hls.trigger(S.BUFFER_FLUSHING,i)}},r._loadInitSegment=function(t,e){var r=this;this._doFragLoad(t,e).then((function(e){if(!e||r.fragContextChanged(t)||!r.levels)throw new Error("init load aborted");return e})).then((function(e){var i=r.hls,n=e.payload,a=t.decryptdata;if(n&&n.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var s=self.performance.now();return r.decrypter.decrypt(new Uint8Array(n),a.key.buffer,a.iv.buffer).catch((function(e){throw i.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((function(r){var n=self.performance.now();return i.trigger(S.FRAG_DECRYPTED,{frag:t,payload:r,stats:{tstart:s,tdecrypt:n}}),e.payload=r,e}))}return e})).then((function(i){var n=r.fragCurrent,a=r.hls;if(!r.levels)throw new Error("init load aborted, missing levels");var s=t.stats;r.state=Kr,e.fragmentError=0,t.data=new Uint8Array(i.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),i.frag===n&&a.trigger(S.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:t.type}),r.tick()})).catch((function(e){r.state!==Gr&&r.state!==zr&&(r.warn(e),r.resetFragmentLoading(t))}))},r.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId},r.fragBufferedComplete=function(t,e){var r,i,n,a,s=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+(this.playlistType===ge?"level":"track")+" "+t.level+" (frag:["+(null!=(r=t.startPTS)?r:NaN).toFixed(3)+"-"+(null!=(i=t.endPTS)?i:NaN).toFixed(3)+"] > buffer:"+(s?Br(Ir.getBuffered(s)):"(detached)")+")"),this.state=Kr,s&&(!this.loadedmetadata&&t.type==ge&&s.buffered.length&&(null==(n=this.fragCurrent)?void 0:n.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},r.seekToStartPos=function(){},r._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var r=t.frag,i=t.part,n=t.partsLoaded,a=!n||0===n.length||n.some((function(t){return!t})),s=new wr(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!a);e.flush(s)}},r._handleFragmentLoadProgress=function(t){},r._doFragLoad=function(t,e,r,i){var n,a=this;void 0===r&&(r=null);var s=null==e?void 0:e.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level"+(s?"":" detail")+"s");var o=null;if(!t.encrypted||null!=(n=t.decryptdata)&&n.key?!t.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(t,s.encryptedFragments):(this.log("Loading key for "+t.sn+" of ["+s.startSN+"-"+s.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level),this.state=Hr,this.fragCurrent=t,o=this.keyLoader.load(t).then((function(t){if(!a.fragContextChanged(t.frag))return a.hls.trigger(S.KEY_LOADED,t),a.state===Hr&&(a.state=Kr),t})),this.hls.trigger(S.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),r=Math.max(t.start,r||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){var l=s.partList;if(l&&i){r>t.end&&s.fragmentHint&&(t=s.fragmentHint);var u=this.getNextPart(l,t,r);if(u>-1){var h,d=l[u];return this.log("Loading part sn: "+t.sn+" p: "+d.index+" cc: "+t.cc+" of playlist ["+s.startSN+"-"+s.endSN+"] parts [0-"+u+"-"+(l.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=d.start+d.duration,this.state=Vr,h=o?o.then((function(r){return!r||a.fragContextChanged(r.frag)?null:a.doFragPartsLoad(t,d,e,i)})).catch((function(t){return a.handleFragLoadError(t)})):this.doFragPartsLoad(t,d,e,i).catch((function(t){return a.handleFragLoadError(t)})),this.hls.trigger(S.FRAG_LOADING,{frag:t,part:d,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}if(!t.url||this.loadedEndOfParts(l,r))return Promise.resolve(null)}}this.log("Loading fragment "+t.sn+" cc: "+t.cc+" "+(s?"of ["+s.startSN+"-"+s.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(r.toFixed(3))),E(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Vr;var c,f=this.config.progressive;return c=f&&o?o.then((function(e){return!e||a.fragContextChanged(null==e?void 0:e.frag)?null:a.fragmentLoader.load(t,i)})).catch((function(t){return a.handleFragLoadError(t)})):Promise.all([this.fragmentLoader.load(t,f?i:void 0),o]).then((function(t){var e=t[0];return!f&&e&&i&&i(e),e})).catch((function(t){return a.handleFragLoadError(t)})),this.hls.trigger(S.FRAG_LOADING,{frag:t,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c},r.doFragPartsLoad=function(t,e,r,i){var n=this;return new Promise((function(a,s){var o,l=[],u=null==(o=r.details)?void 0:o.partList;!function e(o){n.fragmentLoader.loadPart(t,o,i).then((function(i){l[o.index]=i;var s=i.part;n.hls.trigger(S.FRAG_LOADED,i);var h=Ve(r,t.sn,o.index+1)||Ye(u,t.sn,o.index+1);if(!h)return a({frag:t,part:s,partsLoaded:l});e(h)})).catch(s)}(e)}))},r.handleFragLoadError=function(t){if("data"in t){var e=t.data;t.data&&e.details===R.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(S.ERROR,e)}else this.hls.trigger(S.ERROR,{type:L.OTHER_ERROR,details:R.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null},r._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===jr){var r=e.frag,i=e.part,n=e.level,a=self.performance.now();r.stats.parsing.end=a,i&&(i.stats.parsing.end=a),this.updateLevelTiming(r,i,n,t.partial)}else this.fragCurrent||this.state===Gr||this.state===zr||(this.state=Kr)},r.getCurrentContext=function(t){var e=this.levels,r=this.fragCurrent,i=t.level,n=t.sn,a=t.part;if(null==e||!e[i])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+i+". The current chunk will not be buffered."),null;var s=e[i],o=a>-1?Ve(s,n,a):null,l=o?o.fragment:function(t,e,r){if(null==t||!t.details)return null;var i=t.details,n=i.fragments[e-i.startSN];return n||((n=i.fragmentHint)&&n.sn===e?n:e<i.startSN&&r&&r.sn===e?r:null)}(s,n,r);return l?(r&&r!==l&&(l.stats=r.stats),{frag:l,part:o,level:s}):null},r.bufferFragmentData=function(t,e,r,i,n){var a;if(t&&this.state===jr){var s=t.data1,o=t.data2,l=s;if(s&&o&&(l=xt(s,o)),null!=(a=l)&&a.length){var u={type:t.type,frag:e,part:r,chunkMeta:i,parent:e.type,data:l};if(this.hls.trigger(S.BUFFER_APPENDING,u),t.dropped&&t.independent&&!r){if(n)return;this.flushBufferGap(e)}}}},r.flushBufferGap=function(t){var e=this.media;if(e)if(Ir.isBuffered(e,e.currentTime)){var r=e.currentTime,i=Ir.bufferInfo(e,r,0),n=t.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*n),s=Math.max(Math.min(t.start-a,i.end-a),r+a);t.start-s>a&&this.flushMainBuffer(s,t.start)}else this.flushMainBuffer(0,t.start)},r.getFwdBufferInfo=function(t,e){var r=this.getLoadPosition();return E(r)?this.getFwdBufferInfoAtPos(t,r,e):null},r.getFwdBufferInfoAtPos=function(t,e,r){var i=this.config.maxBufferHole,n=Ir.bufferInfo(t,e,i);if(0===n.len&&void 0!==n.nextStart){var a=this.fragmentTracker.getBufferedFrag(e,r);if(a&&n.nextStart<a.end)return Ir.bufferInfo(t,e,Math.max(n.nextStart,i))}return n},r.getMaxBufferLength=function(t){var e,r=this.config;return e=t?Math.max(8*r.maxBufferSize/t,r.maxBufferLength):r.maxBufferLength,Math.min(e,r.maxMaxBufferLength)},r.reduceMaxBufferLength=function(t){var e=this.config,r=t||e.maxBufferLength;return e.maxMaxBufferLength>=r&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},r.getAppendedFrag=function(t,e){var r=this.fragmentTracker.getAppendedFrag(t,ge);return r&&"fragment"in r?r.fragment:r},r.getNextFragment=function(t,e){var r=e.fragments,i=r.length;if(!i)return null;var n,a=this.config,s=r[0].start;if(e.live){var o=a.initialLiveManifestSize;if(i<o)return this.warn("Not enough fragments to start playback (have: "+i+", need: "+o+")"),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(n=this.getInitialLiveFragment(e,r),this.startPosition=n?this.hls.liveSyncPosition||n.start:t)}else t<=s&&(n=r[0]);if(!n){var l=a.lowLatencyMode?e.partEnd:e.fragmentEnd;n=this.getFragmentAtPosition(t,l,e)}return this.mapToInitFragWhenRequired(n)},r.isLoopLoading=function(t,e){var r=this.fragmentTracker.getState(t);return(r===mr||r===vr&&!!t.gap)&&this.nextLoadPosition>e},r.getNextFragmentLoopLoading=function(t,e,r,i,n){var a=t.gap,s=this.getNextFragment(this.nextLoadPosition,e);if(null===s)return s;if(t=s,a&&t&&!t.gap&&r.nextStart){var o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(null!==o&&r.len+o.len>=n)return this.log('buffer full after gaps in "'+i+'" playlist starting at sn: '+t.sn),null}return t},r.mapToInitFragWhenRequired=function(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment},r.getNextPart=function(t,e,r){for(var i=-1,n=!1,a=!0,s=0,o=t.length;s<o;s++){var l=t[s];if(a=a&&!l.independent,i>-1&&r<l.start)break;var u=l.loaded;u?i=-1:(n||l.independent||a)&&l.fragment===e&&(i=s),n=u}return i},r.loadedEndOfParts=function(t,e){var r=t[t.length-1];return r&&e>r.start&&r.loaded},r.getInitialLiveFragment=function(t,e){var r=this.fragPrevious,i=null;if(r){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),i=function(t,e,r){if(null===e||!Array.isArray(t)||!t.length||!E(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;r=r||0;for(var i=0;i<t.length;++i){var n=t[i];if(Ze(e,r,n))return n}return null}(e,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){var n=r.sn+1;if(n>=t.startSN&&n<=t.endSN){var a=e[n-t.startSN];r.cc===a.cc&&(i=a,this.log("Live playlist, switching playlist, load frag with next SN: "+i.sn))}i||(i=function(t,e){return Qe(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}(e,r.cc),i&&this.log("Live playlist, switching playlist, load frag with same CC: "+i.sn))}}else{var s=this.hls.liveSyncPosition;null!==s&&(i=this.getFragmentAtPosition(s,this.bitrateTest?t.fragmentEnd:t.edge,t))}return i},r.getFragmentAtPosition=function(t,e,r){var i,n=this.config,a=this.fragPrevious,s=r.fragments,o=r.endSN,l=r.fragmentHint,u=n.maxFragLookUpTolerance,h=r.partList,d=!!(n.lowLatencyMode&&null!=h&&h.length&&l);if(d&&l&&!this.bitrateTest&&(s=s.concat(l),o=l.sn),i=t<e?$e(a,s,t,t>e-u?0:u):s[s.length-1]){var c=i.sn-r.startSN,f=this.fragmentTracker.getState(i);if((f===mr||f===vr&&i.gap)&&(a=i),a&&i.sn===a.sn&&(!d||h[0].fragment.sn>i.sn)&&a&&i.level===a.level){var g=s[c+1];i=i.sn<o&&this.fragmentTracker.getState(g)!==mr?g:null}}return i},r.synchronizeToLiveEdge=function(t){var e=this.config,r=this.media;if(r){var i=this.hls.liveSyncPosition,n=r.currentTime,a=t.fragments[0].start,s=t.edge,o=n>=a-e.maxFragLookUpTolerance&&n<=s;if(null!==i&&r.duration>i&&(n<i||!o)){var l=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!o&&r.readyState<4||n<s-l)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn("Playback: "+n.toFixed(3)+" is located too far from the end of live sliding playlist: "+s+", reset currentTime to : "+i.toFixed(3)),r.currentTime=i))}}},r.alignPlaylists=function(t,e){var r=this.levels,i=this.levelLastLoaded,n=this.fragPrevious,a=null!==i?r[i]:null,s=t.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var o=t.fragments[0].start,l=!e,u=t.alignedSliding&&E(o);if(l||!u&&!o){xr(n,a,t);var h=t.fragments[0].start;return this.log("Live playlist sliding: "+h.toFixed(2)+" start-sn: "+(e?e.startSN:"na")+"->"+t.startSN+" prev-sn: "+(n?n.sn:"na")+" fragments: "+s),h}return o},r.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},r.setStartPosition=function(t,e){var r=this.startPosition;if(r<e&&(r=-1),-1===r||-1===this.lastCurrentTime){var i=null!==this.startTimeOffset,n=i?this.startTimeOffset:t.startTimeOffset;null!==n&&E(n)?(r=e+n,n<0&&(r+=t.totalduration),r=Math.min(Math.max(e,r),e+t.totalduration),this.log("Start time offset "+n+" found in "+(i?"multivariant":"media")+" playlist, adjust startPosition to "+r),this.startPosition=r):t.live?r=this.hls.liveSyncPosition||e:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},r.getLoadPosition=function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e},r.handleFragLoadAborted=function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" was aborted"),this.resetFragmentLoading(t))},r.resetFragmentLoading=function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===Yr)||(this.state=Kr)},r.onFragmentOrKeyLoadError=function(t,e){if(e.chunkMeta&&!e.frag){var r=this.getCurrentContext(e.chunkMeta);r&&(e.frag=r.frag)}var i=e.frag;if(i&&i.type===t&&this.levels)if(this.fragContextChanged(i)){var n;this.warn("Frag load error must match current frag to retry "+i.url+" > "+(null==(n=this.fragCurrent)?void 0:n.url))}else{var a=e.details===R.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(i,!0);var s=e.errorAction,o=s||{},l=o.action,u=o.retryCount,h=void 0===u?0:u,d=o.retryConfig;if(s&&l===nr&&d){var c;this.resetStartWhenNotLoaded(null!=(c=this.levelLastLoaded)?c:i.level);var f=qe(d,h);this.warn("Fragment "+i.sn+" of "+t+" "+i.level+" errored with "+e.details+", retrying loading "+(h+1)+"/"+d.maxNumRetry+" in "+f+"ms"),s.resolved=!0,this.retryDate=self.performance.now()+f,this.state=Yr}else d&&s?(this.resetFragmentErrors(t),h<d.maxNumRetry?a||(s.resolved=!0):w.warn(e.details+" reached or exceeded max retry ("+h+")")):(null==s?void 0:s.action)===ir?this.state=$r:this.state=zr;this.tickImmediate()}},r.reduceLengthAndFlushBuffer=function(t){if(this.state===jr||this.state===qr){var e=t.parent,r=this.getFwdBufferInfo(this.mediaBuffer,e),i=r&&r.len>.5;i&&this.reduceMaxBufferLength(r.len);var n=!i;return n&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+e+" buffer"),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),n}return!1},r.resetFragmentErrors=function(t){t===ve&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Gr&&(this.state=Kr)},r.afterBufferFlushed=function(t,e,r){if(t){var i=Ir.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,i,r),this.state===Xr&&this.resetLoadingState()}},r.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Kr},r.resetStartWhenNotLoaded=function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},r.resetWhenMissingContext=function(t){var e;this.warn("The loading context changed while buffering fragment "+t.sn+" of level "+t.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:t.level),this.resetLoadingState()},r.removeUnbufferedFrags=function(t){void 0===t&&(t=0),this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)},r.updateLevelTiming=function(t,e,r,i){var n,a=this,s=r.details;if(s){if(Object.keys(t.elementaryStreams).reduce((function(e,n){var o=t.elementaryStreams[n];if(o){var l=o.endPTS-o.startPTS;if(l<=0)return a.warn("Could not parse fragment "+t.sn+" "+n+" duration reliably ("+l+")"),e||!1;var u=i?0:Be(s,t,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return a.hls.trigger(S.LEVEL_PTS_UPDATED,{details:s,level:r,drift:u,type:n,frag:t,start:o.startPTS,end:o.endPTS}),!0}return e}),!1))r.fragmentError=0;else if(null===(null==(n=this.transmuxer)?void 0:n.error)){var o=new Error("Found no media in fragment "+t.sn+" of level "+t.level+" resetting transmuxer to fallback to playlist timing");if(0===r.fragmentError&&(r.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)),this.warn(o.message),this.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,fatal:!1,error:o,frag:t,reason:"Found no media in msn "+t.sn+' of level "'+r.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=qr,this.hls.trigger(S.FRAG_PARSED,{frag:t,part:e})}else this.warn("level.details undefined")},r.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},r.recoverWorkerError=function(t){var e,r,i;"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(r=this.levelLastLoaded)?r:null==(i=this.fragCurrent)?void 0:i.level)?e:0),this.resetLoadingState())},a(e,[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}]),e}(br);function Zr(){return self.SourceBuffer||self.WebKitSourceBuffer}function ti(t,e){return void 0===t&&(t=""),void 0===e&&(e=9e4),{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}var ei=function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var e=t.prototype;return e.resetInitSegment=function(t,e,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},e.resetTimeStamp=function(t){this.initPTS=t,this.resetContiguity()},e.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},e.canParse=function(t,e){return!1},e.appendFrame=function(t,e,r){},e.demux=function(t,e){this.cachedData&&(t=xt(this.cachedData,t),this.cachedData=null);var r,i=st(t,0),n=i?i.length:0,a=this._audioTrack,s=this._id3Track,o=i?function(t){for(var e=dt(t),r=0;r<e.length;r++){var i=e[r];if(ut(i))return mt(i)}}(i):void 0,l=t.length;for((null===this.basePTS||0===this.frameIndex&&E(o))&&(this.basePTS=ri(o,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Ae,duration:Number.POSITIVE_INFINITY});n<l;){if(this.canParse(t,n)){var u=this.appendFrame(a,t,n);u?(this.frameIndex++,this.lastPTS=u.sample.pts,r=n+=u.length):n=l}else lt(t,n)?(i=st(t,n),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Ae,duration:Number.POSITIVE_INFINITY}),r=n+=i.length):n++;if(n===l&&r!==l){var h=rt(t,r);this.cachedData?this.cachedData=xt(this.cachedData,h):this.cachedData=h}}return{audioTrack:a,videoTrack:ti(),id3Track:s,textTrack:ti()}},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},e.flush=function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:ti(),id3Track:this._id3Track,textTrack:ti()}},e.destroy=function(){},t}(),ri=function(t,e,r){return E(t)?90*t:9e4*e+(r?9e4*r.baseTime/r.timescale:0)};function ii(t,e){return 255===t[e]&&240==(246&t[e+1])}function ni(t,e){return 1&t[e+1]?7:9}function ai(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function si(t,e){return e+1<t.length&&ii(t,e)}function oi(t,e){if(si(t,e)){var r=ni(t,e);if(e+r>=t.length)return!1;var i=ai(t,e);if(i<=r)return!1;var n=e+i;return n===t.length||si(t,n)}return!1}function li(t,e,r,i,n){if(!t.samplerate){var a=function(t,e,r,i){var n,a,s,o,l=navigator.userAgent.toLowerCase(),u=i,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=1+((192&e[r+2])>>>6);var d=(60&e[r+2])>>>2;if(!(d>h.length-1))return s=(1&e[r+2])<<2,s|=(192&e[r+3])>>>6,w.log("manifest codec:"+i+", ADTS type:"+n+", samplingIndex:"+d),/firefox/i.test(l)?d>=6?(n=5,o=new Array(4),a=d-3):(n=2,o=new Array(2),a=d):-1!==l.indexOf("android")?(n=2,o=new Array(2),a=d):(n=5,o=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&d>=6?a=d-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(d>=6&&1===s||/vivaldi/i.test(l))||!i&&1===s)&&(n=2,o=new Array(2)),a=d)),o[0]=n<<3,o[0]|=(14&d)>>1,o[1]|=(1&d)<<7,o[1]|=s<<3,5===n&&(o[1]|=(14&a)>>1,o[2]=(1&a)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:h[d],channelCount:s,codec:"mp4a.40."+n,manifestCodec:u};t.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+d})}(e,r,i,n);if(!a)return;t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,w.log("parsed codec:"+t.codec+", rate:"+a.samplerate+", channels:"+a.channelCount)}}function ui(t){return 9216e4/t}function hi(t,e,r,i,n){var a,s=i+n*ui(t.samplerate),o=function(t,e){var r=ni(t,e);if(e+r<=t.length){var i=ai(t,e)-r;if(i>0)return{headerLength:r,frameLength:i}}}(e,r);if(o){var l=o.frameLength,u=o.headerLength,h=u+l,d=Math.max(0,r+h-e.length);d?(a=new Uint8Array(h-u)).set(e.subarray(r+u,e.length),0):a=e.subarray(r+u,r+h);var c={unit:a,pts:s};return d||t.samples.push(c),{sample:c,length:h,missing:d}}var f=e.length-r;return(a=new Uint8Array(f)).set(e.subarray(r,e.length),0),{sample:{unit:a,pts:s},length:f,missing:-1}}var di=function(t){function e(e,r){var i;return(i=t.call(this)||this).observer=void 0,i.config=void 0,i.observer=e,i.config=r,i}l(e,t);var r=e.prototype;return r.resetInitSegment=function(e,r,i,n){t.prototype.resetInitSegment.call(this,e,r,i,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:n,inputTimeScale:9e4,dropped:0}},e.probe=function(t){if(!t)return!1;for(var e=(st(t,0)||[]).length,r=t.length;e<r;e++)if(oi(t,e))return w.log("ADTS sync word found !"),!0;return!1},r.canParse=function(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&ii(t,e)&&ai(t,e)<=t.length-e}(t,e)},r.appendFrame=function(t,e,r){li(t,this.observer,e,r,t.manifestCodec);var i=hi(t,e,r,this.basePTS,this.frameIndex);if(i&&0===i.missing)return i},e}(ei),ci=/\/emsg[-/]ID3/i,fi=function(){function t(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}var e=t.prototype;return e.resetTimeStamp=function(){},e.resetInitSegment=function(t,e,r,i){var n=this.videoTrack=ti("video",1),a=this.audioTrack=ti("audio",1),s=this.txtTrack=ti("text",1);if(this.id3Track=ti("id3",1),this.timeOffset=0,null!=t&&t.byteLength){var o=Ct(t);if(o.video){var l=o.video,u=l.id,h=l.timescale,d=l.codec;n.id=u,n.timescale=s.timescale=h,n.codec=d}if(o.audio){var c=o.audio,f=c.id,g=c.timescale,v=c.codec;a.id=f,a.timescale=g,a.codec=v}s.id=Lt.text,n.sampleDuration=0,n.duration=a.duration=i}},e.resetContiguity=function(){this.remainderData=null},t.probe=function(t){return It(t=t.length>16384?t.subarray(0,16384):t,["moof"]).length>0},e.demux=function(t,e){this.timeOffset=e;var r=t,i=this.videoTrack,n=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=xt(this.remainderData,t));var a=function(t){var e={valid:null,remainder:null},r=It(t,["moof"]);if(!r)return e;if(r.length<2)return e.remainder=t,e;var i=r[r.length-1];return e.valid=rt(t,0,i.byteOffset-8),e.remainder=rt(t,i.byteOffset-8),e}(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;var s=this.extractID3Track(i,e);return n.samples=Ft(e,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},e.flush=function(){var t=this.timeOffset,e=this.videoTrack,r=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var i=this.extractID3Track(e,this.timeOffset);return r.samples=Ft(t,e),{videoTrack:e,audioTrack:ti(),id3Track:i,textTrack:ti()}},e.extractID3Track=function(t,e){var r=this.id3Track;if(t.samples.length){var i=It(t.samples,["emsg"]);i&&i.forEach((function(t){var i=function(t){var e=t[0],r="",i="",n=0,a=0,s=0,o=0,l=0,u=0;if(0===e){for(;"\0"!==Rt(t.subarray(u,u+1));)r+=Rt(t.subarray(u,u+1)),u+=1;for(r+=Rt(t.subarray(u,u+1)),u+=1;"\0"!==Rt(t.subarray(u,u+1));)i+=Rt(t.subarray(u,u+1)),u+=1;i+=Rt(t.subarray(u,u+1)),u+=1,n=kt(t,12),a=kt(t,16),o=kt(t,20),l=kt(t,24),u=28}else if(1===e){n=kt(t,u+=4);var h=kt(t,u+=4),d=kt(t,u+=4);for(u+=4,s=Math.pow(2,32)*h+d,Number.isSafeInteger(s)||(s=Number.MAX_SAFE_INTEGER,w.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=kt(t,u),l=kt(t,u+=4),u+=4;"\0"!==Rt(t.subarray(u,u+1));)r+=Rt(t.subarray(u,u+1)),u+=1;for(r+=Rt(t.subarray(u,u+1)),u+=1;"\0"!==Rt(t.subarray(u,u+1));)i+=Rt(t.subarray(u,u+1)),u+=1;i+=Rt(t.subarray(u,u+1)),u+=1}return{schemeIdUri:r,value:i,timeScale:n,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:t.subarray(u,t.byteLength)}}(t);if(ci.test(i.schemeIdUri)){var n=E(i.presentationTime)?i.presentationTime/i.timeScale:e+i.presentationTimeDelta/i.timeScale,a=4294967295===i.eventDuration?Number.POSITIVE_INFINITY:i.eventDuration/i.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var s=i.payload;r.samples.push({data:s,len:s.byteLength,dts:n,pts:n,type:be,duration:a})}}))}return r},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},e.destroy=function(){},t}(),gi=null,vi=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],mi=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],pi=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],yi=[0,1,1,4];function Ti(t,e,r,i,n){if(!(r+24>e.length)){var a=Ei(e,r);if(a&&r+a.frameLength<=e.length){var s=i+n*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:e.subarray(r,r+a.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}}function Ei(t,e){var r=t[e+1]>>3&3,i=t[e+1]>>1&3,n=t[e+2]>>4&15,a=t[e+2]>>2&3;if(1!==r&&0!==n&&15!==n&&3!==a){var s=t[e+2]>>1&1,o=t[e+3]>>6,l=1e3*vi[14*(3===r?3-i:3===i?3:4)+n-1],u=mi[3*(3===r?0:2===r?1:2)+a],h=3===o?1:2,d=pi[r][i],c=yi[i],f=8*d*c,g=Math.floor(d*l/u+s)*c;if(null===gi){var v=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);gi=v?parseInt(v[1]):0}return!!gi&&gi<=87&&2===i&&l>=224e3&&0===o&&(t[e+3]=128|t[e+3]),{sampleRate:u,channelCount:h,frameLength:g,samplesPerFrame:f}}}function Si(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function Li(t,e){return e+1<t.length&&Si(t,e)}function Ri(t,e){if(e+1<t.length&&Si(t,e)){var r=Ei(t,e),i=4;null!=r&&r.frameLength&&(i=r.frameLength);var n=e+i;return n===t.length||Li(t,n)}return!1}var Ai=function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,i=new Uint8Array(4),n=Math.min(4,e);if(0===n)throw new Error("no bytes available");i.set(t.subarray(r,r+n)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.skipBits=function(t){var e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;if(t>32&&w.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){for(var e=8,r=8,i=0;i<t;i++)0!==r&&(r=(e+this.readEG()+256)%256),e=0===r?e:r},e.readSPS=function(){var t,e,r,i=0,n=0,a=0,s=0,o=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),h=this.readBoolean.bind(this),d=this.skipBits.bind(this),c=this.skipEG.bind(this),f=this.skipUEG.bind(this),g=this.skipScalingList.bind(this);o();var v=o();if(l(5),d(3),o(),f(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=u();if(3===m&&d(1),f(),f(),d(1),h())for(e=3!==m?8:12,r=0;r<e;r++)h()&&g(r<6?16:64)}f();var p=u();if(0===p)u();else if(1===p)for(d(1),c(),c(),t=u(),r=0;r<t;r++)c();f(),d(1);var y=u(),T=u(),E=l(1);0===E&&d(1),d(1),h()&&(i=u(),n=u(),a=u(),s=u());var S=[1,1];if(h()&&h())switch(o()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[o()<<8|o(),o()<<8|o()]}return{width:Math.ceil(16*(y+1)-2*i-2*n),height:(2-E)*(T+1)*16-(E?2:4)*(a+s),pixelRatio:S}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),ki=function(){function t(t,e,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Ur(e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)},e.decryptAacSample=function(t,e,r){var i=this,n=t[e].unit;if(!(n.length<=16)){var a=n.subarray(16,n.length-n.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then((function(a){var s=new Uint8Array(a);n.set(s,16),i.decrypter.isSync()||i.decryptAacSamples(t,e+1,r)}))}},e.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32||(this.decryptAacSample(t,e,r),this.decrypter.isSync())))return}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),i=0,n=32;n<t.length-16;n+=160,i+=16)r.set(t.subarray(n,n+16),i);return r},e.getAvcDecryptedUnit=function(t,e){for(var r=new Uint8Array(e),i=0,n=32;n<t.length-16;n+=160,i+=16)t.set(r.subarray(i,i+16),n);return t},e.decryptAvcSample=function(t,e,r,i,n){var a=this,s=Nt(n.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then((function(o){n.data=a.getAvcDecryptedUnit(s,o),a.decrypter.isSync()||a.decryptAvcSamples(t,e,r+1,i)}))},e.decryptAvcSamples=function(t,e,r,i){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,r=0){if(e>=t.length)return void i();for(var n=t[e].units;!(r>=n.length);r++){var a=n[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type||(this.decryptAvcSample(t,e,r,i,a),this.decrypter.isSync())))return}}},t}(),bi=188,Di=function(){function t(t,e,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=r}t.probe=function(e){var r=t.syncOffset(e);return r>0&&w.warn("MPEG2-TS detected but first sync word found @ offset "+r),-1!==r},t.syncOffset=function(t){for(var e=t.length,r=Math.min(940,t.length-bi)+1,i=0;i<r;){for(var n=!1,a=-1,s=0,o=i;o<e;o+=bi){if(71!==t[o]){if(s)return-1;break}if(s++,-1===a&&0!==(a=o)&&(r=Math.min(a+18612,t.length-bi)+1),n||(n=0===wi(t,o)),n&&s>1&&(0===a&&s>2||o+bi>r))return a}i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:Lt[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}};var e=t.prototype;return e.resetInitSegment=function(e,r,i,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video"),this._audioTrack=t.createTrack("audio",n),this._id3Track=t.createTrack("id3"),this._txtTrack=t.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=i,this._duration=n},e.resetTimeStamp=function(){},e.resetContiguity=function(){var t=this._audioTrack,e=this._avcTrack,r=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},e.demux=function(e,r,i,n){var a;void 0===i&&(i=!1),void 0===n&&(n=!1),i||(this.sampleAes=null);var s=this._avcTrack,o=this._audioTrack,l=this._id3Track,u=this._txtTrack,h=s.pid,d=s.pesData,c=o.pid,f=l.pid,g=o.pesData,v=l.pesData,m=null,p=this.pmtParsed,y=this._pmtId,T=e.length;if(this.remainderData&&(T=(e=xt(this.remainderData,e)).length,this.remainderData=null),T<bi&&!n)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};var E=Math.max(0,t.syncOffset(e));(T-=(T-E)%bi)<e.byteLength&&!n&&(this.remainderData=new Uint8Array(e.buffer,T,e.buffer.byteLength-T));for(var A=0,k=E;k<T;k+=bi)if(71===e[k]){var b=!!(64&e[k+1]),D=wi(e,k),I=void 0;if((48&e[k+3])>>4>1){if((I=k+5+e[k+4])===k+bi)continue}else I=k+4;switch(D){case h:b&&(d&&(a=Pi(d))&&this.parseAVCPES(s,u,a,!1),d={data:[],size:0}),d&&(d.data.push(e.subarray(I,k+bi)),d.size+=k+bi-I);break;case c:if(b){if(g&&(a=Pi(g)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a)}g={data:[],size:0}}g&&(g.data.push(e.subarray(I,k+bi)),g.size+=k+bi-I);break;case f:b&&(v&&(a=Pi(v))&&this.parseID3PES(l,a),v={data:[],size:0}),v&&(v.data.push(e.subarray(I,k+bi)),v.size+=k+bi-I);break;case 0:b&&(I+=e[I]+1),y=this._pmtId=Ci(e,I);break;case y:b&&(I+=e[I]+1);var C=_i(e,I,this.typeSupported,i);(h=C.avc)>0&&(s.pid=h),(c=C.audio)>0&&(o.pid=c,o.segmentCodec=C.segmentCodec),(f=C.id3)>0&&(l.pid=f),null===m||p||(w.warn("MPEG-TS PMT found at "+k+" after unknown PID '"+m+"'. Backtracking to sync byte @"+E+" to parse all TS packets."),m=null,k=E-188),p=this.pmtParsed=!0;break;case 17:case 8191:break;default:m=D}}else A++;if(A>0){var _=new Error("Found "+A+" TS packet/s that do not start with 0x47");this.observer.emit(S.ERROR,S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,fatal:!1,error:_,reason:_.message})}s.pesData=d,o.pesData=g,l.pesData=v;var P={audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};return n&&this.extractRemainingSamples(P),P},e.flush=function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},e.extractRemainingSamples=function(t){var e,r=t.audioTrack,i=t.videoTrack,n=t.id3Track,a=t.textTrack,s=i.pesData,o=r.pesData,l=n.pesData;if(s&&(e=Pi(s))?(this.parseAVCPES(i,a,e,!0),i.pesData=null):i.pesData=s,o&&(e=Pi(o))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,e);break;case"mp3":this.parseMPEGPES(r,e)}r.pesData=null}else null!=o&&o.size&&w.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;l&&(e=Pi(l))?(this.parseID3PES(n,e),n.pesData=null):n.pesData=l},e.demuxSampleAes=function(t,e,r){var i=this.demux(t,r,!0,!this.config.progressive),n=this.sampleAes=new ki(this.observer,this.config,e);return this.decrypt(i,n)},e.decrypt=function(t,e){return new Promise((function(r){var i=t.audioTrack,n=t.videoTrack;i.samples&&"aac"===i.segmentCodec?e.decryptAacSamples(i.samples,0,(function(){n.samples?e.decryptAvcSamples(n.samples,0,0,(function(){r(t)})):r(t)})):n.samples&&e.decryptAvcSamples(n.samples,0,0,(function(){r(t)}))}))},e.destroy=function(){this._duration=0},e.parseAVCPES=function(t,e,r,i){var n,a=this,s=this.parseAVCNALu(t,r.data),o=this.avcSample,l=!1;r.data=null,o&&s.length&&!t.audFound&&(xi(o,t),o=this.avcSample=Ii(!1,r.pts,r.dts,"")),s.forEach((function(i){var s;switch(i.type){case 1:var u=!1;n=!0;var h,d=i.data;if(l&&d.length>4){var c=new Ai(d).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(u=!0)}u&&null!=(h=o)&&h.frame&&!o.key&&(xi(o,t),o=a.avcSample=null),o||(o=a.avcSample=Ii(!0,r.pts,r.dts,"")),o.frame=!0,o.key=u;break;case 5:n=!0,null!=(s=o)&&s.frame&&!o.key&&(xi(o,t),o=a.avcSample=null),o||(o=a.avcSample=Ii(!0,r.pts,r.dts,"")),o.key=!0,o.frame=!0;break;case 6:n=!0,Ot(i.data,1,r.pts,e.samples);break;case 7:if(n=!0,l=!0,!t.sps){var f=i.data,g=new Ai(f).readSPS();t.width=g.width,t.height=g.height,t.pixelRatio=g.pixelRatio,t.sps=[f],t.duration=a._duration;for(var v=f.subarray(1,4),m="avc1.",p=0;p<3;p++){var y=v[p].toString(16);y.length<2&&(y="0"+y),m+=y}t.codec=m}break;case 8:n=!0,t.pps||(t.pps=[i.data]);break;case 9:n=!1,t.audFound=!0,o&&xi(o,t),o=a.avcSample=Ii(!1,r.pts,r.dts,"");break;case 12:n=!0;break;default:n=!1,o&&(o.debug+="unknown NAL "+i.type+" ")}o&&n&&o.units.push(i)})),i&&o&&(xi(o,t),this.avcSample=null)},e.getLastNalUnit=function(t){var e,r,i=this.avcSample;if(i&&0!==i.units.length||(i=t[t.length-1]),null!=(e=i)&&e.units){var n=i.units;r=n[n.length-1]}return r},e.parseAVCNALu=function(t,e){var r,i,n=e.byteLength,a=t.naluState||0,s=a,o=[],l=0,u=-1,h=0;for(-1===a&&(u=0,h=31&e[0],a=0,l=1);l<n;)if(r=e[l++],a)if(1!==a)if(r)if(1===r){if(u>=0){var d={data:e.subarray(u,l-a-1),type:h};o.push(d)}else{var c=this.getLastNalUnit(t.samples);if(c&&(s&&l<=4-s&&c.state&&(c.data=c.data.subarray(0,c.data.byteLength-s)),(i=l-a-1)>0)){var f=new Uint8Array(c.data.byteLength+i);f.set(c.data,0),f.set(e.subarray(0,i),c.data.byteLength),c.data=f,c.state=0}}l<n?(u=l,h=31&e[l],a=0):a=-1}else a=0;else a=3;else a=r?0:2;else a=r?0:1;if(u>=0&&a>=0){var g={data:e.subarray(u,n),type:h,state:a};o.push(g)}if(0===o.length){var v=this.getLastNalUnit(t.samples);if(v){var m=new Uint8Array(v.data.byteLength+e.byteLength);m.set(v.data,0),m.set(e,v.data.byteLength),v.data=m}}return t.naluState=a,o},e.parseAACPES=function(t,e){var r,i,n,a=0,s=this.aacOverFlow,o=e.data;if(s){this.aacOverFlow=null;var l=s.missing,u=s.sample.unit.byteLength;if(-1===l){var h=new Uint8Array(u+o.byteLength);h.set(s.sample.unit,0),h.set(o,u),o=h}else{var d=u-l;s.sample.unit.set(o.subarray(0,l),d),t.samples.push(s.sample),a=s.missing}}for(r=a,i=o.length;r<i-1&&!si(o,r);r++);if(r!==a){var c,f=r<i-1;c=f?"AAC PES did not start with ADTS header,offset:"+r:"No ADTS header found in AAC PES";var g=new Error(c);if(w.warn("parsing error: "+c),this.observer.emit(S.ERROR,S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,fatal:!1,levelRetry:f,error:g,reason:c}),!f)return}if(li(t,this.observer,o,r,this.audioCodec),void 0!==e.pts)n=e.pts;else{if(!s)return void w.warn("[tsdemuxer]: AAC PES unknown PTS");var v=ui(t.samplerate);n=s.sample.pts+v}for(var m,p=0;r<i;){if(r+=(m=hi(t,o,r,n,p)).length,m.missing){this.aacOverFlow=m;break}for(p++;r<i-1&&!si(o,r);r++);}},e.parseMPEGPES=function(t,e){var r=e.data,i=r.length,n=0,a=0,s=e.pts;if(void 0!==s)for(;a<i;)if(Li(r,a)){var o=Ti(t,r,a,s,n);if(!o)break;a+=o.length,n++}else a++;else w.warn("[tsdemuxer]: MPEG PES unknown PTS")},e.parseID3PES=function(t,e){if(void 0!==e.pts){var r=o({},e,{type:this._avcTrack?be:Ae,duration:Number.POSITIVE_INFINITY});t.samples.push(r)}else w.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function Ii(t,e,r,i){return{key:t,frame:!1,pts:e,dts:r,units:[],debug:i,length:0}}function wi(t,e){return((31&t[e+1])<<8)+t[e+2]}function Ci(t,e){return(31&t[e+10])<<8|t[e+11]}function _i(t,e,r,i){var n={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<a;){var s=wi(t,e);switch(t[e]){case 207:if(!i){w.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===n.audio&&(n.audio=s);break;case 21:-1===n.id3&&(n.id3=s);break;case 219:if(!i){w.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===n.avc&&(n.avc=s);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?w.log("MPEG audio found, not supported in this browser"):-1===n.audio&&(n.audio=s,n.segmentCodec="mp3");break;case 36:w.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return n}function Pi(t){var e,r,i,n,a,s=0,o=t.data;if(!t||0===t.size)return null;for(;o[0].length<19&&o.length>1;){var l=new Uint8Array(o[0].length+o[1].length);l.set(o[0]),l.set(o[1],o[0].length),o[0]=l,o.splice(1,1)}if(1===((e=o[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;var u=e[7];192&u&&(n=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&u?n-(a=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(w.warn(Math.round((n-a)/9e4)+"s delta between PTS and DTS, align them"),n=a):a=n);var h=(i=e[8])+9;if(t.size<=h)return null;t.size-=h;for(var d=new Uint8Array(t.size),c=0,f=o.length;c<f;c++){var g=(e=o[c]).byteLength;if(h){if(h>g){h-=g;continue}e=e.subarray(h),g-=h,h=0}d.set(e,s),s+=g}return r&&(r-=i+3),{data:d,pts:n,dts:a,len:r}}return null}function xi(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var r=e.samples,i=r.length;if(!i)return void e.dropped++;var n=r[i-1];t.pts=n.pts,t.dts=n.dts}e.samples.push(t)}t.debug.length&&w.log(t.pts+"/"+t.dts+":"+t.debug)}var Fi=function(t){function e(){return t.apply(this,arguments)||this}l(e,t);var r=e.prototype;return r.resetInitSegment=function(e,r,i,n){t.prototype.resetInitSegment.call(this,e,r,i,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:n,inputTimeScale:9e4,dropped:0}},e.probe=function(t){if(!t)return!1;for(var e=(st(t,0)||[]).length,r=t.length;e<r;e++)if(Ri(t,e))return w.log("MPEG Audio sync word found !"),!0;return!1},r.canParse=function(t,e){return function(t,e){return Si(t,e)&&4<=t.length-e}(t,e)},r.appendFrame=function(t,e,r){if(null!==this.basePTS)return Ti(t,e,r,this.basePTS,this.frameIndex)},e}(ei),Mi=function(){function t(){}return t.getSilentFrame=function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}(),Oi=Math.pow(2,32)-1,Ni=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:i};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,s,l,s,o),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,n))},t.box=function(t){for(var e=8,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];for(var a=i.length,s=a;a--;)e+=i[a].byteLength;var o=new Uint8Array(e);for(o[0]=e>>24&255,o[1]=e>>16&255,o[2]=e>>8&255,o[3]=255&e,o.set(t,4),a=0,e=8;a<s;a++)o.set(i[a],e),e+=i[a].byteLength;return o},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var i=Math.floor(r/(Oi+1)),n=Math.floor(r%(Oi+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,r))},t.moov=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,r){r*=e;var i=Math.floor(r/(Oi+1)),n=Math.floor(r%(Oi+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var r,i,n=e.samples||[],a=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)i=n[r].flags,a[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,i,n,a=[],s=[];for(r=0;r<e.sps.length;r++)n=(i=e.sps[r]).byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(i));for(r=0;r<e.pps.length;r++)n=(i=e.pps[r]).byteLength,s.push(n>>>8&255),s.push(255&n),s=s.concat(Array.prototype.slice.call(i));var o=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(s))),l=e.width,u=e.height,h=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,255&h,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,i=e.duration*e.timescale,n=e.width,a=e.height,s=Math.floor(i/(Oi+1)),o=Math.floor(i%(Oi+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,r){var i=t.sdtp(e),n=e.id,a=Math.floor(r/(Oi+1)),s=Math.floor(r%(Oi+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var i,n,a,s,o,l,u=e.samples||[],h=u.length,d=12+16*h,c=new Uint8Array(d);for(r+=8+d,c.set(["video"===e.type?1:0,0,15,1,h>>>24&255,h>>>16&255,h>>>8&255,255&h,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<h;i++)a=(n=u[i]).duration,s=n.size,o=n.flags,l=n.cts,c.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,c)},t.initSegment=function(e){t.types||t.init();var r=t.moov(e),i=new Uint8Array(t.FTYP.byteLength+r.byteLength);return i.set(t.FTYP),i.set(r,t.FTYP.byteLength),i},t}();function Ui(t,e,r,i){void 0===r&&(r=1),void 0===i&&(i=!1);var n=t*e*r;return i?Math.round(n):n}function Bi(t,e){return void 0===e&&(e=!1),Ui(t,1e3,1/9e4,e)}Ni.types=void 0,Ni.HDLR_TYPES=void 0,Ni.STTS=void 0,Ni.STSC=void 0,Ni.STCO=void 0,Ni.STSZ=void 0,Ni.VMHD=void 0,Ni.SMHD=void 0,Ni.STSD=void 0,Ni.FTYP=void 0,Ni.DINF=void 0;var Gi=null,Ki=null,Hi=function(){function t(t,e,r,i){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=r,this.ISGenerated=!1,null===Gi){var n=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Gi=n?parseInt(n[1]):0}if(null===Ki){var a=navigator.userAgent.match(/Safari\/(\d+)/i);Ki=a?parseInt(a[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){w.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t},e.resetNextTimestamp=function(){w.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},e.resetInitSegment=function(){w.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,r=t.reduce((function(t,r){var i=r.pts-t;return i<-4294967296?(e=!0,Vi(t,r.pts)):i>0?t:r.pts}),t[0].pts);return e&&w.debug("PTS rollover detected"),r},e.remux=function(t,e,r,i,n,a,s,o){var l,u,h,d,c,f,g=n,v=n,m=t.pid>-1,p=e.pid>-1,y=e.samples.length,T=t.samples.length>0,E=s&&y>0||y>1;if((!m||T)&&(!p||E)||this.ISGenerated||s){this.ISGenerated||(h=this.generateIS(t,e,n,a));var S,L=this.isVideoContiguous,R=-1;if(E&&(R=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!L&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,R>0){w.warn("[mp4-remuxer]: Dropped "+R+" out of "+y+" video samples due to a missing keyframe");var A=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(R),e.dropped+=R,S=v+=(e.samples[0].pts-A)/e.inputTimeScale}else-1===R&&(w.warn("[mp4-remuxer]: No keyframe found out of "+y+" video samples"),f=!1);if(this.ISGenerated){if(T&&E){var k=this.getVideoStartPts(e.samples),b=(Vi(t.samples[0].pts,k)-k)/e.inputTimeScale;g+=Math.max(0,b),v+=Math.max(0,-b)}if(T){if(t.samplerate||(w.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(t,e,n,a)),u=this.remuxAudio(t,g,this.isAudioContiguous,a,p||E||o===ve?v:void 0),E){var D=u?u.endPTS-u.startPTS:0;e.inputTimeScale||(w.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(t,e,n,a)),l=this.remuxVideo(e,v,L,D)}}else E&&(l=this.remuxVideo(e,v,L,0));l&&(l.firstKeyFrame=R,l.independent=-1!==R,l.firstKeyFramePTS=S)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(c=Yi(r,n,this._initPTS,this._initDTS)),i.samples.length&&(d=Wi(i,n,this._initPTS))),{audio:u,video:l,initSegment:h,independent:f,text:d,id3:c}},e.generateIS=function(t,e,r,i){var n,a,s,o=t.samples,l=e.samples,u=this.typeSupported,h={},d=this._initPTS,c=!d||i,f="audio/mp4";if(c&&(n=a=1/0),t.config&&o.length&&(t.timescale=t.samplerate,"mp3"===t.segmentCodec&&(u.mpeg?(f="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),h.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&u.mpeg?new Uint8Array(0):Ni.initSegment([t]),metadata:{channelCount:t.channelCount}},c&&(s=t.inputTimeScale,d&&s===d.timescale?c=!1:n=a=o[0].pts-Math.round(s*r))),e.sps&&e.pps&&l.length&&(e.timescale=e.inputTimeScale,h.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Ni.initSegment([e]),metadata:{width:e.width,height:e.height}},c))if(s=e.inputTimeScale,d&&s===d.timescale)c=!1;else{var g=this.getVideoStartPts(l),v=Math.round(s*r);a=Math.min(a,Vi(l[0].dts,g)-v),n=Math.min(n,g-v)}if(Object.keys(h).length)return this.ISGenerated=!0,c?(this._initPTS={baseTime:n,timescale:s},this._initDTS={baseTime:a,timescale:s}):n=s=void 0,{tracks:h,initPTS:n,timescale:s}},e.remuxVideo=function(t,e,r,i){var n,a,s=t.inputTimeScale,l=t.samples,u=[],h=l.length,d=this._initPTS,c=this.nextAvcDts,f=8,g=this.videoSampleDuration,v=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,p=!1;r&&null!==c||(c=e*s-(l[0].pts-Vi(l[0].dts,l[0].pts)));for(var y=d.baseTime*s/d.timescale,T=0;T<h;T++){var E=l[T];E.pts=Vi(E.pts-y,c),E.dts=Vi(E.dts-y,c),E.dts<l[T>0?T-1:T].dts&&(p=!0)}p&&l.sort((function(t,e){var r=t.dts-e.dts,i=t.pts-e.pts;return r||i})),n=l[0].dts;var A=(a=l[l.length-1].dts)-n,k=A?Math.round(A/(h-1)):g||t.inputTimeScale/30;if(r){var b=n-c,D=b>k,I=b<-1;if((D||I)&&(D?w.warn("AVC: "+Bi(b,!0)+" ms ("+b+"dts) hole between fragments detected, filling it"):w.warn("AVC: "+Bi(-b,!0)+" ms ("+b+"dts) overlapping between fragments detected"),!I||c>=l[0].pts)){n=c;var C=l[0].pts-b;l[0].dts=n,l[0].pts=C,w.log("Video: First PTS/DTS adjusted: "+Bi(C,!0)+"/"+Bi(n,!0)+", delta: "+Bi(b,!0)+" ms")}}n=Math.max(0,n);for(var _=0,P=0,x=0;x<h;x++){for(var F=l[x],M=F.units,O=M.length,N=0,U=0;U<O;U++)N+=M[U].data.length;P+=N,_+=O,F.length=N,F.dts=Math.max(F.dts,n),v=Math.min(F.pts,v),m=Math.max(F.pts,m)}a=l[h-1].dts;var B,G=P+4*_+8;try{B=new Uint8Array(G)}catch(t){return void this.observer.emit(S.ERROR,S.ERROR,{type:L.MUX_ERROR,details:R.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:G,reason:"fail allocating video mdat "+G})}var K=new DataView(B.buffer);K.setUint32(0,G),B.set(Ni.types.mdat,4);for(var H=!1,V=Number.POSITIVE_INFINITY,Y=Number.POSITIVE_INFINITY,W=Number.NEGATIVE_INFINITY,j=Number.NEGATIVE_INFINITY,q=0;q<h;q++){for(var X=l[q],z=X.units,Q=0,$=0,J=z.length;$<J;$++){var Z=z[$],tt=Z.data,et=Z.data.byteLength;K.setUint32(f,et),f+=4,B.set(tt,f),f+=et,Q+=4+et}var rt=void 0;if(q<h-1)g=l[q+1].dts-X.dts,rt=l[q+1].pts-X.pts;else{var it=this.config,nt=q>0?X.dts-l[q-1].dts:k;if(rt=q>0?X.pts-l[q-1].pts:k,it.stretchShortVideoTrack&&null!==this.nextAudioPts){var at=Math.floor(it.maxBufferHole*s),st=(i?v+i*s:this.nextAudioPts)-X.pts;st>at?((g=st-nt)<0?g=nt:H=!0,w.log("[mp4-remuxer]: It is approximately "+st/90+" ms to the next segment; using duration "+g/90+" ms for the last video frame.")):g=nt}else g=nt}var ot=Math.round(X.pts-X.dts);V=Math.min(V,g),W=Math.max(W,g),Y=Math.min(Y,rt),j=Math.max(j,rt),u.push(new qi(X.key,g,Q,ot))}if(u.length)if(Gi){if(Gi<70){var lt=u[0].flags;lt.dependsOn=2,lt.isNonSync=0}}else if(Ki&&j-Y<W-V&&k/W<.025&&0===u[0].cts){w.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var ut=n,ht=0,dt=u.length;ht<dt;ht++){var ct=ut+u[ht].duration,ft=ut+u[ht].cts;if(ht<dt-1){var gt=ct+u[ht+1].cts;u[ht].duration=gt-ft}else u[ht].duration=ht?u[ht-1].duration:k;u[ht].cts=0,ut=ct}}g=H||!g?k:g,this.nextAvcDts=c=a+g,this.videoSampleDuration=g,this.isVideoContiguous=!0;var vt={data1:Ni.moof(t.sequenceNumber++,n,o({},t,{samples:u})),data2:B,startPTS:v/s,endPTS:(m+g)/s,startDTS:n/s,endDTS:c/s,type:"video",hasAudio:!1,hasVideo:!0,nb:u.length,dropped:t.dropped};return t.samples=[],t.dropped=0,vt},e.remuxAudio=function(t,e,r,i,n){var a=t.inputTimeScale,s=a/(t.samplerate?t.samplerate:a),l="aac"===t.segmentCodec?1024:1152,u=l*s,h=this._initPTS,d="mp3"===t.segmentCodec&&this.typeSupported.mpeg,c=[],f=void 0!==n,g=t.samples,v=d?0:8,m=this.nextAudioPts||-1,p=e*a,y=h.baseTime*a/h.timescale;if(this.isAudioContiguous=r=r||g.length&&m>0&&(i&&Math.abs(p-m)<9e3||Math.abs(Vi(g[0].pts-y,p)-m)<20*u),g.forEach((function(t){t.pts=Vi(t.pts-y,p)})),!r||m<0){if(g=g.filter((function(t){return t.pts>=0})),!g.length)return;m=0===n?0:i&&!f?Math.max(0,p):g[0].pts}if("aac"===t.segmentCodec)for(var T=this.config.maxAudioFramesDrift,E=0,A=m;E<g.length;E++){var k=g[E],b=k.pts,D=b-A,I=Math.abs(1e3*D/a);if(D<=-T*u&&f)0===E&&(w.warn("Audio frame @ "+(b/a).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*D/a)+" ms."),this.nextAudioPts=m=A=b);else if(D>=T*u&&I<1e4&&f){var C=Math.round(D/u);(A=b-C*u)<0&&(C--,A+=u),0===E&&(this.nextAudioPts=m=A),w.warn("[mp4-remuxer]: Injecting "+C+" audio frame @ "+(A/a).toFixed(3)+"s due to "+Math.round(1e3*D/a)+" ms gap.");for(var _=0;_<C;_++){var P=Math.max(A,0),x=Mi.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);x||(w.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),x=k.unit.subarray()),g.splice(E,0,{unit:x,pts:P}),A+=u,E++}}k.pts=A,A+=u}for(var F,M=null,O=null,N=0,U=g.length;U--;)N+=g[U].unit.byteLength;for(var B=0,G=g.length;B<G;B++){var K=g[B],H=K.unit,V=K.pts;if(null!==O)c[B-1].duration=Math.round((V-O)/s);else{if(r&&"aac"===t.segmentCodec&&(V=m),M=V,!(N>0))return;N+=v;try{F=new Uint8Array(N)}catch(t){return void this.observer.emit(S.ERROR,S.ERROR,{type:L.MUX_ERROR,details:R.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:N,reason:"fail allocating audio mdat "+N})}d||(new DataView(F.buffer).setUint32(0,N),F.set(Ni.types.mdat,4))}F.set(H,v);var Y=H.byteLength;v+=Y,c.push(new qi(!0,l,Y,0)),O=V}var W=c.length;if(W){var j=c[c.length-1];this.nextAudioPts=m=O+s*j.duration;var q=d?new Uint8Array(0):Ni.moof(t.sequenceNumber++,M/s,o({},t,{samples:c}));t.samples=[];var X=M/a,z=m/a,Q={data1:q,data2:F,startPTS:X,endPTS:z,startDTS:X,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.isAudioContiguous=!0,Q}},e.remuxEmptyAudio=function(t,e,r,i){var n=t.inputTimeScale,a=n/(t.samplerate?t.samplerate:n),s=this.nextAudioPts,o=this._initDTS,l=9e4*o.baseTime/o.timescale,u=(null!==s?s:i.startDTS*n)+l,h=i.endDTS*n+l,d=1024*a,c=Math.ceil((h-u)/d),f=Mi.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(w.warn("[mp4-remuxer]: remux empty Audio"),f){for(var g=[],v=0;v<c;v++){var m=u+v*d;g.push({unit:f,pts:m,dts:m})}return t.samples=g,this.remuxAudio(t,e,r,!1)}w.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t}();function Vi(t,e){var r;if(null===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function Yi(t,e,r,i){var n=t.samples.length;if(n){for(var a=t.inputTimeScale,s=0;s<n;s++){var o=t.samples[s];o.pts=Vi(o.pts-r.baseTime*a/r.timescale,e*a)/a,o.dts=Vi(o.dts-i.baseTime*a/i.timescale,e*a)/a}var l=t.samples;return t.samples=[],{samples:l}}}function Wi(t,e,r){var i=t.samples.length;if(i){for(var n=t.inputTimeScale,a=0;a<i;a++){var s=t.samples[a];s.pts=Vi(s.pts-r.baseTime*n/r.timescale,e*n)/n}t.samples.sort((function(t,e){return t.pts-e.pts}));var o=t.samples;return t.samples=[],{samples:o}}}var ji,qi=function(t,e,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=r,this.cts=i,this.flags=new Xi(t)},Xi=function(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1},zi=function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this.initPTS=t,this.lastEndTime=null},e.resetNextTimestamp=function(){this.lastEndTime=null},e.resetInitSegment=function(t,e,r,i){this.audioCodec=e,this.videoCodec=r,this.generateInitSegment(function(t,e){if(!t||!e)return t;var r=e.keyId;return r&&e.isCommonEncryption&&It(t,["moov","trak"]).forEach((function(t){var e=It(t,["mdia","minf","stbl","stsd"])[0].subarray(8),i=It(e,["enca"]),n=i.length>0;n||(i=It(e,["encv"])),i.forEach((function(t){It(n?t.subarray(28):t.subarray(78),["sinf"]).forEach((function(t){var e=_t(t);if(e){var i=e.subarray(8,24);i.some((function(t){return 0!==t}))||(w.log("[eme] Patching keyId in 'enc"+(n?"a":"v")+">sinf>>tenc' box: "+Tt(i)+" -> "+Tt(r)),e.set(r,8))}}))}))})),t}(t,i)),this.emitInitSegment=!0},e.generateInitSegment=function(t){var e=this.audioCodec,r=this.videoCodec;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var i=this.initData=Ct(t);e||(e=Qi(i.audio,O)),r||(r=Qi(i.video,N));var n={};i.audio&&i.video?n.audiovideo={container:"video/mp4",codec:e+","+r,initSegment:t,id:"main"}:i.audio?n.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:i.video?n.video={container:"video/mp4",codec:r,initSegment:t,id:"main"}:w.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=n},e.remux=function(t,e,r,i,n,a){var s,o,l=this.initPTS,u=this.lastEndTime,h={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};E(u)||(u=this.lastEndTime=n||0);var d=e.samples;if(null==d||!d.length)return h;var c={initPTS:void 0,timescale:1},f=this.initData;if(null!=(s=f)&&s.length||(this.generateInitSegment(d),f=this.initData),null==(o=f)||!o.length)return w.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(c.tracks=this.initTracks,this.emitInitSegment=!1);var g=function(t,e){for(var r=0,i=0,n=0,a=It(t,["moof","traf"]),s=0;s<a.length;s++){var o=a[s],l=It(o,["tfhd"])[0],u=e[kt(l,4)];if(u){var h=u.default,d=kt(l,0)|(null==h?void 0:h.flags),c=null==h?void 0:h.duration;8&d&&(c=kt(l,2&d?12:8));for(var f=u.timescale||9e4,g=It(o,["trun"]),v=0;v<g.length;v++)!(r=Pt(g[v]))&&c&&(r=c*kt(g[v],4)),u.type===N?i+=r/f:u.type===O&&(n+=r/f)}}if(0===i&&0===n){for(var m=0,p=It(t,["sidx"]),y=0;y<p.length;y++){var T=wt(p[y]);null!=T&&T.references&&(m+=T.references.reduce((function(t,e){return t+e.info.duration||0}),0))}return m}return i||n}(d,f),v=function(t,e){return It(e,["moof","traf"]).reduce((function(e,r){var i=It(r,["tfdt"])[0],n=i[0],a=It(r,["tfhd"]).reduce((function(e,r){var a=kt(r,4),s=t[a];if(s){var o=kt(i,4);if(1===n){if(o===Et)return w.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;o*=Et+1,o+=kt(i,8)}var l=o/(s.timescale||9e4);if(isFinite(l)&&(null===e||l<e))return l}return e}),null);return null!==a&&isFinite(a)&&(null===e||a<e)?a:e}),null)}(f,d),m=null===v?n:v;(function(t,e,r,i){if(null===t)return!0;var n=Math.max(i,1),a=e-t.baseTime/t.timescale;return Math.abs(a-r)>n}(l,m,n,g)||c.timescale!==l.timescale&&a)&&(c.initPTS=m-n,l&&1===l.timescale&&w.warn("Adjusting initPTS by "+(c.initPTS-l.baseTime)),this.initPTS=l={baseTime:c.initPTS,timescale:1});var p=t?m-l.baseTime/l.timescale:u,y=p+g;!function(t,e,r){It(e,["moof","traf"]).forEach((function(e){It(e,["tfhd"]).forEach((function(i){var n=kt(i,4),a=t[n];if(a){var s=a.timescale||9e4;It(e,["tfdt"]).forEach((function(t){var e=t[0],i=kt(t,4);if(0===e)i-=r*s,Dt(t,4,i=Math.max(i,0));else{i*=Math.pow(2,32),i+=kt(t,8),i-=r*s,i=Math.max(i,0);var n=Math.floor(i/(Et+1)),a=Math.floor(i%(Et+1));Dt(t,4,n),Dt(t,8,a)}}))}}))}))}(f,d,l.baseTime/l.timescale),g>0?this.lastEndTime=y:(w.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var T=!!f.audio,S=!!f.video,L="";T&&(L+="audio"),S&&(L+="video");var R={data1:d,startPTS:p,startDTS:p,endPTS:y,endDTS:y,type:L,hasAudio:T,hasVideo:S,nb:1,dropped:0};return h.audio="audio"===R.type?R:void 0,h.video="audio"!==R.type?R:void 0,h.initSegment=c,h.id3=Yi(r,n,l,l),i.samples.length&&(h.text=Wi(i,n,l)),h},t}();function Qi(t,e){var r=null==t?void 0:t.codec;return r&&r.length>4?r:"hvc1"===r||"hev1"===r?"hvc1.1.6.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||e===N?"avc1.42e01e":"mp4a.40.5"}try{ji=self.performance.now.bind(self.performance)}catch(t){w.debug("Unable to use Performance API on this environment"),ji="undefined"!=typeof self&&self.Date.now}var $i=[{demux:fi,remux:zi},{demux:Di,remux:Hi},{demux:di,remux:Hi},{demux:Fi,remux:Hi}],Ji=function(){function t(t,e,r,i,n){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=r,this.vendor=i,this.id=n}var e=t.prototype;return e.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},e.push=function(t,e,r,i){var n=this,a=r.transmuxing;a.executeStart=ji();var s=new Uint8Array(t),o=this.currentTransmuxState,l=this.transmuxConfig;i&&(this.currentTransmuxState=i);var u=i||o,h=u.contiguous,d=u.discontinuity,c=u.trackSwitch,f=u.accurateTimeOffset,g=u.timeOffset,v=u.initSegmentChange,m=l.audioCodec,p=l.videoCodec,y=l.defaultInitPts,T=l.duration,E=l.initSegmentData,A=function(t,e){var r=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(r=e),r}(s,e);if(A&&"AES-128"===A.method){var k=this.getDecrypter();if(!k.isSync())return this.decryptionPromise=k.webCryptoDecrypt(s,A.key.buffer,A.iv.buffer).then((function(t){var e=n.push(t,null,r);return n.decryptionPromise=null,e})),this.decryptionPromise;var b=k.softwareDecrypt(s,A.key.buffer,A.iv.buffer);if(r.part>-1&&(b=k.flush()),!b)return a.executeEnd=ji(),Zi(r);s=new Uint8Array(b)}var D=this.needsProbing(d,c);if(D){var I=this.configureTransmuxer(s);if(I)return w.warn("[transmuxer] "+I.message),this.observer.emit(S.ERROR,S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message}),a.executeEnd=ji(),Zi(r)}(d||c||v||D)&&this.resetInitSegment(E,m,p,T,e),(d||v||D)&&this.resetInitialTimestamp(y),h||this.resetContiguity();var C=this.transmux(s,A,g,f,r),_=this.currentTransmuxState;return _.contiguous=!0,_.discontinuity=!1,_.trackSwitch=!1,a.executeEnd=ji(),C},e.flush=function(t){var e=this,r=t.transmuxing;r.executeStart=ji();var i=this.decrypter,n=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then((function(){return e.flush(t)}));var s=[],o=n.timeOffset;if(i){var l=i.flush();l&&s.push(this.push(l,null,t))}var u=this.demuxer,h=this.remuxer;if(!u||!h)return r.executeEnd=ji(),[Zi(t)];var d=u.flush(o);return tn(d)?d.then((function(r){return e.flushRemux(s,r,t),s})):(this.flushRemux(s,d,t),s)},e.flushRemux=function(t,e,r){var i=e.audioTrack,n=e.videoTrack,a=e.id3Track,s=e.textTrack,o=this.currentTransmuxState,l=o.accurateTimeOffset,u=o.timeOffset;w.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var h=this.remuxer.remux(i,n,a,s,u,l,!0,this.id);t.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=ji()},e.resetInitialTimestamp=function(t){var e=this.demuxer,r=this.remuxer;e&&r&&(e.resetTimeStamp(t),r.resetTimeStamp(t))},e.resetContiguity=function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())},e.resetInitSegment=function(t,e,r,i,n){var a=this.demuxer,s=this.remuxer;a&&s&&(a.resetInitSegment(t,e,r,i),s.resetInitSegment(t,e,r,n))},e.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},e.transmux=function(t,e,r,i,n){return e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,r,i,n):this.transmuxUnencrypted(t,r,i,n)},e.transmuxUnencrypted=function(t,e,r,i){var n=this.demuxer.demux(t,e,!1,!this.config.progressive),a=n.audioTrack,s=n.videoTrack,o=n.id3Track,l=n.textTrack;return{remuxResult:this.remuxer.remux(a,s,o,l,e,r,!1,this.id),chunkMeta:i}},e.transmuxSampleAes=function(t,e,r,i,n){var a=this;return this.demuxer.demuxSampleAes(t,e,r).then((function(t){return{remuxResult:a.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,r,i,!1,a.id),chunkMeta:n}}))},e.configureTransmuxer=function(t){for(var e,r=this.config,i=this.observer,n=this.typeSupported,a=this.vendor,s=0,o=$i.length;s<o;s++)if($i[s].demux.probe(t)){e=$i[s];break}if(!e)return new Error("Failed to find demuxer by probing fragment data");var l=this.demuxer,u=this.remuxer,h=e.remux,d=e.demux;u&&u instanceof h||(this.remuxer=new h(i,r,n,a)),l&&l instanceof d||(this.demuxer=new d(i,r,n),this.probe=d.probe)},e.needsProbing=function(t,e){return!this.demuxer||!this.remuxer||t||e},e.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new Ur(this.config)),t},t}(),Zi=function(t){return{remuxResult:{},chunkMeta:t}};function tn(t){return"then"in t&&t.then instanceof Function}var en=function(t,e,r,i,n){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=r,this.duration=i,this.defaultInitPts=n||null},rn=function(t,e,r,i,n,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=n,this.initSegmentChange=a},nn={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,i,a,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new n(i,a||t,s),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),o.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,a=i.length,s=new Array(a);n<a;n++)s[n]=i[n].fn;return s},o.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},o.prototype.emit=function(t,e,i,n,a,s){var o=r?r+t:t;if(!this._events[o])return!1;var l,u,h=this._events[o],d=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),d){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,n),!0;case 5:return h.fn.call(h.context,e,i,n,a),!0;case 6:return h.fn.call(h.context,e,i,n,a,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var c,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),d){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,i);break;case 4:h[u].fn.call(h[u].context,e,i,n);break;default:if(!l)for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];h[u].fn.apply(h[u].context,l)}}return!0},o.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},o.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},o.prototype.removeListener=function(t,e,i,n){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||s(this,a);else{for(var l=0,u=[],h=o.length;l<h;l++)(o[l].fn!==e||n&&!o[l].once||i&&o[l].context!==i)&&u.push(o[l]);u.length?this._events[a]=1===u.length?u[0]:u:s(this,a)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}(nn);var an=p(nn.exports);function sn(t,e){if(!((r=e.remuxResult).audio||r.video||r.text||r.id3||r.initSegment))return!1;var r,i=[],n=e.remuxResult,a=n.audio,s=n.video;return a&&on(i,a),s&&on(i,s),t.postMessage({event:"transmuxComplete",data:e},i),!0}function on(t,e){e.data1&&t.push(e.data1.buffer),e.data2&&t.push(e.data2.buffer)}function ln(t,e,r){e.reduce((function(e,r){return sn(t,r)||e}),!1)||t.postMessage({event:"transmuxComplete",data:e[0]}),t.postMessage({event:"flush",data:r})}void 0!==e&&e&&function(t){var e=new an,r=function(e,r){t.postMessage({event:e,data:r})};e.on(S.FRAG_DECRYPTED,r),e.on(S.ERROR,r);var i=function(){var t=function(t){var e=function(e){r("workerLog",{logType:t,message:e})};w[t]=e};for(var e in w)t(e)};t.addEventListener("message",(function(n){var a=n.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.transmuxer=new Ji(e,a.typeSupported,s,a.vendor,a.id),I(s.debug,a.id),i(),r("init",null);break;case"configure":t.transmuxer.configure(a.config);break;case"demux":var o=t.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);tn(o)?(t.transmuxer.async=!0,o.then((function(e){sn(t,e)})).catch((function(t){r(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,chunkMeta:a.chunkMeta,fatal:!1,error:t,err:t,reason:"transmuxer-worker push error"})}))):(t.transmuxer.async=!1,sn(t,o));break;case"flush":var l=a.chunkMeta,u=t.transmuxer.flush(l);tn(u)||t.transmuxer.async?(tn(u)||(u=Promise.resolve(u)),u.then((function(e){ln(t,e,l)})).catch((function(t){r(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,chunkMeta:a.chunkMeta,fatal:!1,error:t,err:t,reason:"transmuxer-worker flush error"})}))):ln(t,u,l)}}))}(self);var un=qt()||{isTypeSupported:function(){return!1}},hn=function(){function e(e,r,i,n){var a=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=i,this.onFlush=n;var o=function(t,e){(e=e||{}).frag=a.frag,e.id=a.id,t===S.ERROR&&(a.error=e.error),a.hls.trigger(t,e)};this.observer=new an,this.observer.on(S.FRAG_DECRYPTED,o),this.observer.on(S.ERROR,o);var l,u,h,d,c={mp4:un.isTypeSupported("video/mp4"),mpeg:un.isTypeSupported("audio/mpeg"),mp3:un.isTypeSupported('audio/mp4; codecs="mp3"')},f=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||(s.workerPath,0))this.transmuxer=new Ji(this.observer,c,s,f,r);else try{s.workerPath?(w.log("loading Web Worker "+s.workerPath+' for "'+r+'"'),this.workerContext=(h=s.workerPath,d=new self.URL(h,self.location.href).href,{worker:new self.Worker(d),scriptURL:d})):(w.log('injecting Web Worker for "'+r+'"'),this.workerContext=(l=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+t.toString()+")(true);"],{type:"text/javascript"}),u=self.URL.createObjectURL(l),{worker:new self.Worker(u),objectURL:u})),this.onwmsg=function(t){return a.onWorkerMessage(t)};var g=this.workerContext.worker;g.addEventListener("message",this.onwmsg),g.onerror=function(t){var e=new Error(t.message+"  ("+t.filename+":"+t.lineno+")");s.enableWorker=!1,w.warn('Error in "'+r+'" Web Worker, fallback to inline'),a.hls.trigger(S.ERROR,{type:L.OTHER_ERROR,details:R.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:e})},g.postMessage({cmd:"init",typeSupported:c,vendor:f,id:r,config:JSON.stringify(s)})}catch(t){w.warn('Error setting up "'+r+'" Web Worker, fallback to inline',t),this.resetWorker(),this.error=null,this.transmuxer=new Ji(this.observer,c,s,f,r)}}var r=e.prototype;return r.resetWorker=function(){if(this.workerContext){var t=this.workerContext,e=t.worker,r=t.objectURL;r&&self.URL.revokeObjectURL(r),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}},r.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},r.push=function(t,e,r,i,n,a,s,o,l,u){var h,d,c=this;l.transmuxing.start=self.performance.now();var f=this.transmuxer,g=a?a.start:n.start,v=n.decryptdata,m=this.frag,p=!(m&&n.cc===m.cc),y=!(m&&l.level===m.level),T=m?l.sn-m.sn:-1,E=this.part?l.part-this.part.index:-1,S=0===T&&l.id>1&&l.id===(null==m?void 0:m.stats.chunkCount),L=!y&&(1===T||0===T&&(1===E||S&&E<=0)),R=self.performance.now();(y||T||0===n.stats.parsing.start)&&(n.stats.parsing.start=R),!a||!E&&L||(a.stats.parsing.start=R);var A=!(m&&(null==(h=n.initSegment)?void 0:h.url)===(null==(d=m.initSegment)?void 0:d.url)),k=new rn(p,L,o,y,g,A);if(!L||p||A){w.log("[transmuxer-interface, "+n.type+"]: Starting new transmux session for sn: "+l.sn+" p: "+l.part+" level: "+l.level+" id: "+l.id+"\n        discontinuity: "+p+"\n        trackSwitch: "+y+"\n        contiguous: "+L+"\n        accurateTimeOffset: "+o+"\n        timeOffset: "+g+"\n        initSegmentChange: "+A);var b=new en(r,i,e,s,u);this.configureTransmuxer(b)}if(this.frag=n,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:v,chunkMeta:l,state:k},t instanceof ArrayBuffer?[t]:[]);else if(f){var D=f.push(t,v,l,k);tn(D)?(f.async=!0,D.then((function(t){c.handleTransmuxComplete(t)})).catch((function(t){c.transmuxerError(t,l,"transmuxer-interface push error")}))):(f.async=!1,this.handleTransmuxComplete(D))}},r.flush=function(t){var e=this;t.transmuxing.start=self.performance.now();var r=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(r){var i=r.flush(t);tn(i)||r.async?(tn(i)||(i=Promise.resolve(i)),i.then((function(r){e.handleFlushResult(r,t)})).catch((function(r){e.transmuxerError(r,t,"transmuxer-interface flush error")}))):this.handleFlushResult(i,t)}},r.transmuxerError=function(t,e,r){this.hls&&(this.error=t,this.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:r}))},r.handleFlushResult=function(t,e){var r=this;t.forEach((function(t){r.handleTransmuxComplete(t)})),this.onFlush(e)},r.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":var i,n=null==(i=this.workerContext)?void 0:i.objectURL;n&&self.URL.revokeObjectURL(n);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":w[e.data.logType]&&w[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},r.configureTransmuxer=function(t){var e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)},r.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},e}(),dn=function(){function t(t,e,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=r,this.hls=i}var e=t.prototype;return e.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},e.poll=function(t,e){var r=this.config,i=this.media,n=this.stalled;if(null!==i){var a=i.currentTime,s=i.seeking,o=this.seeking&&!s,l=!this.seeking&&s;if(this.seeking=s,a===t){if(l||o)this.stalled=null;else if(!(i.paused&&!s||i.ended||0===i.playbackRate)&&Ir.getBuffered(i).length){var u=Ir.bufferInfo(i,a,0),h=u.len>0,d=u.nextStart||0;if(h||d){if(s){var c=u.len>2,f=!d||e&&e.start<=a||d-a>2&&!this.fragmentTracker.getPartialFragment(a);if(c||f)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var g,v=Math.max(d,u.start||0)-a,m=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,p=(null==m||null==(g=m.details)?void 0:g.live)?2*m.details.targetduration:2,y=this.fragmentTracker.getPartialFragment(a);if(v>0&&(v<=p||y))return void this._trySkipBufferHole(y)}var T=self.performance.now();if(null!==n){var E=T-n;if(s||!(E>=250)||(this._reportStall(u),this.media)){var S=Ir.bufferInfo(i,a,r.maxBufferHole);this._tryFixBufferStall(S,E)}}else this.stalled=T}}}else if(this.moved=!0,null!==n){if(this.stallReported){var L=self.performance.now()-n;w.warn("playback not stuck anymore @"+a+", after "+Math.round(L)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},e._tryFixBufferStall=function(t,e){var r=this.config,i=this.fragmentTracker,n=this.media;if(null!==n){var a=n.currentTime,s=i.getPartialFragment(a);if(s&&(this._trySkipBufferHole(s)||!this.media))return;(t.len>r.maxBufferHole||t.nextStart&&t.nextStart-a<r.maxBufferHole)&&e>1e3*r.highBufferWatchdogPeriod&&(w.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},e._reportStall=function(t){var e=this.hls,r=this.media;if(!this.stallReported&&r){this.stallReported=!0;var i=new Error("Playback stalling at @"+r.currentTime+" due to low buffer ("+JSON.stringify(t)+")");w.warn(i.message),e.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:t.len})}},e._trySkipBufferHole=function(t){var e=this.config,r=this.hls,i=this.media;if(null===i)return 0;var n=i.currentTime,a=Ir.bufferInfo(i,n,0),s=n<a.start?a.start:a.nextStart;if(s){var o=a.len<=e.maxBufferHole,l=a.len>0&&a.len<1&&i.readyState<3,u=s-n;if(u>0&&(o||l)){if(u>e.maxBufferHole){var h=this.fragmentTracker,d=!1;if(0===n){var c=h.getAppendedFrag(0,ge);c&&s<c.end&&(d=!0)}if(!d){var f=t||h.getAppendedFrag(n,ge);if(f){for(var g=!1,v=f.end;v<s;){var m=h.getPartialFragment(v);if(!m){g=!0;break}v+=m.duration}if(g)return 0}}}var p=Math.max(s+.05,n+.1);if(w.warn("skipping hole, adjusting currentTime from "+n+" to "+p),this.moved=!0,this.stalled=null,i.currentTime=p,t&&!t.gap){var y=new Error("fragment loaded with buffer holes, seeking from "+n+" to "+p);r.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:t})}return p}}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,i=this.nudgeRetry;if(null!==r){var n=r.currentTime;if(this.nudgeRetry++,i<t.nudgeMaxRetry){var a=n+(i+1)*t.nudgeOffset,s=new Error("Nudging 'currentTime' from "+n+" to "+a);w.warn(s.message),r.currentTime=a,e.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_NUDGE_ON_STALL,error:s,fatal:!1})}else{var o=new Error("Playhead still not moving while enough data buffered @"+n+" after "+t.nudgeMaxRetry+" nudges");w.error(o.message),e.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}},t}(),cn=function(t){function e(e,r,i){var n;return(n=t.call(this,e,r,i,"[stream-controller]",ge)||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.couldBacktrack=!1,n.backtrackFragment=null,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}l(e,t);var r=e.prototype;return r._registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_PARSED,this.onManifestParsed,this),t.on(S.LEVEL_LOADING,this.onLevelLoading,this),t.on(S.LEVEL_LOADED,this.onLevelLoaded,this),t.on(S.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(S.ERROR,this.onError,this),t.on(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(S.BUFFER_CREATED,this.onBufferCreated,this),t.on(S.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(S.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(S.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_PARSED,this.onManifestParsed,this),t.off(S.LEVEL_LOADED,this.onLevelLoaded,this),t.off(S.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(S.ERROR,this.onError,this),t.off(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(S.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(S.BUFFER_CREATED,this.onBufferCreated,this),t.off(S.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(S.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(S.FRAG_BUFFERED,this.onFragBuffered,this)},r.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},r.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var i=r.startLevel;-1===i&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.nextAutoLevel),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Kr,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=Gr},r.stopLoad=function(){this._forceStartLoad=!1,t.prototype.stopLoad.call(this)},r.doTick=function(){switch(this.state){case $r:var t,e=this.levels,r=this.level,i=null==e||null==(t=e[r])?void 0:t.details;if(i&&(!i.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(i))break;this.state=Kr;break}if(this.hls.nextLoadLevel!==this.level){this.state=Kr;break}break;case Yr:var n,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!=(n=this.media)&&n.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Kr)}this.state===Kr&&this.doTickIdle(),this.onTickEnd()},r.onTickEnd=function(){t.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},r.doTickIdle=function(){var t=this.hls,e=this.levelLastLoaded,r=this.levels,i=this.media,n=t.config,a=t.nextLoadLevel;if(null!==e&&(i||!this.startFragRequested&&n.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=r&&r[a]){var s=r[a],o=this.getMainFwdBufferInfo();if(null!==o){var l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){var u={};return this.altAudio&&(u.type="video"),this.hls.trigger(S.BUFFER_EOS,u),void(this.state=Xr)}t.loadLevel!==a&&-1===t.manualLevel&&this.log("Adapting to level "+a+" from level "+this.level),this.level=t.nextLoadLevel=a;var h=s.details;if(!h||this.state===$r||h.live&&this.levelLastLoaded!==a)return this.level=a,void(this.state=$r);var d=o.len,c=this.getMaxBufferLength(s.maxBitrate);if(!(d>=c)){this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);var f=this.backtrackFragment?this.backtrackFragment.start:o.end,g=this.getNextFragment(f,h);if(this.couldBacktrack&&!this.fragPrevious&&g&&"initSegment"!==g.sn&&this.fragmentTracker.getState(g)!==mr){var v,m=(null!=(v=this.backtrackFragment)?v:g).sn-h.startSN,p=h.fragments[m-1];p&&g.cc===p.cc&&(g=p,this.fragmentTracker.removeFragment(p))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(g&&this.isLoopLoading(g,f)){if(!g.gap){var y=this.audioOnly&&!this.altAudio?O:N,T=(y===N?this.videoBuffer:this.mediaBuffer)||this.media;T&&this.afterBufferFlushed(T,y,ge)}g=this.getNextFragmentLoopLoading(g,h,o,ge,c)}g&&(!g.initSegment||g.initSegment.data||this.bitrateTest||(g=g.initSegment),this.loadFragment(g,s,f))}}}},r.loadFragment=function(e,r,i){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,n===fr||n===vr?"initSegment"===e.sn?this._loadInitSegment(e,r):this.bitrateTest?(this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e,r)):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i)):this.clearTrackerIfNeeded(e)},r.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,ge)},r.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},r.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},r.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var r,i=this.getAppendedFrag(e.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);var n=this.getLevelDetails();if(null!=n&&n.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*n.targetduration)return}if(!e.paused&&t){var s=t[this.hls.nextLoadLevel],o=this.fragLastKbps;r=o&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*o)+1:0}else r=0;var l=this.getBufferedFrag(e.currentTime+r);if(l){var u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();var h=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,c=Math.max(l.end,h+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,.5*d),.75*d));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},r.abortCurrentFrag=function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case Hr:case Vr:case Yr:case jr:case qr:this.state=Kr}this.nextLoadPosition=this.getLoadPosition()},r.flushMainBuffer=function(e,r){t.prototype.flushMainBuffer.call(this,e,r,this.altAudio?"video":null)},r.onMediaAttached=function(e,r){t.prototype.onMediaAttached.call(this,e,r);var i=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new dn(this.config,i,this.fragmentTracker,this.hls)},r.onMediaDetaching=function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),t.prototype.onMediaDetaching.call(this)},r.onMediaPlaying=function(){this.tick()},r.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:null;E(e)&&this.log("Media seeked to "+e.toFixed(3));var r=this.getMainFwdBufferInfo();null!==r&&0!==r.len?this.tick():this.warn('Main forward buffer length on "seeked" event '+(r?r.len:"empty")+")")},r.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(S.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1},r.onManifestParsed=function(t,e){var r,i,n,a=!1,s=!1;e.levels.forEach((function(t){(r=t.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(a=!0),-1!==r.indexOf("mp4a.40.5")&&(s=!0))})),this.audioCodecSwitch=a&&s&&!("function"==typeof(null==(n=Zr())||null==(i=n.prototype)?void 0:i.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1},r.onLevelLoading=function(t,e){var r=this.levels;if(r&&this.state===Kr){var i=r[e.level];(!i.details||i.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(i.details))&&(this.state=$r)}},r.onLevelLoaded=function(t,e){var r,i=this.levels,n=e.level,a=e.details,s=a.totalduration;if(i){this.log("Level "+n+" loaded ["+a.startSN+","+a.endSN+"]"+(a.lastPartSn?"[part-"+a.lastPartSn+"-"+a.lastPartIndex+"]":"")+", cc ["+a.startCC+", "+a.endCC+"] duration:"+s);var o=i[n],l=this.fragCurrent;!l||this.state!==Vr&&this.state!==Yr||l.level===e.level&&l.urlId===o.urlId||!l.loader||this.abortCurrentFrag();var u=0;if(a.live||null!=(r=o.details)&&r.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,o.details)}if(o.details=a,this.levelLastLoaded=n,this.hls.trigger(S.LEVEL_UPDATED,{details:a,level:n}),this.state===$r){if(this.waitForCdnTuneIn(a))return;this.state=Kr}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level "+n)},r._handleFragmentLoadProgress=function(t){var e,r=t.frag,i=t.part,n=t.payload,a=this.levels;if(a){var s=a[r.level],o=s.details;if(!o)return this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset"),void this.fragmentTracker.removeFragment(r);var l=s.videoCodec,u=o.PTSKnown||!o.live,h=null==(e=r.initSegment)?void 0:e.data,d=this._getAudioCodec(s),c=this.transmuxer=this.transmuxer||new hn(this.hls,ge,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=i?i.index:-1,g=-1!==f,v=new wr(r.level,r.sn,r.stats.chunkCount,n.byteLength,f,g),m=this.initPTS[r.cc];c.push(n,h,d,l,r,i,o.totalduration,u,v,m)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r.onAudioTrackSwitching=function(t,e){var r=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i&&(this.log("Switching to main audio track, cancel main fragment load"),i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var n=this.hls;r&&(n.trigger(S.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),n.trigger(S.AUDIO_TRACK_SWITCHED,e)}},r.onAudioTrackSwitched=function(t,e){var r=e.id,i=!!this.hls.audioTracks[r].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},r.onBufferCreated=function(t,e){var r,i,n=e.tracks,a=!1;for(var s in n){var o=n[s];if("main"===o.id){if(i=s,r=o,"video"===s){var l=n[s];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},r.onFragBuffered=function(t,e){var r=e.frag,i=e.part;if(!r||r.type===ge){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(i?" p: "+i.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===qr&&(this.state=Kr));var n=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*n.total/(n.buffering.end-n.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}},r.onError=function(t,e){var r;if(e.fatal)this.state=zr;else switch(e.details){case R.FRAG_GAP:case R.FRAG_PARSING_ERROR:case R.FRAG_DECRYPT_ERROR:case R.FRAG_LOAD_ERROR:case R.FRAG_LOAD_TIMEOUT:case R.KEY_LOAD_ERROR:case R.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ge,e);break;case R.LEVEL_LOAD_ERROR:case R.LEVEL_LOAD_TIMEOUT:case R.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==$r||(null==(r=e.context)?void 0:r.type)!==de||(this.state=Kr);break;case R.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case R.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}},r.checkBuffer=function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){if(this.loadedmetadata||!Ir.getBuffered(t).length){var r=this.state!==Kr?this.fragCurrent:null;e.poll(this.lastCurrentTime,r)}this.lastCurrentTime=t.currentTime}},r.onFragLoadEmergencyAborted=function(){this.state=Kr,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},r.onBufferFlushed=function(t,e){var r=e.type;if(r!==O||this.audioOnly&&!this.altAudio){var i=(r===N?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(i,r,ge)}},r.onLevelsUpdated=function(t,e){this.levels=e.levels},r.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.seekToStartPos=function(){var t=this.media;if(t){var e=t.currentTime,r=this.startPosition;if(r>=0&&e<r){if(t.seeking)return void this.log("could not seek to "+r+", already seeking at "+e);var i=Ir.getBuffered(t),n=(i.length?i.start(0):0)-r;n>0&&(n<this.config.maxBufferHole||n<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+n+" to match buffer start"),r+=n,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+e),t.currentTime=r}}},r._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},r._loadBitrateTestFrag=function(t,e){var r=this;t.bitrateTest=!0,this._doFragLoad(t,e).then((function(i){var n=r.hls;if(i&&!r.fragContextChanged(t)){e.fragmentError=0,r.state=Kr,r.startFragRequested=!1,r.bitrateTest=!1;var a=t.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),n.trigger(S.FRAG_LOADED,i),t.bitrateTest=!1}}))},r._handleTransmuxComplete=function(t){var e,r="main",i=this.hls,n=t.remuxResult,a=t.chunkMeta,s=this.getCurrentContext(a);if(s){var o=s.frag,l=s.part,u=s.level,h=n.video,d=n.text,c=n.id3,f=n.initSegment,g=u.details,v=this.altAudio?void 0:n.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=jr,f){if(null!=f&&f.tracks){var m=o.initSegment||o;this._bufferInitSegment(u,f.tracks,m,a),i.trigger(S.FRAG_PARSING_INIT_SEGMENT,{frag:m,id:r,tracks:f.tracks})}var p=f.initPTS,y=f.timescale;E(p)&&(this.initPTS[o.cc]={baseTime:p,timescale:y},i.trigger(S.INIT_PTS_FOUND,{frag:o,id:r,initPTS:p,timescale:y}))}if(h&&g&&"initSegment"!==o.sn){var T=g.fragments[o.sn-1-g.startSN],L=o.sn===g.startSN,R=!T||o.cc>T.cc;if(!1!==n.independent){var A=h.startPTS,k=h.endPTS,b=h.startDTS,D=h.endDTS;if(l)l.elementaryStreams[h.type]={startPTS:A,endPTS:k,startDTS:b,endDTS:D};else if(h.firstKeyFrame&&h.independent&&1===a.id&&!R&&(this.couldBacktrack=!0),h.dropped&&h.independent){var I=this.getMainFwdBufferInfo(),w=(I?I.end:this.getLoadPosition())+this.config.maxBufferHole,C=h.firstKeyFramePTS?h.firstKeyFramePTS:A;if(!L&&w<C-this.config.maxBufferHole&&!R)return void this.backtrack(o);R&&(o.gap=!0),o.setElementaryStreamInfo(h.type,o.start,k,o.start,D,!0)}o.setElementaryStreamInfo(h.type,A,k,b,D),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(h,o,l,a,L||R)}else{if(!L&&!R)return void this.backtrack(o);o.gap=!0}}if(v){var _=v.startPTS,P=v.endPTS,x=v.startDTS,F=v.endDTS;l&&(l.elementaryStreams[O]={startPTS:_,endPTS:P,startDTS:x,endDTS:F}),o.setElementaryStreamInfo(O,_,P,x,F),this.bufferFragmentData(v,o,l,a)}if(g&&null!=c&&null!=(e=c.samples)&&e.length){var M={id:r,frag:o,details:g,samples:c.samples};i.trigger(S.FRAG_PARSING_METADATA,M)}if(g&&d){var N={id:r,frag:o,details:g,samples:d.samples};i.trigger(S.FRAG_PARSING_USERDATA,N)}}}else this.resetWhenMissingContext(a)},r._bufferInitSegment=function(t,e,r,i){var n=this;if(this.state===jr){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var a=e.audio,s=e.video,o=e.audiovideo;if(a){var l=t.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to "+l)),t.audioCodec&&t.audioCodec!==l&&this.log('Swapping manifest audio codec "'+t.audioCodec+'" for "'+l+'"'),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:"+a.container+", codecs[selected/level/parsed]=["+(l||"")+"/"+(t.audioCodec||"")+"/"+a.codec+"]")}s&&(s.levelCodec=t.videoCodec,s.id="main",this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+s.codec+"]")),o&&this.log("Init audiovideo buffer, container:"+o.container+", codecs[level/parsed]=["+(t.attrs.CODECS||"")+"/"+o.codec+"]"),this.hls.trigger(S.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var a=e[t].initSegment;null!=a&&a.byteLength&&n.hls.trigger(S.BUFFER_APPENDING,{type:t,data:a,frag:r,part:null,chunkMeta:i,parent:r.type})})),this.tick()}},r.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ge)},r.backtrack=function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Kr},r.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var r=t.currentTime;if(Ir.isBuffered(t,r)?e=this.getAppendedFrag(r):Ir.isBuffered(t,r+.1)&&(e=this.getAppendedFrag(r+.1)),e){this.backtrackFragment=null;var i=this.fragPlaying,n=e.level;i&&e.sn===i.sn&&i.level===n&&e.urlId===i.urlId||(this.fragPlaying=e,this.hls.trigger(S.FRAG_CHANGED,{frag:e}),i&&i.level===n||this.hls.trigger(S.LEVEL_SWITCHED,{level:n}))}}},a(e,[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}},{key:"currentProgramDateTime",get:function(){var t=this.media;if(t){var e=t.currentTime,r=this.currentFrag;if(r&&E(e)&&E(r.programDateTime)){var i=r.programDateTime+1e3*(e-r.start);return new Date(i)}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),e}(Jr),fn=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=r}var e=t.prototype;return e.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t}(),gn=function(){function t(t,e,r,i){void 0===i&&(i=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new fn(t),this.fast_=new fn(e),this.defaultTTFB_=i,this.ttfb_=new fn(t)}var e=t.prototype;return e.update=function(t,e){var r=this.slow_,i=this.fast_,n=this.ttfb_;r.halfLife!==t&&(this.slow_=new fn(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.fast_=new fn(e,i.getEstimate(),i.getTotalWeight())),n.halfLife!==t&&(this.ttfb_=new fn(t,n.getEstimate(),n.getTotalWeight()))},e.sample=function(t,e){var r=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/r;this.fast_.sample(r,i),this.slow_.sample(r,i)},e.sampleTTFB=function(t){var e=t/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(r,Math.max(t,5))},e.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},e.destroy=function(){},t}(),vn=function(){function t(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var e=t.config;this.bwEstimator=new gn(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(S.FRAG_LOADING,this.onFragLoading,this),t.on(S.FRAG_LOADED,this.onFragLoaded,this),t.on(S.FRAG_BUFFERED,this.onFragBuffered,this),t.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(S.LEVEL_LOADED,this.onLevelLoaded,this)},e.unregisterListeners=function(){var t=this.hls;t.off(S.FRAG_LOADING,this.onFragLoading,this),t.off(S.FRAG_LOADED,this.onFragLoaded,this),t.off(S.FRAG_BUFFERED,this.onFragBuffered,this),t.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(S.LEVEL_LOADED,this.onLevelLoaded,this)},e.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},e.onFragLoading=function(t,e){var r,i=e.frag;this.ignoreFragment(i)||(this.fragCurrent=i,this.partCurrent=null!=(r=e.part)?r:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},e.onLevelSwitching=function(t,e){this.clearTimer()},e.getTimeToLoadFrag=function(t,e,r,i){return t+r/e+(i?this.lastLevelLoadSec:0)},e.onLevelLoaded=function(t,e){var r=this.hls.config,i=e.stats,n=i.total,a=i.bwEstimate;E(n)&&E(a)&&(this.lastLevelLoadSec=8*n/a),e.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},e._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,i=r.autoLevelEnabled,n=r.media;if(t&&n){var a=performance.now(),s=e?e.stats:t.stats,o=e?e.duration:t.duration,l=a-s.loading.start;if(s.aborted||s.loaded&&s.loaded===s.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!n.paused&&n.playbackRate&&n.readyState){var u=r.mainForwardBufferInfo;if(null!==u){var h=this.bwEstimator.getEstimateTTFB(),d=Math.abs(n.playbackRate);if(!(l<=Math.max(h,o/(2*d)*1e3))){var c=u.len/d;if(!(c>=2*o/d)){var f=s.loading.first?s.loading.first-s.loading.start:-1,g=s.loaded&&f>-1,v=this.bwEstimator.getEstimate(),m=r.levels,p=r.minAutoLevel,y=m[t.level],T=s.total||Math.max(s.loaded,Math.round(o*y.maxBitrate/8)),L=l-f;L<1&&g&&(L=Math.min(l,8*s.loaded/v));var R=g?1e3*s.loaded/L:0,A=R?(T-s.loaded)/R:8*T/v+h/1e3;if(!(A<=c)){var k,b=R?8*R:v,D=Number.POSITIVE_INFINITY;for(k=t.level-1;k>p;k--){var I=m[k].maxBitrate;if((D=this.getTimeToLoadFrag(h/1e3,b,o*I,!m[k].details))<c)break}D>=A||D>10*o||(r.nextLoadLevel=k,g?this.bwEstimator.sample(l-Math.min(h,f),s.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),w.warn("[abr] Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly;\n      Time to underbuffer: "+c.toFixed(3)+" s\n      Estimated load time for current fragment: "+A.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+D.toFixed(3)+" s\n      TTFB estimate: "+f+"\n      Current BW estimate: "+(E(v)?(v/1024).toFixed(3):"Unknown")+" Kb/s\n      New BW estimate: "+(this.bwEstimator.getEstimate()/1024).toFixed(3)+" Kb/s\n      Aborting and switching to level "+k),t.loader&&(this.fragCurrent=this.partCurrent=null,t.abortRequests()),r.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:s}))}}}}}}},e.onFragLoaded=function(t,e){var r=e.frag,i=e.part,n=i?i.stats:r.stats;if(r.type===ge&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=i?i.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+n.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(r.bitrateTest){var u={stats:n,frag:r,part:i,id:r.type};this.onFragBuffered(S.FRAG_BUFFERED,u),r.bitrateTest=!1}}},e.onFragBuffered=function(t,e){var r=e.frag,i=e.part,n=null!=i&&i.stats.loaded?i.stats:r.stats;if(!n.aborted&&!this.ignoreFragment(r)){var a=n.parsing.end-n.loading.start-Math.min(n.loading.first-n.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,n.loaded),n.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},e.ignoreFragment=function(t){return t.type!==ge||"initSegment"===t.sn},e.clearTimer=function(){self.clearInterval(this.timer)},e.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,i=r.maxAutoLevel,n=r.config,a=r.minAutoLevel,s=r.media,o=e?e.duration:t?t.duration:0,l=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,h=r.mainForwardBufferInfo,d=(h?h.len:0)/l,c=this.findBestLevel(u,a,i,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor);if(c>=0)return c;w.trace("[abr] "+(d?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var f=o?Math.min(o,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,v=n.abrBandWidthUpFactor;if(!d){var m=this.bitrateTestDelay;m&&(f=(o?Math.min(o,n.maxLoadingDelay):n.maxLoadingDelay)-m,w.trace("[abr] bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),g=v=1)}return c=this.findBestLevel(u,a,i,d+f,g,v),Math.max(c,0)},e.findBestLevel=function(t,e,r,i,n,a){for(var s,o=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,h=this.hls.levels,d=h[u],c=!(null==d||null==(s=d.details)||!s.live),f=null==d?void 0:d.codecSet,g=l?l.duration:o?o.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3,m=e,p=-1,y=r;y>=e;y--){var T=h[y];if(!T||f&&T.codecSet!==f)T&&(m=Math.min(y,m),p=Math.max(y,p));else{-1!==p&&w.trace("[abr] Skipped level(s) "+m+"-"+p+' with CODECS:"'+h[p].attrs.CODECS+'"; not compatible with "'+d.attrs.CODECS+'"');var S=T.details,L=(l?null==S?void 0:S.partTarget:null==S?void 0:S.averagetargetduration)||g,R=void 0;R=y<=u?n*t:a*t;var A=h[y].maxBitrate,k=this.getTimeToLoadFrag(v,R,A*L,void 0===S);if(w.trace("[abr] level:"+y+" adjustedbw-bitrate:"+Math.round(R-A)+" avgDuration:"+L.toFixed(1)+" maxFetchDuration:"+i.toFixed(1)+" fetchDuration:"+k.toFixed(1)),R>A&&(0===k||!E(k)||c&&!this.bitrateTestDelay||k<i))return y}}return-1},a(t,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;var r=this.getNextABRAutoLevel();if(-1!==t){var i=this.hls.levels;if(i.length>Math.max(t,r)&&i[t].loadError<=i[r].loadError)return t}return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}}]),t}(),mn=function(){function t(){this.chunks=[],this.dataLength=0}var e=t.prototype;return e.push=function(t){this.chunks.push(t),this.dataLength+=t.length},e.flush=function(){var t,e=this.chunks,r=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var r=new Uint8Array(e),i=0,n=0;n<t.length;n++){var a=t[n];r.set(a,i),i+=a.length}return r}(e,r),this.reset(),t):new Uint8Array(0)},e.reset=function(){this.chunks.length=0,this.dataLength=0},t}(),pn=function(t){function e(e,r,i){var n;return(n=t.call(this,e,r,i,"[audio-stream-controller]",ve)||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.bufferedTrack=null,n.switchingTrack=null,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n.cachedTrackLoadedData=null,n._registerListeners(),n}l(e,t);var r=e.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null},r._registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.LEVEL_LOADED,this.onLevelLoaded,this),t.on(S.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(S.ERROR,this.onError,this),t.on(S.BUFFER_RESET,this.onBufferReset,this),t.on(S.BUFFER_CREATED,this.onBufferCreated,this),t.on(S.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(S.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(S.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.LEVEL_LOADED,this.onLevelLoaded,this),t.off(S.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(S.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(S.ERROR,this.onError,this),t.off(S.BUFFER_RESET,this.onBufferReset,this),t.off(S.BUFFER_CREATED,this.onBufferCreated,this),t.off(S.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(S.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(S.FRAG_BUFFERED,this.onFragBuffered,this)},r.onInitPtsFound=function(t,e){var r=e.frag,i=e.id,n=e.initPTS,a=e.timescale;if("main"===i){var s=r.cc;this.initPTS[r.cc]={baseTime:n,timescale:a},this.log("InitPTS for cc: "+s+" found from main: "+n),this.videoTrackCC=s,this.state===Qr&&this.tick()}},r.startLoad=function(t){if(!this.levels)return this.startPosition=t,void(this.state=Gr);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e,this.state=Kr):(this.loadedmetadata=!1,this.state=Wr),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},r.doTick=function(){switch(this.state){case Kr:this.doTickIdle();break;case Wr:var e,r=this.levels,i=this.trackId,n=null==r||null==(e=r[i])?void 0:e.details;if(n){if(this.waitForCdnTuneIn(n))break;this.state=Qr}break;case Yr:var a,s=performance.now(),o=this.retryDate;(!o||s>=o||null!=(a=this.media)&&a.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Kr);break;case Qr:var l=this.waitingData;if(l){var u=l.frag,h=l.part,d=l.cache,c=l.complete;if(void 0!==this.initPTS[u.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Vr;var f={frag:u,part:h,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(f),c&&t.prototype._handleFragmentLoadComplete.call(this,f)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+u.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var g=this.getLoadPosition(),v=Ir.bufferInfo(this.mediaBuffer,g,this.config.maxBufferHole);Je(v.end,this.config.maxFragLookUpTolerance,u)<0&&(this.log("Waiting fragment cc ("+u.cc+") @ "+u.start+" cancelled because another fragment at "+v.end+" is needed"),this.clearWaitingFragment())}}else this.state=Kr}this.onTickEnd()},r.clearWaitingFragment=function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Kr)},r.resetLoadingState=function(){this.clearWaitingFragment(),t.prototype.resetLoadingState.call(this)},r.onTickEnd=function(){var t=this.media;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)},r.doTickIdle=function(){var t=this.hls,e=this.levels,r=this.media,i=this.trackId,n=t.config;if(null!=e&&e[i]&&(r||!this.startFragRequested&&n.startFragPrefetch)){var a=e[i],s=a.details;if(!s||s.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(s))this.state=Wr;else{var o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,O,ve));var l=this.getFwdBufferInfo(o,ve);if(null!==l){var u=this.bufferedTrack,h=this.switchingTrack;if(!h&&this._streamEnded(l,s))return t.trigger(S.BUFFER_EOS,{type:"audio"}),void(this.state=Xr);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ge),c=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len);if(!(c>=f)||h){var g=s.fragments[0].start,v=l.end;if(h&&r){var m=this.getLoadPosition();u&&h.attrs!==u.attrs&&(v=m),s.PTSKnown&&m<g&&(l.end>g||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=g+.05)}var p=this.getNextFragment(v,s),y=!1;if(p&&this.isLoopLoading(p,v)&&(y=!!p.gap,p=this.getNextFragmentLoopLoading(p,s,l,ge,f)),p){var T=d&&p.start>d.end+s.targetduration;if(T||(null==d||!d.len)&&l.len){var E=this.getAppendedFrag(p.start,ge);if(null===E)return;if(y||(y=!!E.gap||!!T&&0===d.len),T&&!y||y&&l.nextStart&&l.nextStart<E.end)return}this.loadFragment(p,a,v)}else this.bufferFlushed=!0}}}}},r.getMaxBufferLength=function(e){var r=t.prototype.getMaxBufferLength.call(this);return e?Math.min(Math.max(r,e),this.config.maxMaxBufferLength):r},r.onMediaDetaching=function(){this.videoBuffer=null,t.prototype.onMediaDetaching.call(this)},r.onAudioTracksUpdated=function(t,e){var r=e.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(t){return new Ne(t)}))},r.onAudioTrackSwitching=function(t,e){var r=!!e.url;this.trackId=e.id;var i=this.fragCurrent;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.switchingTrack=e,this.state=Kr):(this.switchingTrack=null,this.bufferedTrack=e,this.state=Gr),this.tick()},r.onManifestLoading=function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1},r.onLevelLoaded=function(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(S.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},r.onAudioTrackLoaded=function(t,e){var r;if(null!=this.mainDetails){var i=this.levels,n=e.details,a=e.id;if(i){this.log("Track "+a+" loaded ["+n.startSN+","+n.endSN+"]"+(n.lastPartSn?"[part-"+n.lastPartSn+"-"+n.lastPartIndex+"]":"")+",duration:"+n.totalduration);var s=i[a],o=0;if(n.live||null!=(r=s.details)&&r.live){this.checkLiveUpdate(n);var l=this.mainDetails;if(n.deltaUpdateFailed||!l)return;!s.details&&n.hasProgramDateTime&&l.hasProgramDateTime?(Fr(n,l),o=n.fragments[0].start):o=this.alignPlaylists(n,s.details)}s.details=n,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(s.details,o),this.state!==Wr||this.waitForCdnTuneIn(n)||(this.state=Kr),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=e},r._handleFragmentLoadProgress=function(t){var e,r=t.frag,i=t.part,n=t.payload,a=this.config,s=this.trackId,o=this.levels;if(o){var l=o[s];if(l){var u=l.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(r.start);var h=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new hn(this.hls,ve,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var c=this.initPTS[r.cc],f=null==(e=r.initSegment)?void 0:e.data;if(void 0!==c){var g=i?i.index:-1,v=-1!==g,m=new wr(r.level,r.sn,r.stats.chunkCount,n.byteLength,g,v);d.push(n,f,h,"",r,i,u.totalduration,!1,m,c)}else this.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+u.startSN+" ,"+u.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:r,part:i,cache:new mn,complete:!1}).cache.push(new Uint8Array(n)),this.waitingVideoCC=this.videoTrackCC,this.state=Qr}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r._handleFragmentLoadComplete=function(e){this.waitingData?this.waitingData.complete=!0:t.prototype._handleFragmentLoadComplete.call(this,e)},r.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.onBufferCreated=function(t,e){var r=e.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)},r.onFragBuffered=function(t,e){var r=e.frag,n=e.part;if(r.type===ve)if(this.fragContextChanged(r))this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==r.sn){this.fragPrevious=r;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(S.AUDIO_TRACK_SWITCHED,i({},a)))}this.fragBufferedComplete(r,n)}else if(!this.loadedmetadata&&r.type===ge){var s=this.videoBuffer||this.media;s&&Ir.getBuffered(s).length&&(this.loadedmetadata=!0)}},r.onError=function(e,r){var i;if(r.fatal)this.state=zr;else switch(r.details){case R.FRAG_GAP:case R.FRAG_PARSING_ERROR:case R.FRAG_DECRYPT_ERROR:case R.FRAG_LOAD_ERROR:case R.FRAG_LOAD_TIMEOUT:case R.KEY_LOAD_ERROR:case R.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ve,r);break;case R.AUDIO_TRACK_LOAD_ERROR:case R.AUDIO_TRACK_LOAD_TIMEOUT:case R.LEVEL_PARSING_ERROR:r.levelRetry||this.state!==Wr||(null==(i=r.context)?void 0:i.type)!==ce||(this.state=Kr);break;case R.BUFFER_FULL_ERROR:if(!r.parent||"audio"!==r.parent)return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case R.INTERNAL_EXCEPTION:this.recoverWorkerError(r)}},r.onBufferFlushed=function(t,e){e.type===O&&(this.bufferFlushed=!0,this.state===Xr&&(this.state=Kr))},r._handleTransmuxComplete=function(t){var e,r="audio",i=this.hls,n=t.remuxResult,a=t.chunkMeta,s=this.getCurrentContext(a);if(s){var l=s.frag,u=s.part,h=s.level.details,d=n.audio,c=n.text,f=n.id3,g=n.initSegment;if(!this.fragContextChanged(l)&&h){if(this.state=jr,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=g&&g.tracks){var v=l.initSegment||l;this._bufferInitSegment(g.tracks,v,a),i.trigger(S.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:r,tracks:g.tracks})}if(d){var m=d.startPTS,p=d.endPTS,y=d.startDTS,T=d.endDTS;u&&(u.elementaryStreams[O]={startPTS:m,endPTS:p,startDTS:y,endDTS:T}),l.setElementaryStreamInfo(O,m,p,y,T),this.bufferFragmentData(d,l,u,a)}if(null!=f&&null!=(e=f.samples)&&e.length){var E=o({id:r,frag:l,details:h},f);i.trigger(S.FRAG_PARSING_METADATA,E)}if(c){var L=o({id:r,frag:l,details:h},c);i.trigger(S.FRAG_PARSING_USERDATA,L)}}else this.fragmentTracker.removeFragment(l)}else this.resetWhenMissingContext(a)},r._bufferInitSegment=function(t,e,r){if(this.state===jr){t.video&&delete t.video;var i=t.audio;if(i){i.levelCodec=i.codec,i.id="audio",this.log("Init audio buffer, container:"+i.container+", codecs[parsed]=["+i.codec+"]"),this.hls.trigger(S.BUFFER_CODECS,t);var n=i.initSegment;if(null!=n&&n.byteLength){var a={type:"audio",frag:e,part:null,chunkMeta:r,parent:e.type,data:n};this.hls.trigger(S.BUFFER_APPENDING,a)}this.tick()}}},r.loadFragment=function(e,r,i){var n,a=this.fragmentTracker.getState(e);this.fragCurrent=e,this.switchingTrack||a===fr||a===vr?"initSegment"===e.sn?this._loadInitSegment(e,r):null!=(n=r.details)&&n.live&&!this.initPTS[e.cc]?(this.log("Waiting for video PTS in continuity counter "+e.cc+" of live stream before loading audio fragment "+e.sn+" of level "+this.trackId),this.state=Qr):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i)):this.clearTrackerIfNeeded(e)},r.completeAudioSwitch=function(e){var r=this.hls,n=this.media,a=this.bufferedTrack,s=null==a?void 0:a.attrs,o=e.attrs;n&&s&&(s.CHANNELS!==o.CHANNELS||s.NAME!==o.NAME||s.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(S.AUDIO_TRACK_SWITCHED,i({},e))},e}(Jr),yn=function(t){function e(e){var r;return(r=t.call(this,e,"[audio-track-controller]")||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}l(e,t);var r=e.prototype;return r.registerListeners=function(){var t=this.hls;t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_PARSED,this.onManifestParsed,this),t.on(S.LEVEL_LOADING,this.onLevelLoading,this),t.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(S.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_PARSED,this.onManifestParsed,this),t.off(S.LEVEL_LOADING,this.onLevelLoading,this),t.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(S.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(S.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,t.prototype.destroy.call(this)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},r.onManifestParsed=function(t,e){this.tracks=e.audioTracks||[]},r.onAudioTrackLoaded=function(t,e){var r=e.id,i=e.groupId,n=e.details,a=this.tracksInGroup[r];if(a&&a.groupId===i){var s=a.details;a.details=e.details,this.log("audio-track "+r+' "'+a.name+'" lang:'+a.lang+" group:"+i+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&this.playlistLoaded(r,e,s)}else this.warn("Track with id:"+r+" and group:"+i+" not found in active group "+a.groupId)},r.onLevelLoading=function(t,e){this.switchLevel(e.level)},r.onLevelSwitching=function(t,e){this.switchLevel(e.level)},r.switchLevel=function(t){var e=this.hls.levels[t];if(null!=e&&e.audioGroupIds){var r=e.audioGroupIds[e.urlId];if(this.groupId!==r){this.groupId=r||null;var i=this.tracks.filter((function(t){return!r||t.groupId===r}));this.selectDefaultTrack&&!i.some((function(t){return t.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var n={audioTracks:i};this.log("Updating audio tracks, "+i.length+" track(s) found in group:"+r),this.hls.trigger(S.AUDIO_TRACKS_UPDATED,n),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===ce&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))},r.setAudioTrack=function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=this.currentTrack;e[this.trackId];var n=e[t],a=n.groupId,s=n.name;if(this.log("Switching to audio-track "+t+' "'+s+'" lang:'+n.lang+" group:"+a),this.trackId=t,this.currentTrack=n,this.selectDefaultTrack=!1,this.hls.trigger(S.AUDIO_TRACK_SWITCHING,i({},n)),!n.details||n.details.live){var o=this.switchParams(n.url,null==r?void 0:r.details);this.loadPlaylist(o)}}},r.selectInitialTrack=function(){var t=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{var r=new Error("No track found for running audio group-ID: "+this.groupId+" track count: "+t.length);this.warn(r.message),this.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:r})}},r.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var i=e[r];if(!this.selectDefaultTrack||i.default){if(!t||void 0!==t.attrs["STABLE-RENDITION-ID"]&&t.attrs["STABLE-RENDITION-ID"]===i.attrs["STABLE-RENDITION-ID"])return i.id;if(t.name===i.name&&t.lang===i.lang)return i.id}}return-1},r.loadPlaylist=function(e){t.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){var i=r.id,n=r.groupId,a=r.url;if(e)try{a=e.addDirectives(a)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("loading audio-track playlist "+i+' "'+r.name+'" lang:'+r.lang+" group:"+n),this.clearTimer(),this.hls.trigger(S.AUDIO_TRACK_LOADING,{url:a,id:i,groupId:n,deliveryDirectives:e||null})}},a(e,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}}]),e}(ur);function Tn(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!En(t[r].attrs,e[r].attrs))return!1;return!0}function En(t,e){var r=t["STABLE-RENDITION-ID"];return r?r===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(r){return t[r]!==e[r]}))}var Sn=function(t){function e(e,r,i){var n;return(n=t.call(this,e,r,i,"[subtitle-stream-controller]",me)||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}l(e,t);var r=e.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},r._registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.LEVEL_LOADED,this.onLevelLoaded,this),t.on(S.ERROR,this.onError,this),t.on(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(S.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(S.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(S.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.LEVEL_LOADED,this.onLevelLoaded,this),t.off(S.ERROR,this.onError,this),t.off(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(S.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(S.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(S.FRAG_BUFFERED,this.onFragBuffered,this)},r.startLoad=function(t){this.stopLoad(),this.state=Kr,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},r.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},r.onMediaDetaching=function(){this.tracksBuffered=[],t.prototype.onMediaDetaching.call(this)},r.onLevelLoaded=function(t,e){this.mainDetails=e.details},r.onSubtitleFragProcessed=function(t,e){var r=e.frag,i=e.success;if(this.fragPrevious=r,this.state=Kr,i){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var a,s=r.start,o=0;o<n.length;o++)if(s>=n[o].start&&s<=n[o].end){a=n[o];break}var l=r.start+r.duration;a?a.end=l:(a={start:s,end:l},n.push(a)),this.fragmentTracker.fragBuffered(r)}}},r.onBufferFlushing=function(t,e){var r=e.startOffset,i=e.endOffset;if(0===r&&i!==Number.POSITIVE_INFINITY){var n=i-1;if(n<=0)return;e.endOffsetSubtitles=Math.max(0,n),this.tracksBuffered.forEach((function(t){for(var e=0;e<t.length;)if(t[e].end<=n)t.shift();else{if(!(t[e].start<n))break;t[e].start=n,e++}})),this.fragmentTracker.removeFragmentsInRange(r,n,me)}},r.onFragBuffered=function(t,e){var r;this.loadedmetadata||e.frag.type!==ge||null!=(r=this.media)&&r.buffered.length&&(this.loadedmetadata=!0)},r.onError=function(t,e){var r=e.frag;(null==r?void 0:r.type)===me&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Gr&&(this.state=Kr))},r.onSubtitleTracksUpdated=function(t,e){var r=this,i=e.subtitleTracks;Tn(this.levels,i)?this.levels=i.map((function(t){return new Ne(t)})):(this.tracksBuffered=[],this.levels=i.map((function(t){var e=new Ne(t);return r.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,me),this.fragPrevious=null,this.mediaBuffer=null)},r.onSubtitleTrackSwitch=function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(t,e){var r,i=e.details,n=e.id,a=this.currentTrackId,s=this.levels;if(s.length){var o=s[a];if(!(n>=s.length||n!==a)&&o){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(i.live||null!=(r=o.details)&&r.live){var u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;var h=u.fragments[0];o.details?0===(l=this.alignPlaylists(i,o.details))&&h&&He(i,l=h.start):i.hasProgramDateTime&&u.hasProgramDateTime?(Fr(i,u),l=i.fragments[0].start):h&&He(i,l=h.start)}o.details=i,this.levelLastLoaded=n,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(o.details,l),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===Kr&&($e(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),o.details=void 0))}}},r._handleFragmentLoadComplete=function(t){var e=this,r=t.frag,i=t.payload,n=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&i&&i.byteLength>0&&n&&n.key&&n.iv&&"AES-128"===n.method){var s=performance.now();this.decrypter.decrypt(new Uint8Array(i),n.key.buffer,n.iv.buffer).catch((function(t){throw a.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:r}),t})).then((function(t){var e=performance.now();a.trigger(S.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:s,tdecrypt:e}})})).catch((function(t){e.warn(t.name+": "+t.message),e.state=Kr}))}},r.doTick=function(){if(this.media){if(this.state===Kr){var t=this.currentTrackId,e=this.levels,r=e[t];if(!e.length||!r||!r.details)return;var i=this.config,n=this.getLoadPosition(),a=Ir.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],n,i.maxBufferHole),s=a.end,o=a.len,l=this.getFwdBufferInfo(this.media,ge),u=r.details;if(o>this.getMaxBufferLength(null==l?void 0:l.len)+u.levelTargetDuration)return;var h=u.fragments,d=h.length,c=u.edge,f=null,g=this.fragPrevious;if(s<c){var v=i.maxFragLookUpTolerance,m=s>c-v?0:v;!(f=$e(g,h,Math.max(h[0].start,s),m))&&g&&g.start<h[0].start&&(f=h[0])}else f=h[d-1];if(!f)return;if("initSegment"!==(f=this.mapToInitFragWhenRequired(f)).sn){var p=h[f.sn-u.startSN-1];p&&p.cc===f.cc&&this.fragmentTracker.getState(p)===fr&&(f=p)}this.fragmentTracker.getState(f)===fr&&this.loadFragment(f,r,s)}}else this.state=Kr},r.getMaxBufferLength=function(e){var r=t.prototype.getMaxBufferLength.call(this);return e?Math.max(r,e):r},r.loadFragment=function(e,r,i){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,r):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i))},a(e,[{key:"mediaBufferTimeRanges",get:function(){return new Ln(this.tracksBuffered[this.currentTrackId]||[])}}]),e}(Jr),Ln=function(t){this.buffered=void 0;var e=function(e,r,i){if((r>>>=0)>i-1)throw new DOMException("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+r+") is greater than the maximum bound ("+i+")");return t[r][e]};this.buffered={get length(){return t.length},end:function(r){return e("end",r,t.length)},start:function(r){return e("start",r,t.length)}}},Rn=function(t){function e(e){var r;return(r=t.call(this,e,"[subtitle-track-controller]")||this).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}l(e,t);var r=e.prototype;return r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,t.prototype.destroy.call(this)},r.registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_PARSED,this.onManifestParsed,this),t.on(S.LEVEL_LOADING,this.onLevelLoading,this),t.on(S.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(S.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_PARSED,this.onManifestParsed,this),t.off(S.LEVEL_LOADING,this.onLevelLoading,this),t.off(S.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(S.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(S.ERROR,this.onError,this)},r.onMediaAttached=function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},r.pollTrackChange=function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)},r.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),An(this.media.textTracks).forEach((function(t){Le(t)})),this.subtitleTrack=-1,this.media=null)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},r.onManifestParsed=function(t,e){this.tracks=e.subtitleTracks},r.onSubtitleTrackLoaded=function(t,e){var r=e.id,i=e.details,n=this.trackId,a=this.tracksInGroup[n];if(a){var s=a.details;a.details=e.details,this.log("subtitle track "+r+" loaded ["+i.startSN+"-"+i.endSN+"]"),r===this.trackId&&this.playlistLoaded(r,e,s)}else this.warn("Invalid subtitle track id "+r)},r.onLevelLoading=function(t,e){this.switchLevel(e.level)},r.onLevelSwitching=function(t,e){this.switchLevel(e.level)},r.switchLevel=function(t){var e=this.hls.levels[t];if(null!=e&&e.textGroupIds){var r=e.textGroupIds[e.urlId],i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==r){var n=this.tracks.filter((function(t){return!r||t.groupId===r}));this.tracksInGroup=n;var a=this.findTrackId(null==i?void 0:i.name)||this.findTrackId();this.groupId=r||null;var s={subtitleTracks:n};this.log("Updating subtitle tracks, "+n.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED,s),-1!==a&&this.setSubtitleTrack(a,i)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId,i)}},r.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var i=e[r];if((!this.selectDefaultTrack||i.default)&&(!t||t===i.name))return i.id}return-1},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===fe&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)},r.loadPlaylist=function(e){t.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){var i=r.id,n=r.groupId,a=r.url;if(e)try{a=e.addDirectives(a)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("Loading subtitle playlist for id "+i),this.hls.trigger(S.SUBTITLE_TRACK_LOADING,{url:a,id:i,groupId:n,deliveryDirectives:e||null})}},r.toggleTrackModes=function(t){var e=this,r=this.media,i=this.trackId;if(r){var n=An(r.textTracks),a=n.filter((function(t){return t.groupId===e.groupId}));if(-1===t)[].slice.call(n).forEach((function(t){t.mode="disabled"}));else{var s=a[i];s&&(s.mode="disabled")}var o=a[t];o&&(o.mode=this.subtitleDisplay?"showing":"hidden")}},r.setSubtitleTrack=function(t,e){var r,i=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!=(r=i[t])&&r.details)||t<-1||t>=i.length)){this.clearTimer();var n=i[t];if(this.log("Switching to subtitle-track "+t+(n?' "'+n.name+'" lang:'+n.lang+" group:"+n.groupId:"")),this.trackId=t,n){var a=n.id,s=n.groupId,o=void 0===s?"":s,l=n.name,u=n.type,h=n.url;this.hls.trigger(S.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:u,url:h});var d=this.switchParams(n.url,null==e?void 0:e.details);this.loadPlaylist(d)}else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t},r.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=An(this.media.textTracks),r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}},a(e,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}}]),e}(ur);function An(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];"subtitles"!==i.kind&&"captions"!==i.kind||!i.label||e.push(t[r])}return e}var kn=function(){function t(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var e=t.prototype;return e.append=function(t,e){var r=this.queues[e];r.push(t),1===r.length&&this.buffers[e]&&this.executeNext(e)},e.insertAbort=function(t,e){this.queues[e].unshift(t),this.executeNext(e)},e.appendBlocker=function(t){var e,r=new Promise((function(t){e=t})),i={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(i,t),r},e.executeNext=function(t){var e=this.buffers,r=this.queues,i=e[t],n=r[t];if(n.length){var a=n[0];try{a.execute()}catch(e){w.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(e),null!=i&&i.updating||(n.shift(),this.executeNext(t))}}},e.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},e.current=function(t){return this.queues[t][0]},t}(),bn=qt(),Dn=/([ha]vc.)(?:\.[^.,]+)+/,In=function(){function t(t){var e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=e.media,r=e.mediaSource;w.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",e._onMediaEmptied),e.updateMediaElementDuration(),e.hls.trigger(S.MEDIA_ATTACHED,{media:t})),r&&r.removeEventListener("sourceopen",e._onMediaSourceOpen),e.checkPendingTracks()},this._onMediaSourceClose=function(){w.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){w.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var t=e.media,r=e._objectUrl;t&&t.src!==r&&w.error("Media element src was set while attaching MediaSource ("+r+" > "+t.src+")")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var e=t.prototype;return e.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},e.registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_PARSED,this.onManifestParsed,this),t.on(S.BUFFER_RESET,this.onBufferReset,this),t.on(S.BUFFER_APPENDING,this.onBufferAppending,this),t.on(S.BUFFER_CODECS,this.onBufferCodecs,this),t.on(S.BUFFER_EOS,this.onBufferEos,this),t.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(S.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(S.FRAG_PARSED,this.onFragParsed,this),t.on(S.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_PARSED,this.onManifestParsed,this),t.off(S.BUFFER_RESET,this.onBufferReset,this),t.off(S.BUFFER_APPENDING,this.onBufferAppending,this),t.off(S.BUFFER_CODECS,this.onBufferCodecs,this),t.off(S.BUFFER_EOS,this.onBufferEos,this),t.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(S.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(S.FRAG_PARSED,this.onFragParsed,this),t.off(S.FRAG_CHANGED,this.onFragChanged,this)},e._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new kn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},e.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},e.onManifestParsed=function(t,e){var r=2;(e.audio&&!e.video||!e.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,w.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},e.onMediaAttaching=function(t,e){var r=this.media=e.media;if(r&&bn){var i=this.mediaSource=new bn;i.addEventListener("sourceopen",this._onMediaSourceOpen),i.addEventListener("sourceended",this._onMediaSourceEnded),i.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(i),this._objectUrl=r.src,r.addEventListener("emptied",this._onMediaEmptied)}},e.onMediaDetaching=function(){var t=this.media,e=this.mediaSource,r=this._objectUrl;if(e){if(w.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(t){w.warn("[buffer-controller]: onMediaDetaching: "+t.message+" while calling endOfStream")}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(t.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),t.src===r?(t.removeAttribute("src"),t.load()):w.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(S.MEDIA_DETACHED,void 0)},e.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var r=t.sourceBuffer[e];try{r&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(r),t.sourceBuffer[e]=void 0)}catch(t){w.warn("[buffer-controller]: Failed to reset the "+e+" buffer",t)}})),this._initSourceBuffer()},e.onBufferCodecs=function(t,e){var r=this,i=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(i){var n=r.tracks[t];if(n&&"function"==typeof n.buffer.changeType){var a=e[t],s=a.id,o=a.codec,l=a.levelCodec,u=a.container,h=a.metadata,d=(n.levelCodec||n.codec).replace(Dn,"$1"),c=(l||o).replace(Dn,"$1");if(d!==c){var f=u+";codecs="+(l||o);r.appendChangeType(t,f),w.log("[buffer-controller]: switching codec "+d+" to "+c),r.tracks[t]={buffer:n.buffer,codec:o,container:u,levelCodec:l,metadata:h,id:s}}}}else r.pendingTracks[t]=e[t]})),i||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=function(t,e){var r=this,i=this.operationQueue,n={execute:function(){var n=r.sourceBuffer[t];n&&(w.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+e),n.changeType(e)),i.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){w.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",e)}};i.append(n,t)},e.onBufferAppending=function(t,e){var r=this,i=this.hls,n=this.operationQueue,a=this.tracks,s=e.data,o=e.type,l=e.frag,u=e.part,h=e.chunkMeta,d=h.buffering[o],c=self.performance.now();d.start=c;var f=l.stats.buffering,g=u?u.stats.buffering:null;0===f.start&&(f.start=c),g&&0===g.start&&(g.start=c);var v=a.audio,m=!1;"audio"===o&&"audio/mpeg"===(null==v?void 0:v.container)&&(m=!this.lastMpegAudioChunk||1===h.id||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);var p=l.start,y={execute:function(){if(d.executeStart=self.performance.now(),m){var t=r.sourceBuffer[o];if(t){var e=p-t.timestampOffset;Math.abs(e)>=.1&&(w.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+p+" (delta: "+e+") sn: "+l.sn+")"),t.timestampOffset=p)}}r.appendExecutor(s,o)},onStart:function(){},onComplete:function(){var t=self.performance.now();d.executeEnd=d.end=t,0===f.first&&(f.first=t),g&&0===g.first&&(g.first=t);var e=r.sourceBuffer,i={};for(var n in e)i[n]=Ir.getBuffered(e[n]);r.appendError=0,r.hls.trigger(S.BUFFER_APPENDED,{type:o,frag:l,part:u,chunkMeta:h,parent:l.type,timeRanges:i})},onError:function(t){w.error("[buffer-controller]: Error encountered while trying to append to the "+o+" SourceBuffer",t);var e={type:L.MEDIA_ERROR,parent:l.type,details:R.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:h,error:t,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=R.BUFFER_FULL_ERROR:(r.appendError++,e.details=R.BUFFER_APPEND_ERROR,r.appendError>i.config.appendErrorMaxRetry&&(w.error("[buffer-controller]: Failed "+i.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),e.fatal=!0)),i.trigger(S.ERROR,e)}};n.append(y,o)},e.onBufferFlushing=function(t,e){var r=this,i=this.operationQueue,n=function(t){return{execute:r.removeExecutor.bind(r,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(S.BUFFER_FLUSHED,{type:t})},onError:function(e){w.warn("[buffer-controller]: Failed to remove from "+t+" SourceBuffer",e)}}};e.type?i.append(n(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){i.append(n(t),t)}))},e.onFragParsed=function(t,e){var r=this,i=e.frag,n=e.part,a=[],s=n?n.elementaryStreams:i.elementaryStreams;s[U]?a.push("audiovideo"):(s[O]&&a.push("audio"),s[N]&&a.push("video")),0===a.length&&w.warn("Fragments must have at least one ElementaryStreamType set. type: "+i.type+" level: "+i.level+" sn: "+i.sn),this.blockBuffers((function(){var t=self.performance.now();i.stats.buffering.end=t,n&&(n.stats.buffering.end=t);var e=n?n.stats:i.stats;r.hls.trigger(S.FRAG_BUFFERED,{frag:i,part:n,stats:e,id:i.type})}),a)},e.onFragChanged=function(t,e){this.flushBackBuffer()},e.onBufferEos=function(t,e){var r=this;this.getSourceBufferTypes().reduce((function(t,i){var n=r.sourceBuffer[i];return!n||e.type&&e.type!==i||(n.ending=!0,n.ended||(n.ended=!0,w.log("[buffer-controller]: "+i+" sourceBuffer now EOS"))),t&&!(n&&!n.ended)}),!0)&&(w.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){r.getSourceBufferTypes().forEach((function(t){var e=r.sourceBuffer[t];e&&(e.ending=!1)}));var t=r.mediaSource;t&&"open"===t.readyState?(w.log("[buffer-controller]: Calling mediaSource.endOfStream()"),t.endOfStream()):t&&w.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+t.readyState)})))},e.onLevelUpdated=function(t,e){var r=e.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},e.flushBackBuffer=function(){var t=this.hls,e=this.details,r=this.media,i=this.sourceBuffer;if(r&&null!==e){var n=this.getSourceBufferTypes();if(n.length){var a=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(E(a)&&!(a<0)){var s=r.currentTime,o=e.levelTargetDuration,l=Math.max(a,o),u=Math.floor(s/o)*o-l;n.forEach((function(r){var n=i[r];if(n){var a=Ir.getBuffered(n);if(a.length>0&&u>a.start(0)){if(t.trigger(S.BACK_BUFFER_REACHED,{bufferEnd:u}),e.live)t.trigger(S.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(n.ended&&a.end(a.length-1)-s<2*o)return void w.info("[buffer-controller]: Cannot flush "+r+" back buffer while SourceBuffer is in ended state");t.trigger(S.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:r})}}}))}}}},e.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,r=this.media,i=this.mediaSource,n=t.fragments[0].start+t.totalduration,a=r.duration,s=E(i.duration)?i.duration:0;t.live&&e.config.liveDurationInfinity?(w.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(t)):(n>s&&n>a||!E(a))&&(w.log("[buffer-controller]: Updating Media Source duration to "+n.toFixed(3)),i.duration=n)}},e.updateSeekableRange=function(t){var e=this.mediaSource,r=t.fragments;if(r.length&&t.live&&null!=e&&e.setLiveSeekableRange){var i=Math.max(0,r[0].start),n=Math.max(i,i+t.totalduration);e.setLiveSeekableRange(i,n)}},e.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,r=this.pendingTracks,i=Object.keys(r).length;if(i&&!t||2===i){this.createSourceBuffers(r),this.pendingTracks={};var n=this.getSourceBufferTypes();if(n.length)this.hls.trigger(S.BUFFER_CREATED,{tracks:this.tracks}),n.forEach((function(t){e.executeNext(t)}));else{var a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}},e.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var i in t)if(!e[i]){var n=t[i];if(!n)throw Error("source buffer exists for track "+i+", however track does not");var a=n.levelCodec||n.codec,s=n.container+";codecs="+a;w.log("[buffer-controller]: creating sourceBuffer("+s+")");try{var o=e[i]=r.addSourceBuffer(s),l=i;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[i]={buffer:o,codec:a,container:n.container,levelCodec:n.levelCodec,metadata:n.metadata,id:n.id}}catch(t){w.error("[buffer-controller]: error while trying to add sourceBuffer: "+t.message),this.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:s})}}},e._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},e._onSBUpdateEnd=function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)},e._onSBUpdateError=function(t,e){var r=new Error(t+" SourceBuffer error");w.error("[buffer-controller]: "+r,e),this.hls.trigger(S.ERROR,{type:L.MEDIA_ERROR,details:R.BUFFER_APPENDING_ERROR,error:r,fatal:!1});var i=this.operationQueue.current(t);i&&i.onError(e)},e.removeExecutor=function(t,e,r){var i=this.media,n=this.mediaSource,a=this.operationQueue,s=this.sourceBuffer[t];if(!i||!n||!s)return w.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(t);var o=E(i.duration)?i.duration:1/0,l=E(n.duration)?n.duration:1/0,u=Math.max(0,e),h=Math.min(r,o,l);h>u&&!s.ending?(s.ended=!1,w.log("[buffer-controller]: Removing ["+u+","+h+"] from the "+t+" SourceBuffer"),s.remove(u,h)):a.shiftAndExecuteNext(t)},e.appendExecutor=function(t,e){var r=this.operationQueue,i=this.sourceBuffer[e];if(!i)return w.warn("[buffer-controller]: Attempting to append to the "+e+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(e);i.ended=!1,i.appendBuffer(t)},e.blockBuffers=function(t,e){var r=this;if(void 0===e&&(e=this.getSourceBufferTypes()),!e.length)return w.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);var i=this.operationQueue,n=e.map((function(t){return i.appendBlocker(t)}));Promise.all(n).then((function(){t(),e.forEach((function(t){var e=r.sourceBuffer[t];null!=e&&e.updating||i.shiftAndExecuteNext(t)}))}))},e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=function(t,e,r){var i=this.sourceBuffer[t];if(i){var n=r.bind(this,t);this.listeners[t].push({event:e,listener:n}),i.addEventListener(e,n)}},e.removeBufferListeners=function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))},t}(),wn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Cn=function(t){var e=t;return wn.hasOwnProperty(t)&&(e=wn[t]),String.fromCharCode(e)},_n=15,Pn=100,xn={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Fn={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Mn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},On={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Nn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Un=function(){function t(){this.time=null,this.verboseLevel=0}return t.prototype.log=function(t,e){if(this.verboseLevel>=t){var r="function"==typeof e?e():e;w.log(this.time+" ["+t+"] "+r)}},t}(),Bn=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},Gn=function(){function t(t,e,r,i,n){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=r||!1,this.background=i||"black",this.flash=n||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(this[i]=t[i])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Kn=function(){function t(t,e,r,i,n,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new Gn(e,r,i,n,a)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Hn=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<Pn;e++)this.chars.push(new Kn);this.logger=t,this.pos=0,this.currPenState=new Gn}var e=t.prototype;return e.equals=function(t){for(var e=!0,r=0;r<Pn;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<Pn;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<Pn;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Pn&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Pn)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){var e=this;t>=144&&this.backSpace();var r=Cn(t);this.pos>=Pn?this.logger.log(0,(function(){return"Cannot insert "+t.toString(16)+" ("+r+") at position "+e.pos+". Skipping it!"})):(this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<Pn;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,r=0;r<Pn;r++){var i=this.chars[r].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),Vn=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<_n;e++)this.rows.push(new Hn(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<_n;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,r=0;r<_n;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<_n;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<_n;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(t)}));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<_n;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var a=n.rows[i].cueStartTime,s=this.logger.time;if(a&&null!==s&&a<s)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(n.rows[i+o])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,h=Math.max(u-1,0);l.setCursor(t.indent),t.color=l.chars[h].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(t)})),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){var t=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return t.getDisplayText()}));var e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],r="",i=-1,n=0;n<_n;n++){var a=this.rows[n].getTextString();a&&(i=n+1,t?e.push("Row "+i+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},e.getTextAndFormat=function(){return this.rows},t}(),Yn=function(){function t(t,e,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Vn(r),this.nonDisplayedMemory=new Vn(r),this.lastOutputScreen=new Vn(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(function(){return"MODE="+t})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=this,r=0;r<t.length;r++)this.writeScreen.insertChar(t[r]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return i+": "+e.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+e.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){var t=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+t.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),Wn=function(){function t(t,e,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new Un;this.channels=[null,new Yn(t,e,i),new Yn(t+1,r,i)],this.cmdHistory={a:null,b:null},this.logger=i}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var r,i,n,a=!1;this.logger.time=t;for(var s=0;s<e.length;s+=2)if(i=127&e[s],n=127&e[s+1],0!==i||0!==n){if(this.logger.log(3,"["+Bn([e[s],e[s+1]])+"] -> ("+Bn([i,n])+")"),(r=this.parseCmd(i,n))||(r=this.parseMidrow(i,n)),r||(r=this.parsePAC(i,n)),r||(r=this.parseBackgroundAttributes(i,n)),!r&&(a=this.parseChars(i,n))){var o=this.currentChannel;o&&o>0?this.channels[o].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(2,"Couldn't parse cleaned data "+Bn([i,n])+" orig: "+Bn([e[s],e[s+1]]))}},e.parseCmd=function(t,e){var r=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(qn(t,e,r))return jn(null,null,r),this.logger.log(3,"Repeated command ("+Bn([t,e])+") is dropped"),!0;var i=20===t||21===t||23===t?1:2,n=this.channels[i];return 20===t||21===t||28===t||29===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),jn(t,e,r),this.currentChannel=i,!0},e.parseMidrow=function(t,e){var r=0;if((17===t||25===t)&&e>=32&&e<=47){if((r=17===t?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var i=this.channels[r];return!!i&&(i.ccMIDROW(e),this.logger.log(3,"MIDROW ("+Bn([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var r,i=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(qn(t,e,i))return jn(null,null,i),!0;var n=t<=23?1:2;r=e>=64&&e<=95?1===n?xn[t]:Mn[t]:1===n?Fn[t]:On[t];var a=this.channels[n];return!!a&&(a.setPAC(this.interpretPAC(r,e)),jn(t,e,i),this.currentChannel=n,!0)},e.interpretPAC=function(t,e){var r,i={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},e.parseChars=function(t,e){var r,i,n=null,a=null;if(t>=25?(r=2,a=t-8):(r=1,a=t),a>=17&&a<=19?(i=17===a?e+80:18===a?e+112:e+144,this.logger.log(2,"Special char '"+Cn(i)+"' in channel "+r),n=[i]):t>=32&&t<=127&&(n=0===e?[t]:[t,e]),n){var s=Bn(n);this.logger.log(3,"Char codes =  "+s.join(",")),jn(t,e,this.cmdHistory)}return n},e.parseBackgroundAttributes=function(t,e){var r;if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;var i={};16===t||24===t?(r=Math.floor((e-32)/2),i.background=Nn[r],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0));var n=t<=23?1:2;return this.channels[n].setBkgData(i),jn(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var r=this.channels[e];r&&r.cueSplitAtTime(t)}},t}();function jn(t,e,r){r.a=t,r.b=e}function qn(t,e,r){return r.a===t&&r.b===e}var Xn=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[],this.startTime=null},t}(),zn=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function r(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;var r=e.toLowerCase();return!!~t.indexOf(r)&&r}function i(t){return r(e,t)}function n(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)t[s]=a[s]}return t}function a(e,a,s){var o=this,l={enumerable:!0};o.hasBeenReset=!1;var u="",h=!1,d=e,c=a,f=s,g=null,v="",m=!0,p="auto",y="start",T=50,E="middle",S=50,L="middle";Object.defineProperty(o,"id",n({},l,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(o,"pauseOnExit",n({},l,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(o,"startTime",n({},l,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},l,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},l,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},l,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},l,{get:function(){return v},set:function(e){var i=function(e){return r(t,e)}(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");v=i,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},l,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},l,{get:function(){return p},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},l,{get:function(){return y},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},l,{get:function(){return T},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},l,{get:function(){return E},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},l,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},l,{get:function(){return L},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");L=e,this.hasBeenReset=!0}})),o.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}(),Qn=function(){function t(){}return t.prototype.decode=function(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))},t}();function $n(t){function e(t,e,r,i){return 3600*(0|t)+60*(0|e)+(0|r)+parseFloat(i||0)}var r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}var Jn=function(){function t(){this.values=Object.create(null)}var e=t.prototype;return e.set=function(t,e){this.get(t)||""===e||(this.values[t]=e)},e.get=function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},e.has=function(t){return t in this.values},e.alt=function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},e.integer=function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},e.percent=function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var r=parseFloat(e);if(r>=0&&r<=100)return this.set(t,r),!0}return!1},t}();function Zn(t,e,r,i){var n=i?t.split(i):[t];for(var a in n)if("string"==typeof n[a]){var s=n[a].split(r);2===s.length&&e(s[0],s[1])}}var ta=new zn(0,0,""),ea="middle"===ta.align?"middle":"center";function ra(t,e,r){var i=t;function n(){var e=$n(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.slice(3),a(),e.endTime=n(),a(),function(t,e){var i=new Jn;Zn(t,(function(t,e){var n;switch(t){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===e){i.set(t,r[a].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":n=e.split(","),i.integer(t,n[0]),i.percent(t,n[0])&&i.set("snapToLines",!1),i.alt(t,n[0],["auto"]),2===n.length&&i.alt("lineAlign",n[1],["start",ea,"end"]);break;case"position":n=e.split(","),i.percent(t,n[0]),2===n.length&&i.alt("positionAlign",n[1],["start",ea,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",ea,"end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var n=i.get("line","auto");"auto"===n&&-1===ta.line&&(n=-1),e.line=n,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",ea);var a=i.get("position","auto");"auto"===a&&50===ta.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function ia(t){return t.replace(/<br(?: \/)?>/gi,"\n")}var na=function(){function t(){this.state="INITIAL",this.buffer="",this.decoder=new Qn,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var e=t.prototype;return e.parse=function(t){var e=this;function r(){var t=e.buffer,r=0;for(t=ia(t);r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;var i=t.slice(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.slice(r),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var n=(i=r()).match(/^(茂禄驴)?WEBVTT([ \t].*)?$/);if(null==n||!n[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:i=r(),e.state){case"HEADER":/:/.test(i)?Zn(i,(function(t,e){}),/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new zn(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{ra(i,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},e.flush=function(){var t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this},t}(),aa=/\r\n|\n\r|\n|\r/g,sa=function(t,e,r){return void 0===r&&(r=0),t.slice(r,r+e.length)===e},oa=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()};function la(t,e,r){return oa(t.toString())+oa(e.toString())+oa(r)}function ua(t,e,r,i,n,a,s){var o,l,u,h=new na,d=pt(new Uint8Array(t)).trim().replace(aa,"\n").split("\n"),c=[],f=e?(o=e.baseTime,void 0===(l=e.timescale)&&(l=1),Ui(o,9e4,1/l)):0,g="00:00.000",v=0,m=0,p=!0;h.oncue=function(t){var a=r[i],s=r.ccOffset,o=(v-f)/9e4;if(null!=a&&a.new&&(void 0!==m?s=r.ccOffset=a.start:function(t,e,r){var i=t[e],n=t[i.prevCC];if(!n||!n.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;null!=(a=n)&&a.new;){var a;t.ccOffset+=i.start-n.start,i.new=!1,n=t[(i=n).prevCC]}t.presentationOffset=r}(r,i,o)),o){if(!e)return void(u=new Error("Missing initPTS for VTT MPEGTS"));s=o-r.presentationOffset}var l=t.endTime-t.startTime,h=Vi(9e4*(t.startTime+s-m),9e4*n)/9e4;t.startTime=Math.max(h,0),t.endTime=Math.max(h+l,0);var d=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(d)),t.id||(t.id=la(t.startTime,t.endTime,d)),t.endTime>0&&c.push(t)},h.onparsingerror=function(t){u=t},h.onflush=function(){u?s(u):a(c)},d.forEach((function(t){if(p){if(sa(t,"X-TIMESTAMP-MAP=")){p=!1,t.slice(16).split(",").forEach((function(t){sa(t,"LOCAL:")?g=t.slice(6):sa(t,"MPEGTS:")&&(v=parseInt(t.slice(7)))}));try{m=function(t){var e=parseInt(t.slice(-3)),r=parseInt(t.slice(-6,-4)),i=parseInt(t.slice(-9,-7)),n=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(E(e)&&E(r)&&E(i)&&E(n)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*r,(e+=6e4*i)+36e5*n}(g)/1e3}catch(t){u=t}return}""===t&&(p=!1)}h.parse(t+"\n")})),h.flush()}var ha="stpp.ttml.im1t",da=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ca=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,fa={left:"start",center:"center",right:"end",start:"start",end:"end"};function ga(t,e,r,i){var n=It(new Uint8Array(t),["mdat"]);if(0!==n.length){var a,s,l,u,h=n.map((function(t){return pt(t)})),d=(a=e.baseTime,s=1,void 0===(l=e.timescale)&&(l=1),void 0===u&&(u=!1),Ui(a,s,1/l,u));try{h.forEach((function(t){return r(function(t,e){var r=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},n=Object.keys(i).reduce((function(t,e){return t[e]=r.getAttribute("ttp:"+e)||i[e],t}),{}),a="preserve"!==r.getAttribute("xml:space"),s=ma(va(r,"styling","style")),l=ma(va(r,"layout","region")),u=va(r,"body","[begin]");return[].map.call(u,(function(t){var r=pa(t,a);if(!r||!t.hasAttribute("begin"))return null;var i=Ea(t.getAttribute("begin"),n),u=Ea(t.getAttribute("dur"),n),h=Ea(t.getAttribute("end"),n);if(null===i)throw Ta(t);if(null===h){if(null===u)throw Ta(t);h=i+u}var d=new zn(i-e,h-e,r);d.id=la(d.startTime,d.endTime,d.text);var c=function(t,e,r){var i="http://www.w3.org/ns/ttml#styling",n=null,a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;return s&&r.hasOwnProperty(s)&&(n=r[s]),a.reduce((function(r,a){var s=ya(e,i,a)||ya(t,i,a)||ya(n,i,a);return s&&(r[a]=s),r}),{})}(l[t.getAttribute("region")],s[t.getAttribute("style")],s),f=c.textAlign;if(f){var g=fa[f];g&&(d.lineAlign=g),d.align=f}return o(d,c),d})).filter((function(t){return null!==t}))}(t,d))}))}catch(t){i(t)}}else i(new Error("Could not parse IMSC1 mdat"))}function va(t,e,r){var i=t.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(r)):[]}function ma(t){return t.reduce((function(t,e){var r=e.getAttribute("xml:id");return r&&(t[r]=e),t}),{})}function pa(t,e){return[].slice.call(t.childNodes).reduce((function(t,r,i){var n;return"br"===r.nodeName&&i?t+"\n":null!=(n=r.childNodes)&&n.length?pa(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent}),"")}function ya(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function Ta(t){return new Error("Could not parse ttml timestamp "+t)}function Ea(t,e){if(!t)return null;var r=$n(t);return null===r&&(da.test(t)?r=function(t,e){var r=da.exec(t),i=(0|r[4])+(0|r[5])/e.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+i/e.frameRate}(t,e):ca.test(t)&&(r=function(t,e){var r=ca.exec(t),i=Number(r[1]);switch(r[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}(t,e))),r}var Sa=function(){function t(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var e=new Xn(this,"textTrack1"),r=new Xn(this,"textTrack2"),i=new Xn(this,"textTrack3"),n=new Xn(this,"textTrack4");this.cea608Parser1=new Wn(1,e,r),this.cea608Parser2=new Wn(3,i,n)}t.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(S.FRAG_LOADING,this.onFragLoading,this),t.on(S.FRAG_LOADED,this.onFragLoaded,this),t.on(S.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(S.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(S.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(S.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(S.BUFFER_FLUSHING,this.onBufferFlushing,this)}var e=t.prototype;return e.destroy=function(){var t=this.hls;t.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(S.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(S.FRAG_LOADING,this.onFragLoading,this),t.off(S.FRAG_LOADED,this.onFragLoaded,this),t.off(S.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(S.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(S.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(S.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(S.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},e.addCues=function(t,e,r,i,n){for(var a,s,o,l,u=!1,h=n.length;h--;){var d=n[h],c=(a=d[0],s=d[1],o=e,l=r,Math.min(s,l)-Math.max(a,o));if(c>=0&&(d[0]=Math.min(d[0],e),d[1]=Math.max(d[1],r),u=!0,c/(r-e)>.5))return}if(u||n.push([e,r]),this.config.renderTextTracksNatively){var f=this.captionsTracks[t];this.Cues.newCue(f,e,r,i)}else{var g=this.Cues.newCue(null,e,r,i);this.hls.trigger(S.CUES_PARSED,{type:"captions",cues:g,track:t})}},e.onInitPtsFound=function(t,e){var r=this,i=e.frag,n=e.id,a=e.initPTS,s=e.timescale,o=this.unparsedVttFrags;"main"===n&&(this.initPTS[i.cc]={baseTime:a,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach((function(t){r.onFragLoaded(S.FRAG_LOADED,t)})))},e.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var i=e.textTracks[r];if(i[t])return i}return null},e.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},e.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,r=this.captionsTracks,i=this.media,n=e[t],a=n.label,s=n.languageCode,o=this.getExistingTrack(t);if(o)r[t]=o,Le(r[t]),Ee(r[t],i);else{var l=this.createTextTrack("captions",a,s);l&&(l[t]=!0,r[t]=l)}}},e.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var r={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=r,this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},e.createTextTrack=function(t,e,r){var i=this.media;if(i)return i.addTextTrack(t,e,r)},e.onMediaAttaching=function(t,e){this.media=e.media,this._cleanTracks()},e.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){Le(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}},e.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},e._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)Le(e[r])}},e.onSubtitleTracksUpdated=function(t,e){var r=this,i=e.subtitleTracks||[],n=i.some((function(t){return t.textCodec===ha}));if(this.config.enableWebVTT||n&&this.config.enableIMSC1){if(Tn(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){var a=this.media?this.media.textTracks:null;this.tracks.forEach((function(t,e){var i;if(a&&e<a.length){for(var n=null,s=0;s<a.length;s++)if(La(a[s],t)){n=a[s];break}n&&(i=n)}if(i)Le(i);else{var o=r._captionsOrSubtitlesFromCharacteristics(t);(i=r.createTextTrack(o,t.name,t.lang))&&(i.mode="disabled")}i&&(i.groupId=t.groupId,r.textTracks.push(i))}))}else if(this.tracks.length){var s=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}},e._captionsOrSubtitlesFromCharacteristics=function(t){if(t.attrs.CHARACTERISTICS){var e=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),r=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(e&&r)return"captions"}return"subtitles"},e.onManifestLoaded=function(t,e){var r=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var i="textTrack"+e[1],n=r.captionsProperties[i];n&&(n.label=t.name,t.lang&&(n.languageCode=t.lang),n.media=t)}}))},e.closedCaptionsForLevel=function(t){var e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]},e.onFragLoading=function(t,e){var r=this.cea608Parser1,i=this.cea608Parser2,n=this.lastSn,a=this.lastPartIndex;if(this.enabled&&r&&i&&e.frag.type===ge){var s,o,l=e.frag.sn,u=null!=(s=null==e||null==(o=e.part)?void 0:o.index)?s:-1;l===n+1||l===n&&u===a+1||(r.reset(),i.reset()),this.lastSn=l,this.lastPartIndex=u}},e.onFragLoaded=function(t,e){var r=e.frag,i=e.payload;if(r.type===me)if(i.byteLength){var n=r.decryptdata,a="stats"in e;if(null==n||!n.encrypted||a){var s=this.tracks[r.level],o=this.vttCCs;o[r.cc]||(o[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),s&&s.textCodec===ha?this._parseIMSC1(r,i):this._parseVTTs(e)}}else this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},e._parseIMSC1=function(t,e){var r=this,i=this.hls;ga(e,this.initPTS[t.cc],(function(e){r._appendCues(e,t.level),i.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){w.log("Failed to parse IMSC1: "+e),i.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))},e._parseVTTs=function(t){var e,r=this,i=t.frag,n=t.payload,a=this.initPTS,s=this.unparsedVttFrags,o=a.length-1;if(a[i.cc]||-1!==o){var l=this.hls;ua(null!=(e=i.initSegment)&&e.data?xt(i.initSegment.data,new Uint8Array(n)):n,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,(function(t){r._appendCues(t,i.level),l.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})}),(function(e){var a="Missing initPTS for VTT MPEGTS"===e.message;a?s.push(t):r._fallbackToIMSC1(i,n),w.log("Failed to parse VTT cue: "+e),a&&o>i.cc||l.trigger(S.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:e})}))}else s.push(t)},e._fallbackToIMSC1=function(t,e){var r=this,i=this.tracks[t.level];i.textCodec||ga(e,this.initPTS[t.cc],(function(){i.textCodec=ha,r._parseIMSC1(t,e)}),(function(){i.textCodec="wvtt"}))},e._appendCues=function(t,e){var r=this.hls;if(this.config.renderTextTracksNatively){var i=this.textTracks[e];if(!i||"disabled"===i.mode)return;t.forEach((function(t){return Se(i,t)}))}else{var n=this.tracks[e];if(!n)return;var a=n.default?"default":"subtitles"+e;r.trigger(S.CUES_PARSED,{type:"subtitles",cues:t,track:a})}},e.onFragDecrypted=function(t,e){e.frag.type===me&&this.onFragLoaded(S.FRAG_LOADED,e)},e.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},e.onFragParsingUserdata=function(t,e){var r=this.cea608Parser1,i=this.cea608Parser2;if(this.enabled&&r&&i){var n=e.frag,a=e.samples;if(n.type!==ge||"NONE"!==this.closedCaptionsForLevel(n))for(var s=0;s<a.length;s++){var o=a[s].bytes;if(o){var l=this.extractCea608Data(o);r.addData(a[s].pts,l[0]),i.addData(a[s].pts,l[1])}}}},e.onBufferFlushing=function(t,e){var r=e.startOffset,i=e.endOffset,n=e.endOffsetSubtitles,a=e.type,s=this.media;if(s&&!(s.currentTime<i)){if(!a||"video"===a){var o=this.captionsTracks;Object.keys(o).forEach((function(t){return Re(o[t],r,i)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==n){var l=this.textTracks;Object.keys(l).forEach((function(t){return Re(l[t],r,n)}))}}},e.extractCea608Data=function(t){for(var e=[[],[]],r=31&t[0],i=2,n=0;n<r;n++){var a=t[i++],s=127&t[i++],o=127&t[i++];if((0!==s||0!==o)&&0!=(4&a)){var l=3&a;0!==l&&1!==l||(e[l].push(s),e[l].push(o))}}return e},t}();function La(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var Ra=function(){function t(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},e.registerListeners=function(){var t=this.hls;t.on(S.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(S.MANIFEST_PARSED,this.onManifestParsed,this),t.on(S.BUFFER_CODECS,this.onBufferCodecs,this),t.on(S.MEDIA_DETACHING,this.onMediaDetaching,this)},e.unregisterListener=function(){var t=this.hls;t.off(S.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(S.MANIFEST_PARSED,this.onManifestParsed,this),t.off(S.BUFFER_CODECS,this.onBufferCodecs,this),t.off(S.MEDIA_DETACHING,this.onMediaDetaching,this)},e.onFpsDropLevelCapping=function(t,e){var r=this.hls.levels[e.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})},e.onMediaAttaching=function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null},e.onManifestParsed=function(t,e){var r=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,r.config.capLevelToPlayerSize&&e.video&&this.startCapping()},e.onBufferCodecs=function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},e.onMediaDetaching=function(){this.stopCapping()},e.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.getMaxLevel=function(e){var r=this,i=this.hls.levels;if(!i.length)return-1;var n=i.filter((function(t,i){return r.isLevelAllowed(t)&&i<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},e.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},e.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var r=t.getBoundingClientRect();e.width=r.width,e.height=r.height,e.width||e.height||(e.width=r.right-r.left||t.width||0,e.height=r.bottom-r.top||t.height||0)}return this.clientRect=e,e},e.isLevelAllowed=function(t){return!this.restrictedLevels.some((function(e){return t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height}))},t.getMaxLevelByMediaSize=function(t,e,r){if(null==t||!t.length)return-1;for(var i,n,a=t.length-1,s=0;s<t.length;s+=1){var o=t[s];if((o.width>=e||o.height>=r)&&(i=o,!(n=t[s+1])||i.width!==n.width||i.height!==n.height)){a=s;break}}return a},a(t,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return t}}]),t}(),Aa=function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.registerListeners=function(){this.hls.on(S.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.unregisterListeners=function(){this.hls.off(S.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},e.onMediaAttaching=function(t,e){var r=this.hls.config;if(r.capLevelOnFPSDrop){var i=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=i,i&&"function"==typeof i.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},e.checkFPS=function(t,e,r){var i=performance.now();if(e){if(this.lastTime){var n=i-this.lastTime,a=r-this.lastDroppedFrames,s=e-this.lastDecodedFrames,o=1e3*a/n,l=this.hls;if(l.trigger(S.FPS_DROP,{currentDropped:a,currentDecoded:s,totalDroppedFrames:r}),o>0&&a>l.config.fpsDroppedMonitoringThreshold*s){var u=l.currentLevel;w.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(S.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t}(),ka="[eme]",ba=function(){function t(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=t.CDMCleanupPromise?[t.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=w.debug.bind(w,ka),this.log=w.log.bind(w,ka),this.warn=w.warn.bind(w,ka),this.error=w.error.bind(w,ka),this.hls=e,this.config=e.config,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.unregisterListeners(),this.onMediaDetached();var t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null},e.registerListeners=function(){this.hls.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(S.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(S.MANIFEST_LOADED,this.onManifestLoaded,this)},e.unregisterListeners=function(){this.hls.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(S.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(S.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(S.MANIFEST_LOADED,this.onManifestLoaded,this)},e.getLicenseServerUrl=function(t){var e=this.config,r=e.drmSystems,i=e.widevineLicenseUrl,n=r[t];if(n)return n.licenseUrl;if(t===j.WIDEVINE&&i)return i;throw new Error('no license server URL configured for key-system "'+t+'"')},e.getServerCertificateUrl=function(t){var e=this.config.drmSystems[t];if(e)return e.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+t+'"]')},e.attemptKeySystemAccess=function(t){var e=this,r=this.hls.levels,i=function(t,e,r){return!!t&&r.indexOf(t)===e},n=r.map((function(t){return t.audioCodec})).filter(i),a=r.map((function(t){return t.videoCodec})).filter(i);return n.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(r,i){!function t(s){var o=s.shift();e.getMediaKeysPromise(o,n,a).then((function(t){return r({keySystem:o,mediaKeys:t})})).catch((function(e){s.length?t(s):i(e instanceof Da?e:new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))}(t)}))},e.requestMediaKeySystemAccess=function(t,e){var r=this.config.requestMediaKeySystemAccessFunc;if("function"!=typeof r){var i="Configured requestMediaKeySystemAccess is not a function "+r;return null===et&&"http:"===self.location.protocol&&(i="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(i))}return r(t,e)},e.getMediaKeysPromise=function(t,e,r){var i=this,n=function(t,e,r,i){var n;switch(t){case j.FAIRPLAY:n=["cenc","sinf"];break;case j.WIDEVINE:case j.PLAYREADY:n=["cenc"];break;case j.CLEARKEY:n=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+t)}return function(t,e,r,i){return[{initDataTypes:t,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map((function(t){return{contentType:'audio/mp4; codecs="'+t+'"',robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null}})),videoCapabilities:r.map((function(t){return{contentType:'video/mp4; codecs="'+t+'"',robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}}))}]}(n,e,r,i)}(t,e,r,this.config.drmSystemOptions),a=this.keySystemAccessPromises[t],s=null==a?void 0:a.keySystemAccess;if(!s){this.log('Requesting encrypted media "'+t+'" key-system access with config: '+JSON.stringify(n)),s=this.requestMediaKeySystemAccess(t,n);var o=this.keySystemAccessPromises[t]={keySystemAccess:s};return s.catch((function(e){i.log('Failed to obtain access to key-system "'+t+'": '+e)})),s.then((function(e){i.log('Access for key-system "'+e.keySystem+'" obtained');var r=i.fetchServerCertificate(t);return i.log('Create media-keys for "'+t+'"'),o.mediaKeys=e.createMediaKeys().then((function(e){return i.log('Media-keys created for "'+t+'"'),r.then((function(r){return r?i.setMediaKeysServerCertificate(e,t,r):e}))})),o.mediaKeys.catch((function(e){i.error('Failed to create media-keys for "'+t+'"}: '+e)})),o.mediaKeys}))}return s.then((function(){return a.mediaKeys}))},e.createMediaKeySessionContext=function(t){var e=t.decryptdata,r=t.keySystem,i=t.mediaKeys;this.log('Creating key-system session "'+r+'" keyId: '+Tt(e.keyId||[]));var n=i.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:i,mediaKeysSession:n,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a},e.renewKeySession=function(t){var e=t.decryptdata;if(e.pssh){var r=this.createMediaKeySessionContext(t),i=this.getKeyIdString(e);this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,"cenc",e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)},e.getKeyIdString=function(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return Tt(t.keyId)},e.updateKeySession=function(t,e){var r,i=t.mediaKeysSession;return this.log('Updating key-session "'+i.sessionId+'" for keyID '+Tt((null==(r=t.decryptdata)?void 0:r.keyId)||[])+"\n      } (data length: "+(e?e.byteLength:e)+")"),i.update(e)},e.selectKeySystemFormat=function(t){var e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+t.sn+" "+t.type+": "+t.level+") key formats "+e.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise},e.getKeyFormatPromise=function(t){var e=this;return new Promise((function(r,i){var n=tt(e.config),a=t.map($).filter((function(t){return!!t&&-1!==n.indexOf(t)}));return e.getKeySystemSelectionPromise(a).then((function(t){var e=t.keySystem,n=Z(e);n?r(n):i(new Error('Unable to find format for key-system "'+e+'"'))})).catch(i)}))},e.loadKey=function(t){var e=this,r=t.keyInfo.decryptdata,i=this.getKeyIdString(r),n="(keyId: "+i+' format: "'+r.keyFormat+'" method: '+r.method+" uri: "+r.uri+")";this.log("Starting session for key "+n);var a=this.keyIdToKeySessionPromise[i];return a||(a=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(r).then((function(i){var a=i.keySystem,s=i.mediaKeys;return e.throwIfDestroyed(),e.log("Handle encrypted media sn: "+t.frag.sn+" "+t.frag.type+": "+t.frag.level+" using key "+n),e.attemptSetMediaKeys(a,s).then((function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({keySystem:a,mediaKeys:s,decryptdata:r});return e.generateRequestWithPreferredKeySession(t,"cenc",r.pssh,"playlist-key")}))}))).catch((function(t){return e.handleError(t)})),a},e.throwIfDestroyed=function(t){if(!this.hls)throw new Error("invalid state")},e.handleError=function(t){this.hls&&(this.error(t.message),t instanceof Da?this.hls.trigger(S.ERROR,t.data):this.hls.trigger(S.ERROR,{type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))},e.getKeySystemForKeyPromise=function(t){var e=this.getKeyIdString(t),r=this.keyIdToKeySessionPromise[e];if(!r){var i=$(t.keyFormat),n=i?[i]:tt(this.config);return this.attemptKeySystemAccess(n)}return r},e.getKeySystemSelectionPromise=function(t){if(t.length||(t=tt(this.config)),0===t.length)throw new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(t)},e._onMediaEncrypted=function(t){var e=this,r=t.initDataType,i=t.initData;if(this.debug('"'+t.type+'" event: init data type: "'+r+'"'),null!==i){var n,a;if("sinf"===r&&this.config.drmSystems[j.FAIRPLAY]){var s=Rt(new Uint8Array(i));try{var o=V(JSON.parse(s).sinf),l=_t(new Uint8Array(o));if(!l)return;n=l.subarray(8,24),a=j.FAIRPLAY}catch(t){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;var e={version:0,systemId:"",kids:null,data:null},r=new DataView(t),i=r.getUint32(0);if(t.byteLength!==i&&i>44)return null;if(1886614376!==r.getUint32(4))return null;if(e.version=r.getUint32(8)>>>24,e.version>1)return null;e.systemId=Tt(new Uint8Array(t,12,16));var n=r.getUint32(28);if(0===e.version){if(i-32<n)return null;e.data=new Uint8Array(t,32,n)}else if(1===e.version){e.kids=[];for(var a=0;a<n;a++)e.kids.push(new Uint8Array(t,32+16*a,16))}return e}(i);if(null===u)return;0===u.version&&u.systemId===J&&u.data&&(n=u.data.subarray(8,24)),a=function(t){if(t===J)return j.WIDEVINE}(u.systemId)}if(a&&n){for(var h=Tt(n),d=this.keyIdToKeySessionPromise,c=this.mediaKeySessions,f=d[h],g=function(){var t=c[v],a=t.decryptdata;if(a.pssh||!a.keyId)return"continue";var s=Tt(a.keyId);return h===s||-1!==a.uri.replace(/-/g,"").indexOf(h)?(f=d[s],delete d[s],a.pssh=new Uint8Array(i),a.keyId=n,f=d[h]=f.then((function(){return e.generateRequestWithPreferredKeySession(t,r,i,"encrypted-event-key-match")})),"break"):void 0},v=0;v<c.length;v++){var m=g();if("continue"!==m&&"break"===m)break}f||(f=d[h]=this.getKeySystemSelectionPromise([a]).then((function(t){var a,s=t.keySystem,o=t.mediaKeys;e.throwIfDestroyed();var l=new Gt("ISO-23001-7",h,null!=(a=Z(s))?a:"");return l.pssh=new Uint8Array(i),l.keyId=n,e.attemptSetMediaKeys(s,o).then((function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({decryptdata:l,keySystem:s,mediaKeys:o});return e.generateRequestWithPreferredKeySession(t,r,i,"encrypted-event-no-match")}))}))),f.catch((function(t){return e.handleError(t)}))}}},e._onWaitingForKey=function(t){this.log('"'+t.type+'" event')},e.attemptSetMediaKeys=function(t,e){var r=this,i=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+t+'"');var n=Promise.all(i).then((function(){if(!r.media)throw new Error("Attempted to set mediaKeys without media element attached");return r.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(n),n.then((function(){r.log('Media-keys set for "'+t+'"'),i.push(n),r.setMediaKeysQueue=r.setMediaKeysQueue.filter((function(t){return-1===i.indexOf(t)}))}))},e.generateRequestWithPreferredKeySession=function(t,e,r,i){var n,a,s=this,o=null==(n=this.config.drmSystems)||null==(a=n[t.keySystem])?void 0:a.generateRequest;if(o)try{var l=o.call(this.hls,e,r,t);if(!l)throw new Error("Invalid response from configured generateRequest filter");e=l.initDataType,r=t.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(t){var u;if(this.warn(t.message),null!=(u=this.hls)&&u.config.debug)throw t}if(null===r)return this.log('Skipping key-session request for "'+i+'" (no initData)'),Promise.resolve(t);var h=this.getKeyIdString(t.decryptdata);this.log('Generating key-session request for "'+i+'": '+h+" (init data type: "+e+" length: "+(r?r.byteLength:null)+")");var d=new an;t.mediaKeysSession.onmessage=function(e){var r=t.mediaKeysSession;if(r){var i=e.messageType,n=e.message;s.log('"'+i+'" message event for session "'+r.sessionId+'" message size: '+n.byteLength),"license-request"===i||"license-renewal"===i?s.renewLicense(t,n).catch((function(t){s.handleError(t),d.emit("error",t)})):"license-release"===i?t.keySystem===j.FAIRPLAY&&(s.updateKeySession(t,W("acknowledged")),s.removeSession(t)):s.warn('unhandled media key message type "'+i+'"')}else d.emit("error",new Error("invalid state"))},t.mediaKeysSession.onkeystatuseschange=function(e){if(t.mediaKeysSession){s.onKeyStatusChange(t);var r=t.keyStatus;d.emit("keyStatus",r),"expired"===r&&(s.warn(t.keySystem+" expired for key "+h),s.renewKeySession(t))}else d.emit("error",new Error("invalid state"))};var c=new Promise((function(t,e){d.on("error",e),d.on("keyStatus",(function(r){r.startsWith("usable")?t():"output-restricted"===r?e(new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===r?e(new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+r+'"')):"expired"===r?e(new Error("key expired while generating request")):s.warn('unhandled key status change "'+r+'"')}))}));return t.mediaKeysSession.generateRequest(e,r).then((function(){var e;s.log('Request generated for key-session "'+(null==(e=t.mediaKeysSession)?void 0:e.sessionId)+'" keyId: '+h)})).catch((function(t){throw new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},"Error generating key-session request: "+t)})).then((function(){return c})).catch((function(e){throw d.removeAllListeners(),s.removeSession(t),e})).then((function(){return d.removeAllListeners(),t}))},e.onKeyStatusChange=function(t){var e=this;t.mediaKeysSession.keyStatuses.forEach((function(r,i){e.log('key status change "'+r+'" for keyStatuses keyId: '+Tt("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))+" session keyId: "+Tt(new Uint8Array(t.decryptdata.keyId||[]))+" uri: "+t.decryptdata.uri),t.keyStatus=r}))},e.fetchServerCertificate=function(t){var e=this.config,r=new(0,e.loader)(e),n=this.getServerCertificateUrl(t);return n?(this.log('Fetching serverCertificate for "'+t+'"'),new Promise((function(a,s){var o={responseType:"arraybuffer",url:n},l=e.certLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:function(t,e,r,i){a(t.data)},onError:function(e,r,a,l){s(new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:i({url:o.url,data:void 0},e)},'"'+t+'" certificate request failed ('+n+"). Status: "+e.code+" ("+e.text+")"))},onTimeout:function(e,r,i){s(new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:o.url,data:void 0}},'"'+t+'" certificate request timed out ('+n+")"))},onAbort:function(t,e,r){s(new Error("aborted"))}};r.load(o,u,h)}))):Promise.resolve()},e.setMediaKeysServerCertificate=function(t,e,r){var i=this;return new Promise((function(n,a){t.setServerCertificate(r).then((function(a){i.log("setServerCertificate "+(a?"success":"not supported by CDM")+" ("+(null==r?void 0:r.byteLength)+') on "'+e+'"'),n(t)})).catch((function(t){a(new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))},e.renewLicense=function(t,e){var r=this;return this.requestLicense(t,new Uint8Array(e)).then((function(e){return r.updateKeySession(t,new Uint8Array(e)).catch((function(t){throw new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))}))},e.setupLicenseXHR=function(t,e,r,i){var n=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!r.decryptdata)throw new Error("Key removed");return a.call(n.hls,t,e,r,i)})).catch((function(s){if(!r.decryptdata)throw s;return t.open("POST",e,!0),a.call(n.hls,t,e,r,i)})).then((function(r){return t.readyState||t.open("POST",e,!0),{xhr:t,licenseChallenge:r||i}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:i}))},e.requestLicense=function(t,e){var r=this,i=this.config.keyLoadPolicy.default;return new Promise((function(n,a){var s=r.getLicenseServerUrl(t.keySystem);r.log("Sending license request to URL: "+s);var o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=function(){if(!r.hls||!t.mediaKeysSession)return a(new Error("invalid state"));if(4===o.readyState)if(200===o.status){r._requestLicenseFailureCount=0;var l=o.response;r.log("License received "+(l instanceof ArrayBuffer?l.byteLength:l));var u=r.config.licenseResponseCallback;if(u)try{l=u.call(r.hls,o,s,t)}catch(t){r.error(t)}n(l)}else{var h=i.errorRetry,d=h?h.maxNumRetry:0;if(r._requestLicenseFailureCount++,r._requestLicenseFailureCount>d||o.status>=400&&o.status<500)a(new Da({type:L.KEY_SYSTEM_ERROR,details:R.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},"License Request XHR failed ("+s+"). Status: "+o.status+" ("+o.statusText+")"));else{var c=d-r._requestLicenseFailureCount+1;r.warn("Retrying license request, "+c+" attempts left"),r.requestLicense(t,e).then(n,a)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=o,r.setupLicenseXHR(o,s,t,e).then((function(t){var e=t.xhr,r=t.licenseChallenge;e.send(r)}))}))},e.onMediaAttached=function(t,e){if(this.config.emeEnabled){var r=e.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}},e.onMediaDetached=function(){var e=this,r=this.media,i=this.mediaKeySessions;r&&(r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Gt.clearKeyUriToKeyIdMap();var n=i.length;t.CDMCleanupPromise=Promise.all(i.map((function(t){return e.removeSession(t)})).concat(null==r?void 0:r.setMediaKeys(null).catch((function(t){e.log("Could not clear media keys: "+t+". media.src: "+(null==r?void 0:r.src))})))).then((function(){n&&(e.log("finished closing key sessions and clearing media keys"),i.length=0)})).catch((function(t){e.log("Could not close sessions and clear media keys: "+t+". media.src: "+(null==r?void 0:r.src))}))},e.onManifestLoading=function(){this.keyFormatPromise=null},e.onManifestLoaded=function(t,e){var r=e.sessionKeys;if(r&&this.config.emeEnabled&&!this.keyFormatPromise){var i=r.reduce((function(t,e){return-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t}),[]);this.log("Selecting key-system from session-keys "+i.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(i)}},e.removeSession=function(t){var e=this,r=t.mediaKeysSession,i=t.licenseXhr;if(r){this.log("Remove licenses and keys and close session "+r.sessionId),r.onmessage=null,r.onkeystatuseschange=null,i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;var n=this.mediaKeySessions.indexOf(t);return n>-1&&this.mediaKeySessions.splice(n,1),r.remove().catch((function(t){e.log("Could not remove session: "+t)})).then((function(){return r.close()})).catch((function(t){e.log("Could not close session: "+t)}))}},t}();ba.CDMCleanupPromise=void 0;var Da=function(t){function e(e,r){var i;return(i=t.call(this,r)||this).data=void 0,e.error||(e.error=new Error(r)),i.data=e,e.err=e.error,i}return l(e,t),e}(f(Error)),Ia="m",wa="a",Ca="v",_a="av",Pa="i",xa="tt",Fa=function(){function t(e){var r=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(t){try{r.apply(t,{ot:Ia,su:!r.initialized})}catch(t){w.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(t){try{var e=t.frag,i=r.hls.levels[e.level],n=r.getObjectType(e),a={d:1e3*e.duration,ot:n};n!==Ca&&n!==wa&&n!=_a||(a.br=i.bitrate/1e3,a.tb=r.getTopBandwidth(n)/1e3,a.bl=r.getBufferLength(n)),r.apply(t,a)}catch(t){w.warn("Could not generate segment CMCD data.",t)}},this.hls=e;var i=this.config=e.config,n=i.cmcd;null!=n&&(i.pLoader=this.createPlaylistLoader(),i.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||t.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(S.MEDIA_DETACHED,this.onMediaDetached,this),t.on(S.BUFFER_CREATED,this.onBufferCreated,this)},e.unregisterListeners=function(){var t=this.hls;t.off(S.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(S.MEDIA_DETACHED,this.onMediaDetached,this),t.off(S.BUFFER_CREATED,this.onBufferCreated,this)},e.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},e.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},e.onBufferCreated=function(t,e){var r,i;this.audioBuffer=null==(r=e.tracks.audio)?void 0:r.buffer,this.videoBuffer=null==(i=e.tracks.video)?void 0:i.buffer},e.createData=function(){var t;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},e.apply=function(e,r){void 0===r&&(r={}),o(r,this.createData());var i=r.ot===Pa||r.ot===Ca||r.ot===_a;if(this.starved&&i&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var n=t.toHeaders(r);if(!Object.keys(n).length)return;e.headers||(e.headers={}),o(e.headers,n)}else{var a=t.toQuery(r);if(!a)return;e.url=t.appendQueryToUri(e.url,a)}},e.getObjectType=function(t){var e=t.type;return"subtitle"===e?xa:"initSegment"===t.sn?Pa:"audio"===e?wa:"main"===e?this.hls.audioTracks.length?Ca:_a:void 0},e.getTopBandwidth=function(t){var e,r=0,i=this.hls;if(t===wa)e=i.audioTracks;else{var n=i.maxAutoLevel,a=n>-1?n+1:i.levels.length;e=i.levels.slice(0,a)}for(var s,o=v(e);!(s=o()).done;){var l=s.value;l.bitrate>r&&(r=l.bitrate)}return r>0?r:NaN},e.getBufferLength=function(t){var e=this.hls.media,r=t===wa?this.audioBuffer:this.videoBuffer;return r&&e?1e3*Ir.bufferInfo(r,e.currentTime,this.config.maxBufferHole).len:NaN},e.createPlaylistLoader=function(){var t=this.config.pLoader,e=this.applyPlaylistData,r=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new r(t)}var i=t.prototype;return i.destroy=function(){this.loader.destroy()},i.abort=function(){this.loader.abort()},i.load=function(t,r,i){e(t),this.loader.load(t,r,i)},a(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},e.createFragmentLoader=function(){var t=this.config.fLoader,e=this.applyFragmentData,r=t||this.config.loader;return function(){function t(t){this.loader=void 0,this.loader=new r(t)}var i=t.prototype;return i.destroy=function(){this.loader.destroy()},i.abort=function(){this.loader.abort()},i.load=function(t,r,i){e(t),this.loader.load(t,r,i)},a(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t}()},t.uuid=function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)},t.serialize=function(t){for(var e,r=[],i=function(t){return!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t},n=function(t){return Math.round(t)},a=function(t){return 100*n(t/100)},s={br:n,d:n,bl:a,dl:a,mtp:a,nor:function(t){return encodeURIComponent(t)},rtp:a,tb:n},o=v(Object.keys(t||{}).sort());!(e=o()).done;){var l=e.value,u=t[l];if(i(u)&&!("v"===l&&1===u||"pr"==l&&1===u)){var h=s[l];h&&(u=h(u));var d=typeof u,c=void 0;c="ot"===l||"sf"===l||"st"===l?l+"="+u:"boolean"===d?l:"number"===d?l+"="+u:l+"="+JSON.stringify(u),r.push(c)}}return r.join(",")},t.toHeaders=function(e){for(var r={},i=["Object","Request","Session","Status"],n=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,o=Object.keys(e);s<o.length;s++){var l=o[s];n[null!=a[l]?a[l]:1][l]=e[l]}for(var u=0;u<n.length;u++){var h=t.serialize(n[u]);h&&(r["CMCD-"+i[u]]=h)}return r},t.toQuery=function(e){return"CMCD="+encodeURIComponent(t.serialize(e))},t.appendQueryToUri=function(t,e){if(!e)return t;var r=t.includes("?")?"&":"?";return""+t+r+e},t}(),Ma=function(){function t(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=w.log.bind(w,"[content-steering]:"),this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(S.MANIFEST_LOADING,this.onManifestLoading,this),t.on(S.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(S.MANIFEST_PARSED,this.onManifestParsed,this),t.on(S.ERROR,this.onError,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(S.MANIFEST_LOADING,this.onManifestLoading,this),t.off(S.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(S.MANIFEST_PARSED,this.onManifestParsed,this),t.off(S.ERROR,this.onError,this))},e.startLoad=function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var t=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,t)}else this.loadSteeringManifest(this.uri)},e.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)},e.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},e.removeLevel=function(t){var e=this.levels;e&&(this.levels=e.filter((function(e){return e!==t})))},e.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},e.onManifestLoaded=function(t,e){var r=e.contentSteering;null!==r&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())},e.onManifestParsed=function(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks},e.onError=function(t,e){var r=e.errorAction;if((null==r?void 0:r.action)===ir&&r.flags===sr){var i=this.pathwayPriority,n=this.pathwayId;this.penalizedPathways[n]||(this.penalizedPathways[n]=performance.now()),!i&&this.levels&&(i=this.levels.reduce((function(t,e){return-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t}),[])),i&&i.length>1&&(this.updatePathwayPriority(i),r.resolved=this.pathwayId!==n)}},e.filterParsedLevels=function(t){this.levels=t;var e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){var r=t[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+r+'"'),e=this.getLevelsForPathway(r),this.pathwayId=r}return e.length!==t.length?(this.log("Found "+e.length+"/"+t.length+' levels in Pathway "'+this.pathwayId+'"'),e):t},e.getLevelsForPathway=function(t){return null===this.levels?[]:this.levels.filter((function(e){return t===e.pathwayId}))},e.updatePathwayPriority=function(t){var e;this.pathwayPriority=t;var r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach((function(t){i-r[t]>3e5&&delete r[t]}));for(var n=0;n<t.length;n++){var a=t[n];if(!r[a]){if(a===this.pathwayId)return;var s=this.hls.nextLoadLevel,o=this.hls.levels[s];if((e=this.getLevelsForPathway(a)).length>0){this.log('Setting Pathway to "'+a+'"'),this.pathwayId=a,this.hls.trigger(S.LEVELS_UPDATED,{levels:e});var l=this.hls.levels[s];o&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==o.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==o.bitrate&&this.log("Unstable Pathways change from bitrate "+o.bitrate+" to "+l.bitrate),this.hls.nextLoadLevel=s);break}}}},e.clonePathways=function(t){var e=this,r=this.levels;if(r){var i={},n={};t.forEach((function(t){var a=t.ID,s=t["BASE-ID"],l=t["URI-REPLACEMENT"];if(!r.some((function(t){return t.pathwayId===a}))){var u=e.getLevelsForPathway(s).map((function(t){var e=o({},t);e.details=void 0,e.url=Na(t.uri,t.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);var r=new P(t.attrs);r["PATHWAY-ID"]=a;var s=r.AUDIO&&r.AUDIO+"_clone_"+a,u=r.SUBTITLES&&r.SUBTITLES+"_clone_"+a;s&&(i[r.AUDIO]=s,r.AUDIO=s),u&&(n[r.SUBTITLES]=u,r.SUBTITLES=u),e.attrs=r;var h=new Ne(e);return dr(h,"audio",s),dr(h,"text",u),h}));r.push.apply(r,u),Oa(e.audioTracks,i,l,a),Oa(e.subtitleTracks,n,l,a)}}))}},e.loadSteeringManifest=function(t){var e,r=this,i=this.hls.config,n=i.loader;this.loader&&this.loader.destroy(),this.loader=new n(i);try{e=new self.URL(t)}catch(e){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+t)}if("data:"!==e.protocol){var a=0|(this.hls.bandwidthEstimate||i.abrEwmaDefaultEstimate);e.searchParams.set("_HLS_pathway",this.pathwayId),e.searchParams.set("_HLS_throughput",""+a)}var s={responseType:"json",url:e.href},o=i.steeringManifestLoadPolicy.default,l=o.errorRetry||o.timeoutRetry||{},u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},h={onSuccess:function(t,i,n,a){r.log('Loaded steering manifest: "'+e+'"');var s=t.data;if(1===s.VERSION){r.updated=performance.now(),r.timeToLoad=s.TTL;var o=s["RELOAD-URI"],l=s["PATHWAY-CLONES"],u=s["PATHWAY-PRIORITY"];if(o)try{r.uri=new self.URL(o,e).href}catch(t){return r.enabled=!1,void r.log("Failed to parse Steering Manifest RELOAD-URI: "+o)}r.scheduleRefresh(r.uri||n.url),l&&r.clonePathways(l),u&&r.updatePathwayPriority(u)}else r.log("Steering VERSION "+s.VERSION+" not supported!")},onError:function(t,e,i,n){if(r.log("Error loading steering manifest: "+t.code+" "+t.text+" ("+e.url+")"),r.stopLoad(),410===t.code)return r.enabled=!1,void r.log("Steering manifest "+e.url+" no longer available");var a=1e3*r.timeToLoad;if(429!==t.code)r.scheduleRefresh(r.uri||e.url,a);else{var s=r.loader;if("function"==typeof(null==s?void 0:s.getResponseHeader)){var o=s.getResponseHeader("Retry-After");o&&(a=1e3*parseFloat(o))}r.log("Steering manifest "+e.url+" rate limited")}},onTimeout:function(t,e,i){r.log("Timeout loading steering manifest ("+e.url+")"),r.scheduleRefresh(r.uri||e.url)}};this.log("Requesting steering manifest: "+e),this.loader.load(s,u,h)},e.scheduleRefresh=function(t,e){var r=this;void 0===e&&(e=1e3*this.timeToLoad),self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){r.loadSteeringManifest(t)}),e)},t}();function Oa(t,e,r,i){t&&Object.keys(e).forEach((function(n){var a=t.filter((function(t){return t.groupId===n})).map((function(t){var a=o({},t);return a.details=void 0,a.attrs=new P(a.attrs),a.url=a.attrs.URI=Na(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),a.groupId=a.attrs["GROUP-ID"]=e[n],a.attrs["PATHWAY-ID"]=i,a}));t.push.apply(t,a)}))}function Na(t,e,r,i){var n,a=i.HOST,s=i.PARAMS,o=i[r];e&&(n=null==o?void 0:o[e])&&(t=n);var l=new self.URL(t);return a&&!n&&(l.host=a),s&&Object.keys(s).sort().forEach((function(t){t&&l.searchParams.set(t,s[t])})),l.href}var Ua=/^age:\s*[\d.]+\s*$/im,Ba=function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new M,this.retryDelay=0}var e=t.prototype;return e.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},e.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},e.abort=function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},e.load=function(t,e,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=r,this.loadInternal()},e.loadInternal=function(){var t=this,e=this.config,r=this.context;if(e){var i=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0,n.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!t.stats.aborted)return a(i,r.url)})).catch((function(t){return i.open("GET",r.url,!0),a(i,r.url)})).then((function(){t.stats.aborted||t.openAndSendXhr(i,r,e)})).catch((function(e){t.callbacks.onError({code:i.status,text:e.message},r,i,n)})):this.openAndSendXhr(i,r,e)}},e.openAndSendXhr=function(t,e,r){t.readyState||t.open("GET",e.url,!0);var i=this.context.headers,n=r.loadPolicy,a=n.maxTimeToFirstByteMs,s=n.maxLoadTimeMs;if(i)for(var o in i)t.setRequestHeader(o,i[o]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),r.timeout=a&&E(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),t.send()},e.readystatechange=function(){var t=this.context,e=this.loader,r=this.stats;if(t&&e){var i=e.readyState,n=this.config;if(!r.aborted&&i>=2&&(0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),n.timeout!==n.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),n.timeout=n.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),4===i)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;var a=e.status,s="text"!==e.responseType;if(a>=200&&a<300&&(s&&e.response||null!==e.responseText)){r.loading.end=Math.max(self.performance.now(),r.loading.first);var o=s?e.response:e.responseText,l="arraybuffer"===e.responseType?o.byteLength:o.length;if(r.loaded=r.total=l,r.bwEstimate=8e3*r.total/(r.loading.end-r.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(r,t,o,e),!this.callbacks)return;var h={url:e.responseURL,data:o,code:a};this.callbacks.onSuccess(h,r,t,e)}else{var d=n.loadPolicy.errorRetry;ze(d,r.retry,!1,a)?this.retry(d):(w.error(a+" while loading "+t.url),this.callbacks.onError({code:a,text:e.statusText},t,e,r))}}}},e.loadtimeout=function(){var t,e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(ze(e,this.stats.retry,!0))this.retry(e);else{w.warn("timeout while loading "+this.context.url);var r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}},e.retry=function(t){var e=this.context,r=this.stats;this.retryDelay=qe(t,r.retry),r.retry++,w.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+e.url+", retrying "+r.retry+"/"+t.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},e.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},e.getCacheAge=function(){var t=null;if(this.loader&&Ua.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t},e.getResponseHeader=function(t){return this.loader&&new RegExp("^"+t+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null},t}(),Ga=/(\d+)-(\d+)\/(\d+)/,Ka=function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||Ha,this.controller=new self.AbortController,this.stats=new M}var e=t.prototype;return e.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},e.abortInternal=function(){var t=this.response;null!=t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},e.abort=function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},e.load=function(t,e,r){var i=this,n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();var a=function(t,e){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(o({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}(t,this.controller.signal),s=r.onProgress,l="arraybuffer"===t.responseType,u=l?"byteLength":"length",h=e.loadPolicy,d=h.maxTimeToFirstByteMs,c=h.maxLoadTimeMs;this.context=t,this.config=e,this.callbacks=r,this.request=this.fetchSetup(t,a),self.clearTimeout(this.requestTimeout),e.timeout=d&&E(d)?d:c,this.requestTimeout=self.setTimeout((function(){i.abortInternal(),r.onTimeout(n,t,i.response)}),e.timeout),self.fetch(this.request).then((function(a){i.response=i.loader=a;var o=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(i.requestTimeout),e.timeout=c,i.requestTimeout=self.setTimeout((function(){i.abortInternal(),r.onTimeout(n,t,i.response)}),c-(o-n.loading.start)),!a.ok){var u=a.status,h=a.statusText;throw new Va(h||"fetch, bad network response",u,a)}return n.loading.first=o,n.total=function(t){var e=t.get("Content-Range");if(e){var r=function(t){var e=Ga.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(E(r))return r}var i=t.get("Content-Length");if(i)return parseInt(i)}(a.headers)||n.total,s&&E(e.highWaterMark)?i.loadProgressively(a,n,t,e.highWaterMark,s):l?a.arrayBuffer():"json"===t.responseType?a.json():a.text()})).then((function(a){var o=i.response;self.clearTimeout(i.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);var l=a[u];l&&(n.loaded=n.total=l);var h={url:o.url,data:a,code:o.status};s&&!E(e.highWaterMark)&&s(n,t,a,o),r.onSuccess(h,n,t,o)})).catch((function(e){if(self.clearTimeout(i.requestTimeout),!n.aborted){var a=e&&e.code||0,s=e?e.message:null;r.onError({code:a,text:s},t,e?e.details:null,n)}}))},e.getCacheAge=function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t},e.getResponseHeader=function(t){return this.response?this.response.headers.get(t):null},e.loadProgressively=function(t,e,r,i,n){void 0===i&&(i=0);var a=new mn,s=t.body.getReader();return function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&n(e,r,a.flush(),t),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return e.loaded+=u,u<i||a.dataLength?(a.push(l),a.dataLength>=i&&n(e,r,a.flush(),t)):n(e,r,l,t),o()})).catch((function(){return Promise.reject()}))}()},t}();function Ha(t,e){return new self.Request(t.url,e)}var Va=function(t){function e(e,r,i){var n;return(n=t.call(this,e)||this).code=void 0,n.details=void 0,n.code=r,n.details=i,n}return l(e,t),e}(f(Error)),Ya=/\s/,Wa=i(i({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ba,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:vn,bufferController:In,capLevelController:Ra,errorController:lr,fpsController:Aa,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:et,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(t,e,r,i){for(var n,a,s,o,l,u=[],h=self.VTTCue||self.TextTrackCue,d=0;d<i.rows.length;d++)if(s=!0,o=0,l="",!(n=i.rows[d]).isEmpty()){for(var c,f=0;f<n.chars.length;f++)Ya.test(n.chars[f].uchar)&&s?o++:(l+=n.chars[f].uchar,s=!1);n.cueStartTime=e,e===r&&(r+=1e-4),o>=16?o--:o++;var g=ia(l.trim()),v=la(e,r,g);null!=t&&null!=(c=t.cues)&&c.getCueById(v)||((a=new h(e,r,g)).id=v,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*o/32)),u.push(a))}return t&&u.length&&(u.sort((function(t,e){return"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line})),u.forEach((function(e){return Se(t,e)}))),u}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Sn,subtitleTrackController:Rn,timelineController:Sa,audioStreamController:pn,audioTrackController:yn,emeController:ba,cmcdController:Fa,contentSteeringController:Ma});function ja(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(ja):Object.keys(t).reduce((function(e,r){return e[r]=ja(t[r]),e}),{}):t}function qa(t){var e=t.loader;e!==Ka&&e!==Ba?(w.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}()&&(t.loader=Ka,t.progressive=!0,t.enableSoftwareAES=!0,w.log("[config]: Progressive streaming enabled, using FetchLoader"))}var Xa=function(){function t(e){void 0===e&&(e={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new an,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,I(e.debug||!1,"Hls instance");var r=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var r=ja(t),n=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(t){var i=("level"===t?"playlist":t)+"LoadPolicy",a=void 0===e[i],s=[];n.forEach((function(n){var o=t+"Loading"+n,l=e[o];if(void 0!==l&&a){s.push(o);var u=r[i].default;switch(e[i]={default:u},n){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l}}})),s.length&&w.warn('hls.js config: "'+s.join('", "')+'" setting(s) are deprecated, use "'+i+'": '+JSON.stringify(e[i]))})),i(i({},r),e)}(t.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,r.progressive&&qa(r);var n=r.abrController,a=r.bufferController,s=r.capLevelController,o=r.errorController,l=r.fpsController,u=new o(this),h=this.abrController=new n(this),d=this.bufferController=new a(this),c=this.capLevelController=new s(this),f=new l(this),g=new Te(this),v=new Ce(this),m=r.contentSteeringController,p=m?new m(this):null,y=this.levelController=new hr(this,p),T=new pr(this),E=new kr(this.config),L=this.streamController=new cn(this,T,E);c.setStreamController(L),f.setStreamController(L);var R=[g,y,L];p&&R.splice(1,0,p),this.networkControllers=R;var A=[h,d,c,f,v,T];this.audioTrackController=this.createController(r.audioTrackController,R);var k=r.audioStreamController;k&&R.push(new k(this,T,E)),this.subtitleTrackController=this.createController(r.subtitleTrackController,R);var b=r.subtitleStreamController;b&&R.push(new b(this,T,E)),this.createController(r.timelineController,A),E.emeController=this.emeController=this.createController(r.emeController,A),this.cmcdController=this.createController(r.cmcdController,A),this.latencyController=this.createController(_e,A),this.coreComponents=A,R.push(u);var D=u.onErrorOut;"function"==typeof D&&this.on(S.ERROR,D,u)}t.isSupported=function(){return function(){var t=qt();if(!t)return!1;var e=Zr(),r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!r&&!!i}()};var e=t.prototype;return e.createController=function(t,e){if(t){var r=new t(this);return e&&e.push(r),r}return null},e.on=function(t,e,r){void 0===r&&(r=this),this._emitter.on(t,e,r)},e.once=function(t,e,r){void 0===r&&(r=this),this._emitter.once(t,e,r)},e.removeAllListeners=function(t){this._emitter.removeAllListeners(t)},e.off=function(t,e,r,i){void 0===r&&(r=this),this._emitter.off(t,e,r,i)},e.listeners=function(t){return this._emitter.listeners(t)},e.emit=function(t,e,r){return this._emitter.emit(t,e,r)},e.trigger=function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){w.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(S.ERROR,{type:L.OTHER_ERROR,details:R.INTERNAL_EXCEPTION,fatal:!1,event:t,error:e})}return!1},e.listenerCount=function(t){return this._emitter.listenerCount(t)},e.destroy=function(){w.log("destroy"),this.trigger(S.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0;var t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null},e.attachMedia=function(t){w.log("attachMedia"),this._media=t,this.trigger(S.MEDIA_ATTACHING,{media:t})},e.detachMedia=function(){w.log("detachMedia"),this.trigger(S.MEDIA_DETACHING,void 0),this._media=null},e.loadSource=function(t){this.stopLoad();var e=this.media,r=this.url,i=this.url=T.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});w.log("loadSource:"+i),e&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(S.MANIFEST_LOADING,{url:t})},e.startLoad=function(t){void 0===t&&(t=-1),w.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},e.stopLoad=function(){w.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},e.swapAudioCodec=function(){w.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.recoverMediaError=function(){w.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)},e.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},a(t,[{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){w.log("set currentLevel:"+t),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){w.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){w.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){w.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){w.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(w.log("set autoLevelCapping:"+t),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(t){Pe.indexOf(t)>-1&&(this._maxHdcpLevel=t)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var r=t.length,i=0;i<r;i++)if(t[i].maxBitrate>=e)return i;return 0}},{key:"maxAutoLevel",get:function(){var t,e=this.levels,r=this.autoLevelCapping,i=this.maxHdcpLevel;if(t=-1===r&&e&&e.length?e.length-1:r,i)for(var n=t;n--;){var a=e[n].attrs["HDCP-LEVEL"];if(a&&a<=i)return n}return t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.12"}},{key:"Events",get:function(){return S}},{key:"ErrorTypes",get:function(){return L}},{key:"ErrorDetails",get:function(){return R}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Wa},set:function(e){t.defaultConfig=e}}]),t}();return Xa.defaultConfig=void 0,Xa},"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(r="undefined"!=typeof globalThis?globalThis:r||self).Hls=i()}(!1);
	
function loadWeb(aSite){"use strict";function a0_0x4ab0(e,t){var n=a0_0x8d91();return(a0_0x4ab0=function(e,t){return n[e-=293]})(e,t)}function a0_0x8d91(){var e=["m3u8","A5MNL2","D5dnJX","2IpUDL","w1AAAA","push","/jKEEY","mary","fGi9M1","QOEf4U","protoc","t01qmj","M6ALVE","AAaNDb","2Ml9rw","uySAb4","6y1K66","8uge+M","m7IJ7/","A4NGqA","Frp0+n",'="drop',"JEAQGF","r><a h","YWm2ME","D7Shyk","dlpHRj","UQAhPM","SwSOdO","rEmsIG","kEEQvU","1H8J0Z","own-to","NCsN3y","ACAsjO","pan></","IFtNLN","bIjs4R","text","IEZpcm","tTijxy","AtRvO0","en2","apply","nYBCZs","BehYEI","Child","4I/3jL","Dl49jl",'.png" ',"BmQjPB","link-d","OboIgE","aIClqi","applic","xl-5","KA9O4b"," href=","llRXvC","NITTZM","\u4e0b\u8f7d\u5b89\u5353AP","Ly1t7t","7iGzwz","GygwNK","pRxCKp","R749TR","mMWGc","EHE9lb","WRUp","1+/AAA","T7kXcv","uestHe","rAdgPp","talled","gXABzn","owoR","2XcUIk","desc","YhBAsH"," style","+1ZyZd","iA74pj","jIKcnc","Bwpu3N","tzfHn0","FW1Ws1","gVielT","szqUFJ","AANIRb","x2Owhj","2WXrKg","b_data","6+9vFY","dLraeq","k rel=","TmpgW5","ysqrI","ABKwCd","BMVBgo","dXhbzK","uf8IAM","A8uSbw","gcMAZB","CILYDk","ions","5u0VEL","x8RgAJ","Gw1Dj1","vyBktN","P/GQCr","_qr","2QInAs","image/","swYXud","rqQEGS","TG+ecg",'n" ari',"O6x49e","dKaYE2","02izpn","WAhBM8","VDAMlM","KFvX0a","</ul>","WBRdAS","r2GW7G","Fve8A3","kQBAda","hRQ7EB","RDMHlM",'ll">\u5982\u679c',"whgFNU","ShowLo","f/7z9x","ngf+v7","gg+P/U","VlJoEQ","uEerQV","2nLua5","uuT+wL","mhpcGP","r7ADqB","UBfE8c","8FmIgv",'ter">\u5efa','"_blan',"5alikz",">&#263","Q5ANCh","6lJ0MZ","nlfZzJ","40G9Tr","dQ6/k7","L1DwvE","Bt/mbK","jDooUs","fBfKOw","Or4x89","height","CHh7ub","QqA3SL","MXViM0","cUfR23","bgWb8t","TlKq/F","addCla","IyMHZa","7zo93v","8/f/6C","DrQOfZ","put","nt a.v","QrC56S","URrWLs","shift","tDefau","/vEstM","eTl6TX","y+oZ2r","string","C8TxMC","wsYkxT","U+CuAP","kr7gGR","AF5ILD","Dr4GGA","S7bc0H","HaZ3HV","getRes","vN3d3d","0KGgoA","SDXE5w","wsij+Q","Plef2X","d-none","h0Q3Jl","rD74vF","1139484UPibnu","attr","E/wnh+","status",'"text-',"img sr","2+slz/","Fx9/7e","lwTwLX","16TG1G","ntdtNM",'"><a i',"tWindo","ltip-t","rg4qEI","xl-4",'"card ',"ajMrHB","oKgNfX","wgMZBI"," row-c","QICAjb","oSlj2h","kk4ARQ","L59JOW","Pzb4Cm","COnjQ","payEAj","cJKjQc","-4 col","ponseH","7KX6Kg","adding","<span>","Token","ntdtv","NttTn2","AhgAUC","RSTlP/","kXs6i4","35yMjN","aQOMIK","RblPX3","DqqPBk","HGJMZl","r-c","7z9N5o","p-titl","4exrl8","\u65f6\u7ffb\u5899\u3001\u547c\u5438","5HO7","YdxAG"," btn-s","QkkCnD","aNA1pf","http:/","QixO1V","i0rusM","ZFebXl","YUhSMG","tpkeAD","Ttg/tT","cIbEQj","#tuico","5S7iF7","-touch",'vid="v',"gEWnxB","VfohVJ","iHEMDk","0jn4pJ","OhPU1V","pids","Qn1LUD","ndSite","RrzrgH","v84Vr4","fromCh","+A1Ij2",'t-4"><',"BrBo5J","OpOJFS","Yudd6C",'png">',"wDKkKM","custom","4BwCwR","76ujqd","TZhrWm","r2ezEB","Q08B8G","jMw6m6","rkEyly","gif","6K3F9f","18cz5q","ACo68E","EJxzaZ","ADRNyS","owS014","mB/dzD","sERBCy","8aDUUW","iTcyok","VICWgZ","DJu+G8","N+hyAL","led><s","UFB3Jn","pQsAzv",'n">',"m_orde","cf86J2","MbYRax","vrH7m6","ctive ","bwd6jk","PkAzQU","K9Mh69","YzI5dQ","xyKM/C","SwH40x","0o5uhp","charAt",'s="too',"YIWb/r","uFs2hs","W5gqbS","7LBrjo","T3FTc3","none","uNjdWY","1elMvl",'"dlg-b',"RceJbI","oVg1yr","WAk7zQ","JkyhBA","kAVPSW",'et="_b',"zZOYnj","vmQPJP","lEQVQY","swgMvH","lVWPax","sdCtsn","QjxMTQ","object","KsqK/Q","file:","03aSDG","nter m","Yb++Ev","oA4ynY","CVIjYN",'" targ',"W+qOsn","ight","pow","hZZ/Ng","undefi","50AJXS","/div><","retche","OAHDK3","94qrj2","Ty3IQ6","8ChkA1","YldGNm","modalA","R277Hr","#qrcod","wAKp3S",'json">',"playli","bDBMbk","MIEpkU","</span","OSRWtY","BDrkSG",'olicy"',"link[r","wAAwhW","A+UDH5","DNJUA0","5KSURB","EQIoCv","#ifram","wGdln/","ykKVk5","rDropd","VEW2GD","llqlfU","oL/e3D","9rY1n5",'ref="',"tn-can",'"btn b',"xRAmeo","xj/LXt","FsyGam","AAgMgC","tyANQ4",'mb-3">',"outcom","Da1eBj","EUV2S0","PKnKXE","doNNIK","nov","HxuUxd",'y">\u4e0d\u518d\u63d0',"-3 row","androi","//+VnG","ggNKJq","ChbqWm","yLAAEI","DmE8dM","rHPqaH","d0kC4y","6I0ZrQ","class","bhHmvv","col-md","UWpOJi","SYjXr",'-lg" t',"+gRtBy","gqjrAf","5aCwAW","head","WYMJgV","7neLET","tG/+bQ","IASNm4","!andro","04cAIP","S8Ieej","bo/Bks","G81dTI","AWzLg/","userAg","DAcjyk","OnP0iD","Yvc3EE","6/X6pU","ytHTU2","kw/Sh/","gj8BVX","AAug16","UM6FHS","qwerty","WnbgIw","WJgmY","indexO","AJVmR9","OXU","CVpl5e","v8YJ9J","B0tKnL","yIoDXk","XUV9XG",' vid" ',"Xv+51z","preven","szcach","cxrMae","ZLFrSO","h8G4AO","lFSiMo","ajax","h9GRMl","n-warn",'ass="n',"szmj",'nt="up',"YP62lR","dT3Xpi","HYKVUu","ud/yUA","HwD2mn","bovLKM","cPvCBA","XVWizS","torage","sectio","t.json","xl-3","CqQ8aI","g6S4oC","dO678t","0Xd/hl","Y4dkEA","Hpn3C8","MBuMyC","SOAoCM","hqDnj7",'s="lin',"QURdHc","Y2zin7","MI4d/A","debug","seMeiU","VHic7V","HEXJ4W","AEyzsW","data","hidden","v4yCVw","\u7ffb\u5899APP\uff0c","cBUFMs","#dlg-b","<a tar","6dCCvC","AoCuNu","hH02Ih","src","MrUX59","conten","nFZr9A","BgnnzJ","/QkuA4","Yf34bt","GAUz9U","llNEPg","-cols-",'d="btn',"X3gbwp","n0cEZw","kpY/9j","hXB6bz",'quiv="',"V4Wm1x","caVUG3","vUDFAJ","F/IDkG","ZK7S1O","AABJRU","yiXoOX","l4DI5Z","R5prgU","P+W3Rl","d+hX/Q","source","414XdCuzB","wxvgG3","gOfbAh","cvAmQb","><div ","slice",'get="_',"\u7684\u7ffb\u5899\u6548\u679c\uff01","Item","qrNQpP","ntList","iypTdI","balbKH","egt9ZT","on typ","TjZlbV","ghTfE","J7Vtl7","2P2+vx","\uff0c\u4ee5\u540e\u53ef\u4ee5\u968f","ZsjIVc","KAUisN","Correc","NaeCn","NgB/Ju","K1l81p","ZrCwpe","APWWB+","/4+u+J","bY7Kv+","+/k0lQ","nkacFz","iZYR3c","Y3k1am","0x0Jt7","aQ4cqy","1AWfHy","y0CFld","8KZNfK","ols-md","CZtko","ljF2xs","UqmE04","X7N+KY","93b/KP","KTQnWU","CuwS8T","videos","icon.p","gGZpcf","anifes","AeMEyn","jNzH/L","/yUB/J","/div>","u+rOTs","\u8bae\u4e0b\u8f7d\u5b89\u5353\u7248","WdWSAc","E4FIF0","uVXIhx","\u8f7d\u5165\u81ea\u5b9a\u4e49\u8bbe","AAnYG9","nO//xr"," \u25cf ","lLO/yp","A3NCSV","ite","6uZ5oc","cHCaD+","RPzc3M","zagSLu","EkB233","XVv4EW","0Bp99f","EwRZHw","Qw6eil","0pawSO","nodes","wMXj2A","HscgC+","kH8hz8","hmsz3+","rRa5B/","zDhc","script","ChMwGY","LDhKY","jqdV32","7FIAvi","eFEMAF","Kkh43f","BMhDNS","ZpK9U0","kFV4rq","QQgtI","tJzgQc","!ios","RM9bV0","#nov","l clas","rx3cE1","AOIrJl",'ass="t',"#prelo","NnBiQA","KfFJkM","QRCode","31dXr4","FLdJXR","ntent","DpAGPA","HgXzoH","++wY9q","Pal5yK","VgBxW","ZnIAch","xZo9uY","xNRiLP","VBBaCu","title_","b+87Tu","c4oW+r","372rd9","ZRSiAB","U1Gl52","append","3xPHLr","DQ4dGc","L97Tsx","q7TGPT","MGAXS7","hDck/l","jR+j4+","C9UP/i","<p>\u60a8\u53ef\u4ee5","nCi/wx","gcQABK","ark st","YRb7IU","HCdfew","IGH+Mn",'s="dro',"IPzy1d","/TRan5","vid","Hlk64U","cFpuj+","9UTD0h","fMu7DF","0PkrSk","5d8MiW","gP4j0I","Gk3IOb","fTf6uv","mp4","PWh7ji",'="colo',"EkQWAm","U1DnJu","FZjPLy","dg7egb","DLAMx4",'ner" i',"xt-cen","95506VdjDhC","BKRMUj","kPpcTC","webjs","E1eN+I","wKoCSs","x25G/P","ITzP46","n4Hl/s","gL8n0A","4qdbEd","sndTSG","Rs3mIF","TooJDq","CwGCJ0","MwSXRV","E8d0Hv","rbja1r","-2 row","xwedbH","A/CdOU","\u8bf7\u514d\u8d39<a ","K3ELCm","\u52a0\u5230\u684c\u9762</","E0n4vl","b0vAok","XsawXB","4H/quw","g0av+K","Mg33yJ","DAAqI","k-seco","JVjPC","avicon","obile-","B1ZzNu","cl93pC","NB3mqh","C3lSPT","o8bRMW","iD49QH","AGgIcW","QLKiLp","6N0eH3","url","JOrUXt","random","Conten","LwDV9f",'ton" i',"QQZG5n","/8vVUZ","ios","\u9ed8\u8ba4\u83dc\u5355\u987a\u5e8f","EDI5wG","BAD1yD","SFlzAA","IyNWhk","JUl0X5","CxIB0t","is_top","\u793a</but","utopX8","OcAlEA","2cij2i","ggle a","fXhVa","lYear","q1aLfb","cMCBzn","z9a/3/","AqCXn1","gkpPYn","p8qzFc",'f="man',"j/BREM","\u8981\u6301\u7eed\u6536\u770b\uff0c","KfrDMu","sw.js","Ontiuy","ULVD1J","A7PU9y","mentBy","host","7W2tne",'est" t',"xFFHco","Nl8bOM","Sjivna","BSCwrw","uBQBCF","g2qyAi","AhxoxJ","AsLL+8"," disab","1CoMr4","get","NGiJog","+ACZBA",'tyle="',"IuC+Cf","Amev32","4z8MGA","onLine",'-icon"',"JY9A/E","SBYpAR","HfnXU2","uiop","MVZ5Z5","ener","ative;","hwdAcD","concat","P87/b2","regist","#node","UAQWRv","yTCj0w",'ef="',"huYWqH","1C3qeC","K62JTf","hide","wcOyrW","LZQ3oQ","kciLhB","QTRMCy","/xc8Mn","video","cel","pT6NeF","standa","P2pv8C","class=","FoundM","7+FkdU",'ss="im',"Y7EqBh","3h90Wn","Jld1ka","gP75l5","HzQH1n","n+Orpy","9vycY7","P3BiMO",'lass="',"eader","MCmJQW","kTl2ra","DIPH8M","/lOnjq","down-i","3aG510","A0aeql","AJV3k9","/butto","Dw9+ff","uMN//K","et2rB6","CVJB8z","b2Uk","AaCil5","havemo","displa","qC2pJ2","rUYHO9","JHtUFw","G1GQQR","0j+523","IPAai9","6rfhSJ","uuQHiB","8WEAA8","rc/bY5","VEVYUz","q9O7nI","width","8wMi8y","9vfxS6"," type=","234zDv","1bne8q","Z0K4k4","0b4B3p","MBZLtm","8PZKQE","kBwMDE","R3QsWr","4H/y6n","8lmZTA","YLrneF","TEbiSq","xSEzdL","Oi6B6I","match","WkKs+i","E0dctS","TAfwIZ","tOy3CB","w-cols","p6QUGu","tCKxdW","2mb9+O","W3FD8B",'"><lin',"fIXe29",'href="',"png","ry btn","BZUzVx","ZWhGnj","UPC47A","1442760dwboUu","html","f3/PNO","3vqSDn","rEHICm","aAAFym","ysvRu6","/Zfuug","9omATx","1AIDaA","-btn-a","\u7528\u7f51\u5740\uff1a<b","YpAGCl","4HurGf",'ref="f',"zdivVn","5WYYZY","hEUgAA","></div","+07gRg","nWncOD","pdown-","kWdcUE","9TAAAA","ata-vi","LNf86u","Ng4Zwi","JUHyBQ","domain","#btn-i","load","BmT3x0","DMQmcz","G4ma75","6ovjWN","BJEiGD","notice","fuE+tD","fEFWoz","JlFhwt","r mt-4","4Udkg0","gXAuKZ",'="col2',"jQ08Bm","y2UDAL","IxRIA1","PVb/n9","n724oy","pTCUJA","tn-war","ptkX/f","JV3Z7D","t+cRwd","MAgpzR","-btn-c","userCh","AIBA3k","zgDBEK","xY2MUa","/li>",'blank"',"dQqpNT","+Pw1Pp","mgDALD","links","fw-bol","QIgB/R","t-Type","0ohAGh","zWH8e5","q+ou5Q","J/avwC","erHS1A","jL8y9L","DMEdb","LGq+wp","xHgms8","e2eUlT","zwTFK0","aQByZJ","GABUIt","d/L4Sv","br>\u60a8\u4e5f\u53ef","abcdef","ow g-2","ript","HrPS97",'vid" i',"type","2285Iu","lw54kB","7SJQFA","OCosPg","YBgFA4","xdJ2Kx","tui","6+QIns","pBeipg","LQBfXM","c3zast","HCILBG","lQGYAX","ZOTScg",'s="btn',"S7flfQ","K1jHfW","cVay0S","site_t","1u/Mgl","2tZu7+"," d-md-","mall m","1b9rP8","qVP+Vc","AAAAvk","F9G4Bj","/9zBDM","o2YhQ4","1YII0C","O9YvsD","ader","YQQGG","uYPqAN","ert al","YW81YP",'gle="d',"SGbz30","c6breH","9AfoTs","dCRH2I","796tV9","ajQgNH","istrat","y/8pAE","econda","nxLwGQ","eFvFrK","Jh71lZ","https:","iframe","cWvxCS","tn-ins","</a></","TdNi9E",'d="dlg',"BDXyBQ","-6 ","6Jt0Xg","+cMyMo","/gP3ZA","v4Ap9D","YwhIq","setIte","Gg14ax","AwS8us","frJsQ","0ZBIYd","GBQgXO","LZKXdm",'utton"',"H1n0vg","tcEEDn",'ancel"',"MdDuQd","vkGAW2"," dropd","rel","MBmOio","RyCMaq","HoSYMq","nGJSyp","\u6253\u4e0d\u5f00\uff0c\u8bf7\u8fc7","R0YwWV","w/wc","H1qI/k","</div>","68Kc4w","gPwOMF","\u6dfb\u52a0\u5230\u684c\u9762","\u53cb\u60c5\u63d0\u793a","NnfrtF","TZ7Nfv","ltL2nz","QcvQZA","JVMAJh","image","YmUgRm","iiLbz2","v><div","</p><p","AAAAlw","lJgTkr","dMEmvQ","deAt","QqxL+j","cMNkAO","IgEy4D","ZGqaKn","0ayHEN","parseJ","9uBI18","k10ghI","To6cfD","53Wkhr","EKOQDK","4HMfaT","ZzTFe","5/jrLZ","pKkA6n","servic","7OJ/rv","FPwjDN","VqYWwD","TcudA6","jcfKl9","2OXQzA","rjBGMF","o2wuoO","MwILf9","#notic","5rl3R0","web-ap","NttRz","nrUMDF","YXRpb2","V3b3Jr","AlmKcn","e7yyX9","/mxJJy","mMMdgJ","vDBAL","/rlyGI","shuffl","grade-","wIcHiy","gRvisC","/KECIH","#B2842","8JbbQA","ading","css","yr2elY","ropdow","j+abVa","caches","AAwFBM","/MvnjJ","wu0bdE","9V4OxV","\u4ee5\u8bbf\u95ee\u4ee5\u4e0b\u5907","ZJSEhm","aTz8R/","nifest","IvMbEg","CgDOA0","cjxezh","ZTVhq5","M+Pi/i","1OSWkD","<meta ","/ENu6h","localh","0TwPvh","66AtVp","Active",'em"><d',"JCdpSV","olsJy1","site","\u6307\u5b9a\u533a\u5757\u987a\u5e8f","naoyb","YFY0ZM","====","lEt65e","messag","MDrQBz","></met","IIRBi0","Jmaxa","Z4cGzu","<butto","cmtzIE","QuQJCa","NotFou","q9Wp4Q","x-icon",'"icon.',"hw+chr","getReg","8U/dRR","Bl7hMe",'ank" h',"kBTxTe","v><a c","YchNgq","Pi509q","uXBIBx","2tv5uK","de2","66MVv2","VqYjIw","m40tnz","SSAjMI","SwJYTf","fQ8p9x","IA8ooP","KMFXSX","iZIueG","R2Fcu6","T0tNBP",'" clas',"OnIyo4","SON",'t="_bl',"vdmdBg","yODce9","FoundS","GoBFlb","8u1ta1","J+VGOK","zvS/u8","Ah0goF","m1Y/74","TqvImA","BVFziH","rDAC8b","/ra2aW","igZgzL","itle","0Q7Y+w",'rel="m',"wDlX+x",'type="',"fQfwD+","0JTfuU","nq5mCg","r:#999"," btn-w","4U/gAA","ed_dat",'="text',"CGaHwe","B8OmX3","</ul><","IA9F8/","\u9ed8\u8ba4\u533a\u5757\u987a\u5e8f",'re"',"gFa58H","+r19UD","\u70b9\u51fb\u663e\u793a\u672c\u5e73","/GhDmd","WldGem","ZskJR","ndalon","gA6Wt3","IAUCJ8","#copyr","0bvH2r","<div c","idI1t6","012345","Be1Gr3","1uU/SL","2d2BO7","kvum7C","postMe","Hs3t/b","5wa1oy","dQ+BEn","WQvh++","MXy3vB","4L6xQ3",'r-3">\u6dfb',"UdLpim","Bo1rEt","odw9HQ","QfE4E4","cALOnz","AK3AwS","cGIfR6","YwrG3x","TEaJkz","lyZXdv","18oASR","Aot1lC","5gEEK1","Lx+Adk","B3wEQN","javasc","ua1Ebi","dding ","fve5zE","Pq4TWO",'ass="r',"3dnlQw","1otHCO","0xTLX1","INfZUw","\u53ef\u4ee5\u8fbe\u5230\u66f4\u597d","PpjAAq","LGxx9B","gNAsAj","jYyrme","RJ4RAA","iSs8b5","ZMUGcF",'id="we','="nopa',"MAQBaT","8BYNIZ","50 mb-","pinner","name","Lb9pAA","black-","c54J/H","2mzggH","G3xheT","PPDWNP","link_q","KTy02z","utY2LN","hwdmJt","btn-se","arCode","NvswHI","replac","zJjkgE","EEEMSJ","Cwqs7R","B02pIW","<ul id","j4B6wl","1jTHoD","mousee","153wbxiTi","n0PG+5","U4OfQm","JI9gNk","2lu3LQ","tu3h7J","then","TAR1oy","+kDJdz","mszeVZ","<li cl","dH9k1x","cis8El","EYmNvs","XVAgE3","M011WT","uXWAcw","-cente","dy1KiQ","oTVa7D","Qy5tTq","hduPHl","/vt+yo","bsgUN+","OjFpiC","J8o4We","rXjtuA","pan cl","<a id=","active","Sfb3P6","vrESLb","0AAiTV","TUkEwC","/kgDEm","fOyehv","Y2GTrX"," mr-3 ","F9HJBy","c9Md45",'k" hre',"UNPqDB","3Q64x4","/image","CIBj+A","Oa1kqd","kzApiU",'n" id=',"WTs0Z5","ahH+YQ","pathna","EESMHn","rpeA/4","ning m",'el="ma','vid="',"9BJeTl","UAtQRz","entDat","FDQSvA","oOvbW9","ation/","5SVP7U","DSPl34","it-pri","ZjblJv","rjLalw","dalAle","f2ZOhQ","6w9k86","uBCEMI","8YxD9+","XfXZzq","ayGvcz","mQZdzZ","zc3dS7","xE9TNt","<link ","BP115d","HD5QBs","x54Fna","NvZnR3","ExVYHk","E/dNMG","FoundT","jZOhhm","4eAB2b",'e="but',"vloIwx","/t/Ovt","oXiKAI","FiAI71","//////","itRLOM","F5gAT3","M9z8OR","CYoAuD","OJ+dPf",";;;","MeLE6g","p9TCTF","Wm66yP","log","6lTrMz","cK5o4w","yssb7H","pyqBGF","5wDA2V","fuA7CQ","lert","Trm2K9","w88j5j","RgIA0O","PUTn7m","mUWi7j","bUZ0WV","each",'dule">',"e+8ctL","JITT5o","ePPRQt","dFlYcH","Ps0B8p","Wmlann","AQCHcp","fU8cux","QSQCCF","dsIoz8","_app","AAAAQH","5AHM19","jHPs8O","uU3nX9",'eos"><',"hlbj6N","jDjXjz","mmwv8u",'con" h',"lA/RZQ",'" alt=',"hcXqss","b_orde","DvNpP","/QnHTm","btn bt","DIIC//","u+rOkL",'ss="na',"/a></d","CgngKI","zpcbOa","ABAAAA",'"butto',"news","RGuFQK","edia","<div s",'down">',"WGlO4E","\u6682\u65e0\u53ef\u7528\u8282\u70b9","ost","YGWgC1","/svAHA","U3rKhd","OFeeyN","LtLz9w","RjNjeT","9OV/82","show","tkwCcj","BwjBiu","oAMU8j","rMVFqL","uqjibb","5c7dKX","\u65b0\u5510\u4eba\u7535\u89c6\u76f4","56;&#2","Az/Rno","origin","HaOtAk","eOlqay","floor","vsadlM","zm4d30","H3Npqj","PSdQWp","e: sta","#navba","ation-","t5ZLBz","dary s","ifest.","mrhIAu","Jyq87c","WNJzPB","g0beVo","showMo","WUZ6fz","button","UOrLwC","site_u","onTUcX","div cl","cGfkd6","LeAI27",'ype="b',"tTDTgV","hbD2KO","FZ5UWv","\u672c\u5e73\u53f0\u7f51\u5740\uff1a","><p cl","RU5Erk","><butt","jWxPsY","DACAMA","kFSibW","LCRGt","iVBORw",".gif","GYWXIo","pwa","a.link",'k">',"eD7kc2","D9cIff","Elemen","OkDNya","+q9X+1","r19qAu","opy; ","96pMms","T4PyQC","q=0.8","26nNJz","KyxssZ","Lco4ag","HDzpUB","KovHM5","//AP//","n78meN",'t" hre',"KY5dGM","DebGtZ","jsonpC","Ox2Rdu","JCZ94y","222370dXqXGg","FQC1nq","gOqM4G","I5dEwz","d0xXNX","vSjrNK","9N/wdE","MEw9Tw","\u5728\u7ebf\u5f71\u97f3","abelle","fz61+A","WBkERw","QqwTfJ","IrFzRh","gUBoH",'d" id=',"/video","AoBonD","gAMgQ/","dHdhcm","GwbWrJ","wFA0C2","+3fCYE","jsChzW","RJfpEt","AABlAp","Before","c0j66v","lWZsCB","o6xn4I","WZS2r7","<li><a","38TdUf","media-","\u6307\u5b9a\u83dc\u5355\u987a\u5e8f","QmzU5H","tBDyH","o2mLJh","Z2NGkY","Ho96iY","videou","8/jW6P","gw3+KQ","m4OA6f","FBEwac","pple-m","t2wgAA","m30EJI","AxxxMZ","\u81ea\u7531\u7a7a\u6c14\uff01<","/vcAxB","GUQmoe","remove","sIgYDF","RNaTVo","zhZgPm","-decor","IAGHzf","#menu","m_data","wPDQvm",'et="if',"AAANSU","WXa24g","localS","XlBmzD","ame='a","ext-ce","gsxX41","-3 nop","TqY5Tw","Gp3QGr","u/eecA","click","ELI0Tc","lpromp","start","text-c","ACp6gQ","mcdjYU","dUZ07R","H/UfY/","DCRGFU","6eXhAm","UmHX1Q","2nrSqV","ing bt","JixWO6","RzulO9","SFAODQ","GJ4T89","KeC3Nz","bfoPwL","Class","gCAauV","3xj8Lz","ct4GIA","sUmzfT","qZFS4H","TcgLu","YRKU6u","CNboB5","ent","2MTKsG","ANQlmk","nEClKm","OnQmAK","left","bq8HAN","Fhihiw","CqM3CQ","QaDKmI","*,*/*;","QblcF0","drZB+c","BTywrk","appurl","#custo","q2ad8W","file","SYPt2d","UOb7B0","c2S9o5","addEve","AaxW4G","parse","n-sm s","8ICNMF","7UeG6g","length","AOhOqc","substr","m1bmGX","AQrA3v","split","KkQ/xe","qrcode","\u8bae\u6dfb\u52a0\u5230\u684c\u9762","i8st+5","fyeA1/","GstvB","UZyN/0","aria-l","kCzUBv","tall","ratio-","eTl6ZW","OwOgVD","riI46D","C7H7gF","ZYj5w3","http-e","PKtuv","kKHFco","clear","1jchpf","1PfOWx","BCAAMI","ILMIcZ","t-Secu","7962456BJpSCH","5/TgCr","list","a-expa","031r8B","AQCAMA",'"></di',"WneXXp","ADQehV","qYJr+a","5alCar","gpd3QS","Fy1Mec","HW7QXf","eRPJvz","hv1xk3","usathC","ryjovf",">\u89c2\u770b\u76f4\u64ad<","getFul","kMtAAq","UobfCW",'rame1"',"ShowCo","vUrvw3","ClQsQ6","row ro","bnail ","condar","4hMv3t",'rel="i',"oIsBgD","offset"," data-","BYLqEC","iv>","0QGmgt","kj3vO6","2/CODP","eq23dw","protot","7ipJYd","C13p1K","Wwao62","BhRUJ/",'b-3">\u82e5',"rity-P","6789","n a","aSCZyH","Ahjc2H","uBhG1n","+lEGVx","MgApFq","zmsj2Z","n-seco","TJFAlX","Pe8GgS","r57vLz","fb6RRX","value","19It69","oA0gDl","li>","href","XR0D3I","#00000","title","Hz9GFw","F1d47Q","611PU8","zZ73ok","Xz8InZ","4njiBF","O1wh5X","closes","70vm2F","666640OHNvdM",'"apple',"mHT48J","TFDnMe","24dpycFY","ccDSR","hadow ","media","ceitPU","empty","fc7Tmi","AP0eUA","XNejgY","BRc9Dk","9NK0Yh","n clas","BUBkK4","m8wEKK","zR5VDG","cAaFIA","hv11t9","IH5ga8","7cnlfJ","rA/tXT","BAmxES","ernHzQ","schedu","block","myTMA1","AeQKD",'ss="te',"v8Lwio","ljHTqx","x8vsff","CazCR5","rwvecr","0yC2M2","8DIDXa","DtoDNZ","AZbQ3D","CRHC//","hfpgJ0","eeHAEr","ZkIu4w","ay-mod","RB/Oe6","before","snDggA","uTJzMa","</a><u","on:rel","join","PGqGVW","rning ",'ass="s',"B2qRNq","instal","DIZVYt","DBxlxF",' id="',"arget=","YIjCNF","<p cla","top","tLevel","x1UfOH"," class","Pho4ju","fm88V2","jsonp","GBB+gv","09hNSb","vXqIBG","bE3rg9",'r" tar',"tkmpHt","ccdbt","b7Va23","++bBrM","JHAnBN","UG1xat","wOw8HB","7////3","prop","toStri","G1LN+7","Gf+Nmc","sOjL04","arning","hX5wn9","kfF55P","col","NMlAc+","jzgAJ3","M1cWMy","wWxH+M","rkbKfh","tVpt","v2lmMq","8XAlDp","/Akfo3","kHhY/F","DJD3BX","FxnSIB","ify","3V79+X","pHi2vi","afBJOq","+NmdeY","oxGfA4","j33eVj","ton></","json","0JV+JK","jOz8j/","FyIE29","nmqQb2","tCGBH",'f="',"charCo","FhuJov","OCGIAc","nA3Rud","QxoduX","n89b29","aVLXs","scsB+K","nter","fKMnXR","50LC/w","kQgEAA","pPT374",'3x2"><',"po30o7","5qG/Jp","Pu02/M","Rg4Beu","nPI225","c2++v7","NTNui8","hasCla","fJOGUI","142142aTKHFD","5sxacY","W9vWvD","bs-tog","TE9tuS","XVeLjJ","80P8/+","s/ntd.","-1 sma","62YHXx","qRmqgd","x4zAd4","U6zaZA","JAKmMG","4MmCFl","getIte","5hwESg","bnY549","C+f6Ir","DDZdLP","4njl0a","Cyjh","uLkKE","insecu","IQB7gi","7PpbH6",'ole="b',"#fffff","L9ZyKH",'"><a c',"YoHOVz","ucvnKI","FqPAoS","tDgcLK","je543J","5JbrzR","qoav9/","pRFSMw","#conte","ALEgAA","IADQr4"];return(a0_0x8d91=function(){return e})()}var a0_0x93bfe7=a0_0x4ab0;!function(){for(var e=a0_0x4ab0,t=a0_0x8d91();;)try{if(775590==+parseInt(e(2018))+-parseInt(e(886))/2*(-parseInt(e(2022))/3)+-parseInt(e(377))/4+-parseInt(e(1781))/5+parseInt(e(722))/6*(-parseInt(e(2160))/7)+-parseInt(e(1941))/8+-parseInt(e(1535))/9*(-parseInt(e(1099))/10))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();window[a0_0x93bfe7(889)]=window.webjs||function(){var g=a0_0x93bfe7;Array[g(1981)+"ype"][g(1332)+"e"]=function(){return this.sort(function(){return.5<Math[a0_0x4ab0(932)]()?1:-1}),this};function U(e){var n,a=g;if("tBDyH"===a(1817))return n=[],$[a(1651)](e,function(e,t){n[a(2206)](e)}),n;_0xa92260[a(546)+a(1644)][a(1009)](),_0x4feaf1[a(1252)+"m"](_0x3e14a5,"1")}function w(e){var t=g;if(!e)return 1;if(t(524)==typeof e){if(e instanceof Array)return 0==e[t(1910)];for(var n in e)return}return 1}function H(e,t){for(var n=g,a=function(e,t){var n=a0_0x4ab0;e[t>>5]|=128<<t%32,e[14+(64+t>>>9<<4)]=t;for(var a=1732584193,r=-271733879,i=-1732584194,o=271733878,c=0;c<e[n(1910)];c+=16){var l=a,d=r,f=i,s=o,a=x(a,r,i,o,e[c+0],7,-680876936),o=x(o,a,r,i,e[c+1],12,-389564586),i=x(i,o,a,r,e[c+2],17,606105819),r=x(r,i,o,a,e[c+3],22,-1044525330);a=x(a,r,i,o,e[c+4],7,-176418897),o=x(o,a,r,i,e[c+5],12,1200080426),i=x(i,o,a,r,e[c+6],17,-1473231341),r=x(r,i,o,a,e[c+7],22,-45705983),a=x(a,r,i,o,e[c+8],7,1770035416),o=x(o,a,r,i,e[c+9],12,-1958414417),i=x(i,o,a,r,e[c+10],17,-42063),r=x(r,i,o,a,e[c+11],22,-1990404162),a=x(a,r,i,o,e[c+12],7,1804603682),o=x(o,a,r,i,e[c+13],12,-40341101),i=x(i,o,a,r,e[c+14],17,-1502002290),a=u(a,r=x(r,i,o,a,e[c+15],22,1236535329),i,o,e[c+1],5,-165796510),o=u(o,a,r,i,e[c+6],9,-1069501632),i=u(i,o,a,r,e[c+11],14,643717713),r=u(r,i,o,a,e[c+0],20,-373897302),a=u(a,r,i,o,e[c+5],5,-701558691),o=u(o,a,r,i,e[c+10],9,38016083),i=u(i,o,a,r,e[c+15],14,-660478335),r=u(r,i,o,a,e[c+4],20,-405537848),a=u(a,r,i,o,e[c+9],5,568446438),o=u(o,a,r,i,e[c+14],9,-1019803690),i=u(i,o,a,r,e[c+3],14,-187363961),r=u(r,i,o,a,e[c+8],20,1163531501),a=u(a,r,i,o,e[c+13],5,-1444681467),o=u(o,a,r,i,e[c+2],9,-51403784),i=u(i,o,a,r,e[c+7],14,1735328473),a=A(a,r=u(r,i,o,a,e[c+12],20,-1926607734),i,o,e[c+5],4,-378558),o=A(o,a,r,i,e[c+8],11,-2022574463),i=A(i,o,a,r,e[c+11],16,1839030562),r=A(r,i,o,a,e[c+14],23,-35309556),a=A(a,r,i,o,e[c+1],4,-1530992060),o=A(o,a,r,i,e[c+4],11,1272893353),i=A(i,o,a,r,e[c+7],16,-155497632),r=A(r,i,o,a,e[c+10],23,-1094730640),a=A(a,r,i,o,e[c+13],4,681279174),o=A(o,a,r,i,e[c+0],11,-358537222),i=A(i,o,a,r,e[c+3],16,-722521979),r=A(r,i,o,a,e[c+6],23,76029189),a=A(a,r,i,o,e[c+9],4,-640364487),o=A(o,a,r,i,e[c+12],11,-421815835),i=A(i,o,a,r,e[c+15],16,530742520),a=v(a,r=A(r,i,o,a,e[c+2],23,-995338651),i,o,e[c+0],6,-198630844),o=v(o,a,r,i,e[c+7],10,1126891415),i=v(i,o,a,r,e[c+14],15,-1416354905),r=v(r,i,o,a,e[c+5],21,-57434055),a=v(a,r,i,o,e[c+12],6,1700485571),o=v(o,a,r,i,e[c+3],10,-1894986606),i=v(i,o,a,r,e[c+10],15,-1051523),r=v(r,i,o,a,e[c+1],21,-2054922799),a=v(a,r,i,o,e[c+8],6,1873313359),o=v(o,a,r,i,e[c+15],10,-30611744),i=v(i,o,a,r,e[c+6],15,-1560198380),r=v(r,i,o,a,e[c+13],21,1309151649),a=v(a,r,i,o,e[c+4],6,-145523070),o=v(o,a,r,i,e[c+11],10,-1120210379),i=v(i,o,a,r,e[c+2],15,718787259),r=v(r,i,o,a,e[c+9],21,-343485551),a=h(a,l),r=h(r,d),i=h(i,f),o=h(o,s)}return Array(a,r,i,o)}(function(e){for(var t=a0_0x4ab0,n=Array(),a=0;a<8*e.length;a+=8)n[a>>5]|=(255&e[t(2137)+t(1293)](a/8))<<a%32;return n}(e),8*e[n(1910)]),r=(t?n(629)+n(994):n(1460)+n(1988))+n(1183),i="",o=0;o<4*a[n(1910)];o++)i+=r[n(500)](a[o>>2]>>o%4*8+4&15)+r[n(500)](a[o>>2]>>o%4*8&15);return i;function c(e,t,n,a,r,i){return h((t=h(h(t,e),h(a,i)))<<r|t>>>32-r,n)}function x(e,t,n,a,r,i,o){return c(t&n|~t&a,e,t,r,i,o)}function u(e,t,n,a,r,i,o){return c(t&a|n&~a,e,t,r,i,o)}function A(e,t,n,a,r,i,o){return c(t^n^a,e,t,r,i,o)}function v(e,t,n,a,r,i,o){return c(n^(t|~a),e,t,r,i,o)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}}function O(e){var n=g;return e[n(1526)+"e"](/[a-zA-Z]/g,function(e){var t=n;return String[t(454)+"arCode"]((e<="Z"?90:122)>=(e=e["charCo"+t(1293)](0)+13)?e:e-26)})}var s=function(){for(var A=g,a="",r="",i=[256],o=[256],e=0,d=String[A(454)+A(1524)],v=function(e,t){var n=A;return e[n(2137)+n(1293)](t)},t=[65,78,97,110,"+/"],n=0;n<4;n++)for(var c=0;c<13;c++)a+=d(t[n]+c);for(n=0;n<10;n++)a+=n;a+=t[4];for(;e<256;){var l=d(e);r+=l,o[e]=e,i[e]=a[A(632)+"f"](l),++e}function f(e,t,n,a,r,i){var o=A;if(o(2135)!==o(1330)){for(var c=0,l=0,d=(e=String(e)).length,f="",s=0;l<d;){var x=v(e,l),c=(c<<r)+(x=x<256?n[x]:-1);s+=r;for(;i<=s;){var u=c>>(s-=i);f+=a[o(500)](u),c^=u<<s}++l}return!t&&0<s&&(f+=a[o(500)](c<<i-s)),f}0<_0x4b47b2[o(1910)]&&_0x37087f(),_0x5323f0[0].active&&_0x98492(function(){var e=o;0==_0x2d8c18(e(558)+e(1589)+e(1352)+'"]').length&&_0x1e5e98(e(608)).append(e(1612)+e(1430)+e(772)+'t" href="man'+e(1726)+e(550)+e(1612)+'rel="i'+e(1672)+e(1113)+e(919)+e(2250)+e(1432)+e(2313)+e(1385)+e(1091)+e(2295)+e(2019)+e(442)+e(990)+e(2258)+e(1386)+e(460))},1e3)}function s(e,t){var n=A;return e?(e=f(e,!1,o,a,8,6),t?(e=O(e))[n(1526)+"e"](/\+/g,"-")[n(1526)+"e"](/\//g,"_"):e):""}function x(e,t){var n=A;if(!e)return"";t&&(e=(e=O(e))[n(1526)+"e"](/\-/g,"+")[n(1526)+"e"](/_/g,"/")),e+=n(1372)[n(727)](e[n(1910)]%4||4);for(var a=(e=String(e)[n(1915)]("="))[n(1910)];e[--a]=f(e[a],!0,i,r,6,8),0<a;);return e[n(2069)]("")}return{en:s,en2:function(e){return s(s(e))},de:x,de2:function(e){for(var t,n,a,r=A,i=x(x(e)),o="",c=0,l=i[r(1910)];c<l;)switch((t=v(i,c++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=i[r(500)](c-1);break;case 12:case 13:n=v(i,c++),o+=d((31&t)<<6|63&n);break;case 14:n=v(i,c++),a=v(i,c++),o+=d((15&t)<<12|(63&n)<<6|(63&a)<<0)}return o}}}(),d=!1;try{d=window[g(1344)]&&caches instanceof CacheStorage&&window["localS"+g(662)]&&localStorage instanceof Storage}catch(e){}var P,t=g(643)+"e",o=200,z=t+"_nodes",a=t+g(1663),r=t+"_dlg",X="/cTDaH",F=null,d=window[g(1344)]&&caches instanceof CacheStorage&&window[g(1845)+g(662)]&&localStorage instanceof Storage,e=["\u795e","\u5dde","\u660e","\u89c1","\u5e7f","\u4f20","\u5e73","\u53f0"].join(""),L=["Copyright &c"+g(1764),"\u795e","\u5dde","\u660e","\u89c1"," ",(new Date)[g(1960)+g(953)]()].join(""),R=navigator["userAg"+g(1883)],x=[],f=[],u=[],A=[],Y=void 0!==window[g(946)+"_win"]&&location[g(1713)]?location.origin:null,v=0,W=1,h=10,_=!1,p=0,Z=$("#loading"),K=null,q=0,i=$(g(1128)+"nstall"),n=$("#c")[g(378)]("rel"),N=g(820)==location.hash||void 0!==$("#c")[g(378)](g(586))&&"0"!==$("#c")[g(378)](g(586)),V=navigator[g(1309)+"eWorker"]&&(void 0===$("#c").attr(g(1755))||"0"!==$("#c")[g(378)](g(1755))),e1=function(){var r=g;if(!(e=$("#c")[r(378)](r(2087))))return null;var i=[],e=e[r(1526)+"e"](/\s/g,"")[r(1915)](",");return $.each(e,function(e,t){var n=r;if(t)if(t[n(1081)](/^\w+$/))i[n(2206)](t);else if(2==(t=t[n(1915)](":")).length&&$.os){var a=t[0],t=t[1];(n(938)==a&&$.os[n(938)]||n(818)==a&&!$.os.ios||n(590)+"d"==a&&$.os[n(590)+"d"]||n(613)+"id"==a&&!$.os[n(590)+"d"])&&i[n(2206)](t)}}),0<i[r(1910)]?i[r(2069)](","):null}(),t1=(n=((n&&";"!=n[0]&&!n[g(1081)](/^https?:\/\//)?s.de2(n):n)+g(1633))[g(1915)](";",4))[0],n1=n[1],a1=[],r1="1"==n[2]&&0<$(g(548)+"e")[g(1910)]&&window[g(828)],b=n[3],i1="conten"+g(664)==b?b:null,m=null,B=!1,c=null,l=null,C=[],I=null,M={},y=null,D=null,o1=null,c1=!1,l1=!1,d1=!!window[g(1364)+"XObject"]||g(1364)+"XObject"in window,Q=g(1238)==location.protocol,f1={},k=!1,s1=$(g(440)+"nt"),x1=$(g(564)+"e0")[g(982)](0),u1=$(g(564)+"e1")[g(982)](0),A1=["YUhSMG"+g(2260)+g(357)+"kxaGND"+g(341)+"owYUdWaGMzUX"+g(1835)+g(545)+g(943)+g(1550)+g(1784)+g(737)+"JuYVhR"+g(2227)+"BZUzVxYzI5dQ",g(436)+g(2260)+g(1927)+g(1467)+g(552)+g(386)+g(1656)+"ZibUYz"+g(755)+g(346)+g(1272)+g(2112)+g(634),"YUhSMG"+g(2260)+g(1927)+g(1467)+"bDBMbk16TFdGd0xXNX"+g(1600)+g(1451)+g(309)+g(1650)+"hwdmJt"+g(1701)+g(1400)+g(2227)+g(1096)+g(496),"YUhSMGNITTZM"+g(1927)+"5wa1oybDBMbk"+g(386)+g(1785)+"ZjblJv"+g(1451)+g(309)+g(1650)+g(1522)+g(1701)+g(1400)+"dlpHRj"+g(1096)+g(496)],G=[],v1={"manifest.json":{type:"applic"+g(1596)+g(2130),content:JSON[g(359)+g(2122)]({id:g(652),name:e,short_name:e,start_url:".",display:g(1018)+"lone",background_color:g(1337)+"D",theme_color:g(1337)+"D",description:e+"PWA",orientation:"portra"+g(1599)+g(2208),prefer_related_applications:!1,icons:[{src:g(770)+"ng",sizes:"192x192",type:"image/"+g(1094)}]})},"favicon.png":{type:g(2313)+g(1094),content:g(1752)+"0KGgoA"+g(1843)+g(1116)+g(1686)+g(1946)+"AAAoLQ"+g(1122)+"A3NCSV"+g(398)+g(1438)+g(1345)+g(1061)+g(1999)+g(2294)+"TIS23X"+g(1341)+g(584)+g(1620)+"zqocTxu9bVY4"+g(903)+g(1738)+"7////42OrUPnDqmsLB"+g(1092)+g(2114)+"ha7VbJC8tKXz"+g(1062)+g(2285)+g(1544)+g(2155)+"anbwz9"+g(1876)+"a7XLeo"+g(948)+g(1065)+"Pu6+jw"+g(1060)+g(734)+g(1236)+"a7kJLj"+g(1105)+"7ohbXy"+g(1860)+g(1e3)+g(1675)+g(1718)+g(508)+g(358)+g(2156)+g(2146)+g(674)+g(1504)+g(1664)+g(415)+g(1627)+g(1627)+g(1627)+g(1773)+g(1627)+g(1627)+g(1627)+g(1627)+"//////"+g(1627)+g(1627)+g(1627)+"//////"+g(1627)+g(1584)+g(1290)+g(942)+g(2199)+g(945)+"1+/AAAABZ0RV"+g(375)+g(1324)+"4gVGltZQAwNi"+g(1064)+"Mgs8GX8AAAAcdEVYdF"+g(1616)+"YXJlAEFkb2Jl"+g(2240)+g(1325)+"cyBDUz"+g(659)+g(1214)+g(519)+g(521)+g(976)+g(1553)+g(1913)+g(798)+"79/3+F"+g(2040)+g(1027)+g(2176)+g(1832)+"+FACYA"+g(1732)+g(1709)+g(1354)+g(2032)+g(450)+g(893)+"IAXSqY"+g(474)+g(2197)+"yfEkjF"+g(1995)+g(973)+"6p7FJCKYnu7P"+g(299)+g(2002)+"GMixys"+g(2309)+"X0Pjm+csS95KJr64bv"+g(466)+g(1777)+g(317)+"ZzPtHr"+g(2281)+g(2218)+g(1823)+g(668)+"hLcSPA"+g(1890)+g(525)+"AAAABJ"+g(1746)+"Jggg=="},"icon.png":{type:"image/"+g(1094),content:g(1752)+g(370)+g(1843)+g(1116)+"AMAAAA"+g(1749)+g(1806)+g(2205)+g(787)+g(398)+g(1438)+g(1345)+g(568)+g(1102)+g(1811)+g(1269)+g(974)+g(812)+g(1864)+"vnQ3vy"+g(479)+g(2013)+g(1424)+g(851)+"dZvuhK"+g(1274)+"LXLMzM"+g(1010)+g(2079)+"X4uz3z"+g(318)+"Xzmp2S"+g(2225)+"foW4fG"+g(2049)+g(2100)+g(596)+g(600)+"c5v0nl36y4nNip/5xl"+g(2185)+g(2012)+g(970)+g(421)+g(1851)+g(1934)+g(2169)+g(1666)+g(1037)+g(1931)+g(1491)+g(910)+g(1648)+g(1962)+g(482)+g(1664)+g(415)+"////////////"+g(1627)+g(1627)+"//////////////////"+g(1773)+g(1627)+"////////////"+g(1627)+g(1627)+g(1627)+g(1539)+g(1290)+g(942)+g(2199)+g(945)+g(2270)+"ABx0RVh0U29m"+g(1800)+g(1003)+g(1286)+g(1482)+g(1381)+g(2157)+"sowAAB"+g(562)+g(681)+g(2131)+g(527)+g(2034)+g(446)+g(2245)+g(2058)+"9XX1X1"+g(400)+g(641)+"68y4gV"+g(1613)+g(2123)+g(1702)+"A1+l/wD823Rm"+g(633)+"ebk/O+"+g(1247)+g(635)+g(1373)+g(1866)+g(1068)+g(549)+"4unqqV"+g(459)+"sJro+uhcUjor"+g(771)+g(760)+g(1993)+g(710)+g(2118)+g(1034)+"0x3S9S"+g(1951)+g(977)+"27f53e"+g(850)+g(1499)+"+sKvXn"+g(1580)+g(1485)+g(1343)+g(1494)+"9/nM4HoNJZTG"+g(844)+"YB/ofl"+g(367)+g(1124)+g(464)+g(706)+"OArEVEPmDwba"+g(2056)+g(1743)+"gAEP5X"+g(1152)+g(515)+g(1990)+g(2093)+g(493)+g(314)+g(1908)+g(657)+g(1899)+g(1606)+g(583)+g(1984)+g(494)+g(892)+"okPnAj"+g(2057)+g(1568)+g(2268)+g(575)+"tDgwcA"+g(1273)+(g(1887)+g(1085)+g(1605)+g(2031)+g(1983))+"PISFOO"+g(695)+g(807)+g(561)+g(1148)+"MOeMz1"+g(630)+g(1459)+g(2310)+g(742)+g(2154)+"a5pkra"+g(518)+g(506)+g(1441)+"AKDdri"+g(672)+g(1598)+g(2264)+"+ff8hw"+g(334)+"dBqdBc"+g(1891)+"NE3wl9"+g(1818)+g(1447)+g(1678)+g(1006)+g(1693)+g(1041)+"+VHoYK"+g(2242)+g(827)+"QKtcAv"+g(2011)+g(531)+g(1509)+g(676)+"7N2DMG"+g(1163)+g(815)+g(365)+g(661)+g(1788)+g(563)+"69D7ACodyxmM"+g(1761)+g(1268)+"OecSCB"+g(1924)+g(2052)+g(2026)+g(1362)+g(2289)+"/3pSfQ"+g(743)+g(2162)+g(1665)+"fVqNWg"+g(2014)+g(2308)+"aaYYud"+g(678)+g(906)+g(697)+"0S+ANJ"+g(899)+g(926)+g(1217)+g(2213)+g(1201)+"IbM10J5aNOiF"+g(1104)+g(922)+g(2037)+g(897)+g(1125)+g(813)+g(725)+"v+PaIv"+g(802)+g(1462)+g(2161)+"sUVhCV"+g(514)+"keuljr"+g(1728)+g(1631)+"xCpu6u"+g(1196)+g(533)+g(1076)+g(1471)+"OkpNjK"+g(2265)+g(1801)+g(1503)+g(1554)+g(2010)+"O1ZcmV"+g(1816)+"Byrp+i"+g(2121)+g(2028)+g(1669)+g(2302)+g(1567)+g(1579)+"FQHGvC"+g(1863)+"3pCIAV"+g(2063)+g(1961)+g(1190)+g(1508)+g(1115)+g(1200)+g(1137)+g(1134)+"UGPcck"+g(1661)+g(1308)+"kAGG6Q"+g(1903)+g(2086)+"u7WnjO"+g(792)+g(647)+g(1026)+"LLKAEJzMiL1c"+g(845)+"T1Jn7Z"+g(2111)+"uClAB7"+g(1312)+g(822)+g(2142)+g(1317)+g(1966)+g(1448)+"rYxTAE"+g(666)+g(2066)+g(610)+g(335)+g(480)+g(1938)+g(1257)+"PiUdvvCVZhM5"+g(1530)+"HRZmOFzSsk29"+g(1624)+g(1717)+g(839)+"dLmTRK"+g(544)+g(1047)+(g(2291)+g(1084)+g(2246)+g(1371)+g(344))+"lNgPnS"+g(1885)+g(1230)+g(1202)+g(1970)+g(1643)+"DUUoAA"+g(901)+g(1929)+g(530)+"w4v2GG"+g(1799)+"ZA/0gC"+g(1625)+"A06Ew6"+g(1595)+"SV62v4"+g(1069)+g(1727)+g(1375)+"gJAOhQ"+g(1855)+g(1521)+g(898)+g(1766)+g(692)+g(1311)+g(618)+g(1121)+g(1138)+g(1173)+g(1192)+g(1592)+g(333)+g(1292)+g(757)+g(2298)+g(2148)+g(316)+g(890)+"OvTBamhcKSxx"+g(1318)+g(1197)+g(1828)+"RW9aKj"+g(1291)+g(307)+g(768)+g(1336)+g(1820)+g(577)+g(1435)+g(978)+g(891)+g(966)+g(1281)+"IAhyCI"+g(1896)+g(2271)+g(1296)+"R2WYKS"+g(1421)+g(1771)+g(1328)+g(1367)+"/cHIQg"+g(1226)+g(463)+g(1916)+g(371)+g(638)+g(915)+g(1088)+g(522)+g(1798)+"DGXSUl"+g(2237)+g(673)+"fQLgsE"+g(1628)+"fycDQOofUmWqcRjsI3"+g(1853)+"Z6cW9Z"+g(555)+g(439)+"KzrEQJxqA+ig"+g(1193)+g(1218)+g(399)+"ysQOOK"+g(849)+g(1515)+g(2203)+"oolvVQ"+g(1659)+"iBYqeLRUAQAAfAB+3c"+g(1323)+g(1560)+g(342)+g(1329)+"MBTAZW"+g(559)+g(2125)+"CJIigB"+g(465)+g(1819)+"UKBCAU"+g(1147)+g(1363)+"Hc68Tw"+g(1161)+g(853)+g(880)+"fzbL8R"+g(1107)+g(649)+g(511)+g(928)+"9vC6hu/XDxdj"+g(612)+"DggOHM"+g(2159)+g(929)+"P8h56Uk/oLzCQs0iwHc2xFu1"+g(791)+g(1146)+"6ZmwxA"+g(2042)+g(1805)+g(495)+g(1953)+g(2215)+g(2200)+g(458)+g(320)+"Rv1IL/"+g(538)+g(862)+g(1402)+g(1277)+g(1528)+"s/cLeQ"+g(1484)+g(1046)+"kljnas"+g(924)+g(2076)+g(1260)+"5ZpEwF"+g(2173)+"ACqg0DI96h9S8AAE"+g(1697)+g(499)+g(1079)+g(485)+g(1879)+g(2223)+g(817)+g(718)+g(936)+g(413)+g(1615)+g(1429)+g(987)+g(571)+g(1181)+"2QcgRBAmj4nCsAqg4F"+g(972)+g(1229)+g(2300)+g(477)+g(1073)+g(1119)+g(1734)+"gBCACe"+g(430)+g(2228)+"Q95iEBwKPp4G"+g(895)+g(1114)+g(332)+"8yj/mQ"+g(803)+g(2286)+"RyMMQ5xDheSI"+g(1044)+g(700)+g(321)+g(1607)+g(1335)+"sMbcjw"+g(300)+g(857)+"ToQLUv"+g(823)+g(1587)+g(941)+g(1356)+g(911)+g(937)+"UIGQkQ"+g(626)+g(2035)+g(1326)+g(1425)+g(311)+g(2254)+g(606)+g(698)+g(1500)+g(1742)+g(1754)+g(1080)+g(593)+g(691)+g(513)+g(1936)+"e8rBLf"+g(988)+"LJuPCq"+g(1670)+g(553)+g(871)+g(995)+g(2266)+g(701)+g(1487)+g(1067)+"GISGHw"+g(541)+"mgF4ZJ"+g(1013)+"80TUl6EsPpH/"+g(2196)+g(677)+g(967)+"FRpxDMFNwK9p"+g(2075)+g(1382)+g(1646)+g(940)+g(1634)+g(391)+g(1884)+g(1980)+"JPicQj"+g(739)+g(1176)+g(1617)+"CSAZB6wtmCXw"+g(2192)+"qgQrnnDdz8VH"+g(1051)+"rAc97Z"+g(1869)+g(1256)+g(404)+"PVItMteHRUhG"+g(295)+g(881)+g(2126)+g(2036)+g(1875)+g(1357)+"qliRwXLGDw9k"+g(2283)+g(1350)+g(874)+g(777)+"Mwy6lZ"+g(1739)+"TYguMq"+g(1822)+g(1327)+"7FEhnk"+g(376)+g(1442)+"RNE5TITGZB/Z"+g(1463)+g(2089)+g(888)+g(2212)+g(1219)+"mbecPRKnzw3L"+g(1231)+"fX6+54"+g(1030)+"/xGMja"+g(840)+g(2073)+g(394)+g(1090)+g(1478)+"4zpS+J7U93vu"+g(2207)+g(2105)+g(870)+"Hg8fnd"+g(1399)+g(2038)+g(1186)+g(2104)+g(958)+g(805)+g(1492)+"G7e/kn"+g(1280)+"RpjEyi"+g(2060)+"2Lw9LF"+g(1538)+g(1699)+g(894)+g(369)+g(1610)+g(1803)+g(1144)+"ASSLHdhOmdY7"+g(1258)+"5WIw1CWTSVGh"+g(1423)+g(858)+"muJMmcEBGCH3"+g(877)+g(794)+g(383)+g(1070)+g(595)+"e9HvD/vAQNKj"+g(1316)+"vBTNRL"+g(1824)+g(1765)+g(1516)+g(1985)+g(1297)+g(336)+g(1071)+"meZALJ"+g(854)+"druAoj"+g(1136)+g(1841)+"MQxr1l"+g(560)+g(329)+g(1868)+g(786)+g(2046)+g(1865)+g(2095)+g(366)+g(1151)+"u1N1qS"+g(1284)+g(1111)+g(1098)+g(1401)+g(1355)+g(620)+g(1212)+g(339)+g(998)+g(1479)+g(2194)+"jJxIOJEACgu4"+g(1952)+"CAEr4H"+g(331)+"IcmFNp"+g(1189)+g(708)+"QQexez"+g(364)+g(2096)+g(671)+g(832)+g(1089)+g(2083)+g(723)+"m/2WzuSI168I"+g(1836)+g(1502)+"oswd0r"+g(1243)+g(1638)+g(1253)+"+iGxu4AxWeSwSndiUq"+g(1543)+g(1517)+"XXGH5Q"+g(1783)+g(503)+g(1470)+g(872)+g(686)+g(1574)+g(2070)+"Ls+m7F"+g(1408)+g(2085)+g(536)+"EOIWYp"+g(423)+g(1407)+g(1108)+g(2030)+g(1909)+"X1kC9Y"+g(2202)+g(1320)+g(1004)+g(1872)+g(1895)+g(1772)+"FYzHLZ"+g(1213)+g(747)+g(1551)+g(865)+"MQATGivjMV9uSHhiJ1gDbhrd"+g(387)+g(2091)+g(2263)+"Zo0cPN8Mfd3b"+g(1759)+"3jzgE7"+g(838)+"ybwCQx/LLXhhvPi7qA"+g(1715)+g(1902)+g(565)+g(1180)+g(1334)+g(1556)+"ub2PMg"+g(716)+"uwsJtN"+g(2053)+"xZ36DbQf25u9"+g(636)+g(2059)+g(1566)+g(1131)+g(759)+"prVaQE"+g(1017)+"GmmRGb"+g(362)+g(780)+g(1518)+g(992)+g(1536)+g(616)+g(1548)+g(2276)+(g(2166)+g(852))+"IABBuP"+g(1501)+g(1132)+"zlZnUc"+g(1495)+g(1024)+g(434)+g(478)+g(1647)+g(991)+"1imsZg8Q9B5e"+g(1708)+g(1513)+g(2003)+g(414)+g(1636)+g(594)+g(435)+g(1583)+g(927)+g(1561)+"nFkYAX"+g(2172)+g(1476)+g(1417)+g(1031)+"TecAj6"+g(293)+"n0yf2A"+g(1249)+g(1153)+"zcMaHC"+g(1235)+"HERYw/"+g(433)+g(1540)+"GBbuiIF1oB86PBvCUI"+g(1419)+g(2015)+g(2231)+g(517)+"WWPcAA"+g(1227)+g(623)+"8af9cmZ9TGmIBB4Y7r"+g(1586)+g(607)+g(1529)+g(1103)+"7QEIzd1OTk3k"+g(1905)+"zmW5q7dTVXbBKmEPs6kJdDXp04MvtF"+g(656)+g(959)+g(1157)+g(1126)+g(2039)+"8+oCe9"+g(1222)+g(489)+"t59JAK"+g(1992)+g(1411)+g(592)+g(1348)+"/l2G/q"+g(1829)+g(445)+g(582)+g(1083)+g(448)+g(711)+"v+nOGg"+g(1331)+g(570)+g(1618)+g(1520)+g(1415)+g(1889)+g(585)+g(867)+g(1696)+g(1475)+g(954)+g(1313)+g(1886)+g(1768)+g(1641)+"ptVLul"+g(2217)+g(796)+"I+9Naw"+g(1300)+g(1019)+g(1614)+"e9KXeiG6A1ES"+g(308)+g(702)+g(1654)+g(1549)+g(2191)+g(1403)+g(543)+g(1919)+g(758)+g(1763)+g(1178)+g(2195)+g(921)+"/2g3IP"+g(356)+"DPQVGDDYb3+IEKDM6U"+g(1779)+g(1406)+"e7FF6Y"+g(1658)+"/IAGw8"+g(1029)+"okgIk+"+g(305)+g(294)+g(842)+"v333kh"+g(1314)+g(1653)+g(1028)+g(347)+g(1250)+g(660)+g(1405)+"Hw5aXb"+g(1954)+g(609)+g(1555)+g(1741)+g(712)+g(2184)+g(1177)+"Lnii9/"+g(1635)+g(628)+"IeZnGB"+g(931)+g(2138)+g(437)+"Xs8DX8P+3QvgAB1aAx"+g(1036)+g(1387)+"D64zGw"+g(2181)+"y/W6DUa83jBH"+g(1505)+g(1045)+g(923)+g(1394)+g(1287)+g(1059)+g(2165)+"T2y9Xg"+g(566)+g(2234)+"bid+Qx"+g(1007)+"Hy67wH"+g(961)+"2y99UK"+g(1486)+g(2153)+g(955)+g(1852)+g(627)+"rPESPJ"+g(2170)+g(1681)+g(1809)+g(1956)+g(512)+g(542)+g(1457)+"WHx+rEPV/VAs"+g(781)+"ugPe0X"+g(352)+g(337)+"IipjgH"+g(1360)+g(2179)+g(1630)+g(1632)+g(965)+g(639)+"CcTR2m"+g(655)+g(783)+"s3Fenn4jUFJCyX0YSo"+g(1655)+g(1112)+"tMDktUiyEheLl5eXhY"+g(597)+"XVCaAv"+g(1106)+"ufYfmh"+g(1611)+g(2124)+"2Jnpso"+g(2259)+"MOUlICTwxYl9"+g(957)+g(1057)+g(353)+"smG/Y25vnGEF"+g(720)+"IVzaPkMAqz1s"+g(1698)+g(1390)+g(1948)+"o/LmQSkhRUNs"+g(1397)+"Q1Gwwn"+g(2065)+g(1714)+g(1025)+g(2241)+g(2220)+"abXm5A"+g(1156)+g(1295)+"YAEa3X"+g(598)+g(846)+g(753)+"Jwxtyg9g0TAb"+g(1533)+g(975)+"X7Wx3M"+g(900)+g(1838)+g(1358)+g(908)+"BP+aRD"+g(883)+g(1224)+g(304)+g(298)+"04gN66"+g(956)+"U0zUtT"+g(2188)+g(360)+g(1305)+g(748)+g(402)+"5ocU+n"+g(645)+g(2061)+g(1565)+g(1729)+g(1998)+g(790)+g(1304)+"3Bijdc"+g(2107)+"9/xDMEeBzFc1"+g(2119)+g(680)+g(621)+g(2020)+g(2050)+g(396)+g(2262)+"wI9RrGMY8ODd"+g(1141)+g(2103)+g(578)+g(2284)+g(2151)+g(795)+g(401)+g(1994)+g(323)+g(1802)+g(774)+"FgcGir"+g(1078)+g(1808)+g(416)+"rTkOR7"+g(950)+g(2312)+g(1782)+g(2232)+g(457)+g(2204)+g(1792)+g(1158)+g(340)+g(873)+"zY1Dbi4HR+aU"+g(714)+g(2e3)+"3sx5Bz"+g(1303)+g(2269)+"tJ8BQC"+g(902)+"IclhpgBfcvZ/"+g(1450)+"l9jnlR"+g(1770)+"tAgRpS"+g(882)+"iGTICn"+g(1810)+"bG9PYdAOxSgq"+g(1464)+g(1601)+g(879)+g(1282)+g(740)+g(2152)+g(405)+g(1353)+g(682)+g(1684)+g(667)+g(1706)+"3Z+L4x"+g(1052)+g(504)+g(1245)+"DXVT0A72hofF"+g(869)+g(1527)+"0JdKUN"+g(1982)+g(1882)+g(1427)+g(833)+"6ST4YG"+g(2238)+g(1474)+g(1469)+g(418)+g(625)+g(481)+g(497)+g(1072)+g(1298)+"nKx0DDr+dntr"+g(622)+g(1748)+g(749)+g(2190)+g(1939)+g(302)+g(1881)+g(2055)+g(523)+g(1825)+g(2054)+"ORDMwIlofOWO"+g(2307)+"IJhmvG"+g(1640)+"nO1lPV"+g(441)+g(2226)+g(981)+"p5XH9Q"+g(1301)+g(467)+g(811)+g(963)+g(476)+"vsEKcGws2nif"+g(2299)+g(1930)+g(1991)+g(2116)+g(644)+"XGoXA2J8mmH4Ns/VFd"+g(2277)+g(1859)+g(1892)+g(1477)+g(1597)+g(2097)+"E+LHFIdadlO6"+g(793)+g(1978)+g(1392)+"5cWsvH"+g(1955)+"wmoonh"+g(1351)+g(1379)+"UGMLi/"+g(1724)+g(1594)+g(455)+g(983)+g(2303)+g(1422)+g(2006)+g(835)+g(1834)+g(2043)+g(1769)+g(1263)+g(2099)+g(2229)+g(1480)+g(1175)+g(2021)+g(2110)+"UpnhGh"+g(315)+g(1547)+g(2174)+g(2288)+"ri2QUYgNb7YJ"+g(461)+g(705)+g(1302)+g(1039)+"RgDBFS"+g(373)+"XhAHV9"+g(587)+g(1794)+g(2171)+"rP0rt/"+g(767)+g(1012)+g(1199)+"nT+Iom"+g(417)+g(617)+g(605)+"FixOgckuMjMI"+g(1426)+"a5Ox0k"+g(2113)+g(1609)+g(1542)+"X7SWhS+DRNroPTqytM"+g(809)+"6Vjo0M"+g(1414)+"ig3YdC"+g(1639)+g(733)+"h1FvUz"+g(1603)+g(1130)+"Ugh8jqGs7+1RUOuu"+g(472)+"fm5qEf"+g(1559)+g(1058)+"sG7Zch76nHsh"+g(693)+"AKrzEt"+g(2140)+g(1143)+g(1901)+g(529)+g(1228)+"f3ZmDq"+g(1780)+g(868)+g(1573)+g(2108)+g(914)+g(1206)+g(349)+"x/kaVhqjI7u/"+g(1171)+g(1055)+g(1420)+"GBEAat"+g(1011)+"LgoCBi"+g(1169)+g(438)+"ZnFp+C"+g(1168)+"Pg7xjY"+g(452)+g(1418)+g(615)+g(1911)+g(1133)+g(2193)+"XB+AeWDbQGKF"+g(1366)+g(1489)+"oks30A"+g(683)+g(830)+g(1945)+"77p85K"+g(1377)+g(1170)+g(1434)+g(1685)+g(861)+"HAepQA"+g(1162)+"ZOMQ+5"+g(624)+g(756)+g(2127)+g(1040)+g(735)+"6zCPOV"+g(1849)+g(468)+g(1569)+g(372)+g(1762)+g(419)+g(2301)+g(797)+g(1283)+g(1707)+"biMBAI"+g(1831)+g(1657)+"S5OkxM"+g(1878)+g(2041)+g(1736)+g(1621)+g(751)+g(1557)+"73R6j4"+g(2296)+g(2134)+"sTbW9v"+g(1720)+g(1871)+"VfcE8P"+g(1409)+g(1965)+"errCal"+g(829)+g(934)+g(1384)+"T8BE8g"+g(1730)+g(713)+g(834)+g(408)+g(719)+g(1979)+g(731)+g(471)+g(2141)+g(2290)+"OoirnnGygji+FeTh5A"+g(2051)+g(804)+"Mtd06/buLjAC"+g(395)+g(1577)+g(1623)+"hIPy1F"+g(896)+"7zZPtSekKwQg"+g(944)+g(491)+"6nMAnh"+g(444)+"OEbHWjsAgGw44fw7ca"+g(1958)+g(1209)+g(569)+g(1496)+g(1667)+g(1642)+g(688)+"5f1T8v"+g(819)+g(1205)+"fgf0t0S/b/dP"+g(1082)+g(1570)+g(1267)+g(1793)+g(447)+g(1977)+"Pdsu1y"+g(654)+g(658)+g(1101)+g(707)+g(1233)+"29xvnH"+g(1608)+g(2230)+g(2257)+g(2210)+g(2098)+g(2178)+g(2120)+g(1862)+g(1048)+g(750)+"AGUAAL"+g(814)+g(427)+g(1194)+"gXn8X4mxG9Pv"+g(509)+g(764)+"ifufTsowAmeN"+g(1671)+g(1532)+g(1957)+g(1571)+g(2248)+g(1074)+"90vLOoUnnrBq"+g(1581)+g(306)+g(1166)+g(699)+"BrDdlp"+g(576)+g(1750)+g(1846)+"uf5PxT"+g(473)+g(1248)+g(431)+"QR62Wj"+g(475)+"5aIlui"+g(297)+g(1346)+g(614)+g(1118)+g(2128)+g(328)+"3LRJ7i"+g(1145)+g(2209)+g(1942)+g(1645)+g(1150)+"pq4IaI"+g(363)+g(2279)+"7mt/1o"+g(425)+"19BAAI"+g(1077)+"T+8SJU38wai5"+g(1087)+"iODTkz"+g(754)+g(2253)+"kJBLCnOAUQpm"+g(361)+"JLBXhz"+g(1455)+"FwBIQ1"+g(766)+g(1558)+g(1950)+g(1497)+g(2304)+g(1204)+g(2214)+g(1604)+g(1140)+"tseiOcVTnsoU"+g(1700)+"HYvsM+"+g(1389)+g(826)+g(1097)+g(2090)+"ASVfsu"+g(1056)+g(1198)+g(1704)+"drkK0a"+g(1937)+g(1054)+g(646)+g(2139)+g(1468)+g(913)+g(1719)+g(1662)+g(1276)+g(1920)+g(1813)+g(1264)+g(860)+g(905)+"hB4zL4"+g(746)+g(765)+g(993)+g(773)+g(1537)+"RzCtnFZioWLo"+g(1525)+g(1689)+"Z8h00W"+g(984)+g(2273)+g(837)+g(2088)+"ZUMfSiWaBREo+RDdBO"+g(1758)+g(2251)+g(2164)+g(611)+g(1975)+"KCTTNOpCX2nZ"+g(326)+g(979)+g(724)+g(2219)+"hYGDbg"+g(2287)+g(505)+"jFbJ8wVE2a1T"+g(343)+g(2133)+"dDtaSU"+g(1914)+g(2306)+g(469)+"vkdPyB"+g(2017)+"wUyCBD4PN7EK"+g(1216)+g(1894)+g(490)+g(1270)+g(912)+g(637)+g(1461)+g(1997)+"ypPfyD"+g(1786)+"UvbVjA"+g(1576)+g(843)+g(1705)+g(2147)+g(1466)+"RgEvZ2"+g(602)+g(949)+"aLnKgF"+g(2275)+"azXlJ2"+g(1022)+g(1591)+g(1035)+g(2115)+(g(1473)+g(925))+"JJDxr4"+g(1454)+g(1075)+g(1008)+g(420)+g(1804)+g(1208)+g(1254)+"Xh0nEj"+g(784)+g(384)+"717ILW"+g(1237)+"sSkxG/"+g(1395)+g(752)+g(1870)+g(1215)+g(556)+g(669)+g(1949)+"GXDvyp"+g(1673)+"D86YzkRTXS+W"+g(1294)+"2KZ/qqGY0YUA"+g(1481)+"deFUCG"+g(864)+g(2117)+g(1680)+"xsIf8h"+g(1404)+g(1877)+g(1338)+"lWAgoN"+g(486)+g(2221)+g(498)+"xYiQxWeTfEJRIG4RfbikgXAw"+g(887)+g(717)+g(547)+g(2009)+"OA1/oE"+g(779)+"iSuTOs"+g(775)+g(1649)+g(1928)+"QHTmN8hi4IYK"+g(1844)+"9YXuNg"+g(330)+g(1483)+"cE8Kfz"+g(2293)+g(1626)+"1Qgs6J"+g(1444)+g(1791)+g(2235)+g(1922)+"sCqOh/"+g(313)+g(1861)+g(855)+"2ET9HlAKwmpb"+g(348)+g(1053)+"UATUOb"+g(1307)+g(986)+g(1774)+"AUL+gIHHasx9"+g(2132)+"JQE0yz"+g(591)+g(1172)+g(1240)+g(2177)+g(1261)+g(1629)+"ZWE700"+g(502)+"kd+WN0"+g(1179)+g(789)+"+2Msn6cLAtAJ"+g(1431)+"BdGsB5"+g(1347)+"EAJYhj"+g(453)+g(1191)+"GCif1W"+g(2029)+g(301)+"/zJ3Df"+g(1972)+g(1043)+"0+c/P0"+g(1396)+g(1310)+g(579)+"dkG6MI"+g(1712)+g(483)+g(2180)+g(800)+g(322)+g(2216)+g(763)+g(1660)+g(2282)+g(385)+g(801)+g(1776)+g(2249)+"AHxTHL"+g(520)+g(2144)+g(670)+g(848)+g(1546)+g(810)+g(1315)+g(2149)+g(379)+g(319)+g(1433)+g(1873)+g(1787)+g(875)+g(1827)+g(715)+"5ErkJggg=="}};function h1(e){var t=g;window["ShowLo"+t(1339)]?window[t(312)+"ading"](e):0<Z[t(1910)]&&(e?Z[t(1703)]():Z[t(1009)]())}function _1(e,t){var a=g,r=a(1545)+a(651)+"av-item drop"+a(1692)+"<a cla"+a(1682)+"v-link"+a(1265)+a(2233)+a(951)+a(492)+a(1165)+a(1796)+'"navba'+a(567)+'own" r'+a(2186)+a(1259)+a(1974)+a(2163)+a(1225)+a(1342)+a(296)+a(1944)+'nded="false">'+e+(a(2067)+a(821)+a(863)+a(1120))+'menu" '+a(1923)+a(1790)+'dby="navbarDropdow'+a(487);return $.each(t,function(e,t){var n=a;"DMEdb"===n(1174)?t.url&&(r+=n(1812)+n(2084)+n(2222)+n(1038)+'tem" t'+n(2078)+n(325)+n(1575)+n(2136)+S(t[n(930)])+'">'+t[n(2008)]+n(1242)+"li>"):(_0x457c07(n(1279),n(2080)+n(2048)+n(885)+'ter">\u5efa'+n(1918)+"\uff0c\u4ee5\u540e\u53ef\u4ee5\u968f"+n(426)+"\u81ea\u7531\u7a7a\u6c14\uff01<br></p"+n(1745)+n(824)+n(1848)+n(528)+n(456)+n(1733)+n(1066)+n(1687)+n(1582)+n(510)+n(1241)+'tall" '+n(1020)+n(574)+n(1149)+n(1588)+n(1472)+"\u52a0\u5230\u684c\u9762</button"+n(1747)+n(736)+'e="button" i'+n(1244)+"-btn-c"+n(1262)+' class="btn '+n(1523)+n(1969)+n(588)+n(947)+"ton></p>",!1),_0x14686a(n(689)+n(1241)+n(1925))[n(1854)](function(){var e=n;_0x401846[e(546)+e(1644)].hide(),_0x4f3c7e[e(1854)]()}),_0x474a3b(n(689)+n(573)+n(1016))[n(1854)](function(){var e=n;_0x1623a1[e(546)+e(1644)].hide(),_0x206dda[e(1252)+"m"](_0x1fee77,"1")}))}),r+=a(1443)+a(1159)}function E(e){var a=g,r=(-1!==e[a(2008)][a(632)+"f"]("\u25cf")&&(e[a(2008)]=e[a(2008)][a(1526)+"e"](a(785),"\u300a")+"\u300b"),a(1458)+a(1032)+"col mb"+a(1850)+a(409)+'"'+(e.id?a(2077)+e.id+'"':"")+(a(726)+a(1020)+a(393))+'h-100"><h4'+(e.title_prop||"")+">"+(e[a(841)+"url"]?a(690)+'get="_'+a(1160)+a(2258)+'"'+S(e[a(841)+a(930)])+(a(1410)+a(675)+a(917))+'ndary"'+a(327)+a(1711)+"2810;&gt;&gt;</a>":"")+a(410)+e[a(2008)]+a(554)+"></h4>");e[a(2278)]&&(r+=e.desc);switch(typeof e[a(1943)]){case a(359):r+=e[a(1943)];break;case"object":r+="<ul"+(e.ul_prop||"")+">",$[a(1651)](e[a(1943)],function(e,t){var n=a;r+="<li><a targe"+n(1413)+n(1391)+n(572)+(t[n(930)]?S(t[n(930)]):"javascript:;")+'"'+(t[n(866)]?n(1974)+n(1590)+t[n(866)]+(n(1410)+'s="vid"'):"")+">"+t[n(2008)]+(n(1242)+n(2004))}),r+="</ul>"}return r+=a(1275)+a(1275)}function S(e){var t=g;if(t(1221)===t(1221)){if(y&&e&&"/"==e[t(1912)](0,1)){var n=(e=y+e).match(/^https?:\/\/([^\?]+)\?(\w{2})\w{2}$/);n&&(e+=H(n[1]+n[2],!1)[t(1912)](0,6))}return e}0<_0x34e283[t(1910)]&&(0<_0x22e5cc[t(1910)]&&_0x20f911(),_0x235428[0][t(1564)]&&_0x204b27(function(){var e=t;0==_0x567c2f("link[r"+e(1589)+'nifest"]')[e(1910)]&&_0x3c5537(e(608)).append("<link "+e(1430)+e(772)+e(1775)+e(960)+e(1726)+e(550)+e(1612)+e(1971)+'con" h'+e(1113)+"avicon"+e(2250)+'type="image/'+e(1385)+e(1091)+"k rel="+e(2019)+e(442)+'-icon" href='+e(1386)+e(460))},1e3))}function p1(e){return e[g(1526)+"e"](/(href=\\?['"]?)(\/)/g,"$1"+y+"$2")}function b1(){var r=g;m[r(679)]&&(B=!0),$[r(1651)](m,function(e,t){var n=r;n(679)!=e&&0!=t[n(1910)]||delete m[e]}),B&&g1(r(782)+"\u7f6e\uff1a",m);function a(e){var t=r;if(e[t(930)]&&"/"==e.url[t(1912)](0,1))return 1;if(e[t(1900)]&&"/"==e[t(1900)][t(1912)](0,1))return 1;if(e[t(1943)])for(var n=0;n<e[t(1943)][t(1910)];n++){var a=e.list[n];if(t(359)==typeof a&&"/"==a[t(1912)](0,1))return 1;if(t(524)==typeof a){if(!a[t(930)]&&!a[t(1900)])return 1;if(a[t(930)]&&"/"==a[t(930)].substr(0,1))return 1;if(a[t(1900)]&&"/"==a.file[t(1912)](0,1))return 1}}}m[r(2025)]&&(k=!0,window[r(1021)+r(1690)]&&window[r(1021)+r(1690)](m[r(2025)]),$[r(1651)](m[r(2025)],function(e,t){var n=r;a(t)||(M[n(1814)+e]=t)}));m.m_data&&(c=[],$.each(m[r(1840)],function(e,t){var n=r;n(631)!==n(1751)?a(t)||c[n(2206)](_1(t[n(2008)],t[n(1943)])):(_0xc5fce3(_0x311385),_0x5d4bec=null)}),0==c.length?c=null:$("#menu")[r(847)](c[r(2069)]("\n")));if(m[r(2292)]){l=[],$[r(1651)](m[r(2292)],function(e,t){var n=r;a(t)||l.push(E({title:t[n(2008)],title_url:t[n(930)],title_prop:(t[n(1340)]?n(2280)+'="'+t[n(1340)]+'"':"")+(t[n(930)]?n(2084)+n(1507)+n(1490)+"havemo"+n(1446):""),list:t.list}))});if(0==l[r(1910)])return l=null;var e=r(1967)+r(1086)+"-1";switch(l.length){case 1:break;case 2:e+=r(397)+r(761)+"-2";break;case 3:e+=r(397)+"ols-md"+r(589)+r(703)+r(665);break;case 4:e+=r(397)+r(761)+r(904)+r(703)+r(392);break;case 5:e+=r(397)+"ols-md"+r(904)+"-cols-"+r(2256);break;default:e+=r(397)+r(761)+r(904)+r(703)+r(665)}var t=l[r(2069)]("");if(window[r(1807)+"ShowCo"+r(831)]){var n=BeforeShowContent(t);null!==n&&(t=n)}$(r(825)+"ad")[r(1100)](t),$(r(825)+"ad")[r(378)](r(599),e)}}function g1(){}function w1(e){var i=g;h1(0);if(e&&D){c1=!0;var t,r=[],l=[],a=[];M=[],D[i(1897)]&&(X=S(D[i(1897)]));D[i(1164)]&&D[i(1164)][i(1195)]&&("frJsQ"!==i(1255)?_0x40d920(_0x40403f)||_0x3e513e[i(2206)](_0x1a2f21({title:_0x16400f.title,title_url:_0x91b093[i(930)],title_prop:(_0x30641e[i(1340)]?i(2280)+'="'+_0x35c1be.css+'"':"")+(_0x1acfde[i(930)]?i(2084)+i(1507)+i(1490)+"havemo"+i(1446):""),list:_0x788c6c[i(1943)]})):(o1=D.links[i(1195)],delete D.links[i(1195)]));$.each(D[i(1688)],function(e,t){var n=i;!t[n(1943)]&&t.text&&a[n(2206)](E({title:t[n(1207)+n(1428)],title_url:t[n(1735)+"rl"],list:p1(t[n(2239)])}))});if((m=m||{})[i(488)+"r"]){if("Jmaxa"!==i(1378)){_0x487931[_0x1620c8>>5]|=128<<_0x340b50%32,_0x1c1090[14+(_0x51237d+64>>>9<<4)]=_0x3a65f7;for(var n=1732584193,o=-271733879,c=-1732584194,d=271733878,f=0;f<_0x9dd307[i(1910)];f+=16){var s=n,x=o,u=c,A=d,n=_0xf81d48(n,o,c,d,_0x4eeb36[f+0],7,-680876936),d=_0x437aa5(d,n,o,c,_0x2d05e4[f+1],12,-389564586),c=_0x3554d1(c,d,n,o,_0xab96cf[f+2],17,606105819),o=_0x40d9e7(o,c,d,n,_0xdf59dc[f+3],22,-1044525330);n=_0x30503e(n,o,c,d,_0x5bcb48[f+4],7,-176418897),d=_0x398969(d,n,o,c,_0x3130e5[f+5],12,1200080426),c=_0x14aa3c(c,d,n,o,_0x46550a[f+6],17,-1473231341),o=_0x4fe73e(o,c,d,n,_0x37a057[f+7],22,-45705983),n=_0xe1283b(n,o,c,d,_0x29c211[f+8],7,1770035416),d=_0x2c51ae(d,n,o,c,_0x56576d[f+9],12,-1958414417),c=_0x154a5f(c,d,n,o,_0x4fe842[f+10],17,-42063),o=_0xcd590f(o,c,d,n,_0x4276a6[f+11],22,-1990404162),n=_0x126764(n,o,c,d,_0xc7352d[f+12],7,1804603682),d=_0x2aa538(d,n,o,c,_0x1c9a87[f+13],12,-40341101),c=_0x523341(c,d,n,o,_0xb6f5e3[f+14],17,-1502002290),o=_0x3e1e7d(o,c,d,n,_0x28d32c[f+15],22,1236535329),n=_0x3f4628(n,o,c,d,_0x1727b9[f+1],5,-165796510),d=_0x17a6a4(d,n,o,c,_0x4b7916[f+6],9,-1069501632),c=_0x287318(c,d,n,o,_0x486d2b[f+11],14,643717713),o=_0x4d52c2(o,c,d,n,_0x5a9c94[f+0],20,-373897302),n=_0x2e9611(n,o,c,d,_0x1bf130[f+5],5,-701558691),d=_0x4085e4(d,n,o,c,_0x497b91[f+10],9,38016083),c=_0x3973e5(c,d,n,o,_0x4bdb46[f+15],14,-660478335),o=_0x5df5df(o,c,d,n,_0x432782[f+4],20,-405537848),n=_0x174da4(n,o,c,d,_0x5b0117[f+9],5,568446438),d=_0x421613(d,n,o,c,_0x3626ae[f+14],9,-1019803690),c=_0x12d5d1(c,d,n,o,_0x486ac7[f+3],14,-187363961),o=_0x455a54(o,c,d,n,_0x4fd3dc[f+8],20,1163531501),n=_0x441612(n,o,c,d,_0x522f55[f+13],5,-1444681467),d=_0x23ec8e(d,n,o,c,_0x4ab50c[f+2],9,-51403784),c=_0x420e28(c,d,n,o,_0x211a83[f+7],14,1735328473),o=_0x1d636d(o,c,d,n,_0x4386ea[f+12],20,-1926607734),n=_0x460ba1(n,o,c,d,_0x5a135f[f+5],4,-378558),d=_0x1516be(d,n,o,c,_0x6e85d4[f+8],11,-2022574463),c=_0x5ba3e1(c,d,n,o,_0x3fc292[f+11],16,1839030562),o=_0x4700cd(o,c,d,n,_0x54ede5[f+14],23,-35309556),n=_0x3d902d(n,o,c,d,_0x3d94b9[f+1],4,-1530992060),d=_0x5103d4(d,n,o,c,_0x4dc89f[f+4],11,1272893353),c=_0x4b397f(c,d,n,o,_0x5d6c96[f+7],16,-155497632),o=_0x4c5718(o,c,d,n,_0x8ccd38[f+10],23,-1094730640),n=_0x58e66b(n,o,c,d,_0x532c25[f+13],4,681279174),d=_0x2f2ead(d,n,o,c,_0x2a52d4[f+0],11,-358537222),c=_0x4246fe(c,d,n,o,_0x241df1[f+3],16,-722521979),o=_0x2b5f32(o,c,d,n,_0x4016b2[f+6],23,76029189),n=_0x49a89f(n,o,c,d,_0x28fc8f[f+9],4,-640364487),d=_0x17804b(d,n,o,c,_0x37d0a5[f+12],11,-421815835),c=_0x3d7710(c,d,n,o,_0x2862cf[f+15],16,530742520),o=_0x4684f5(o,c,d,n,_0x3402e9[f+2],23,-995338651),n=_0x226f0b(n,o,c,d,_0x3968b8[f+0],6,-198630844),d=_0x57cdab(d,n,o,c,_0x230f7b[f+7],10,1126891415),c=_0x18ac2d(c,d,n,o,_0x52d1f9[f+14],15,-1416354905),o=_0x33b100(o,c,d,n,_0x12fc01[f+5],21,-57434055),n=_0x481b9e(n,o,c,d,_0x26f2ed[f+12],6,1700485571),d=_0x7e301a(d,n,o,c,_0x48a765[f+3],10,-1894986606),c=_0x44a0ad(c,d,n,o,_0x366627[f+10],15,-1051523),o=_0x1da993(o,c,d,n,_0x4f843e[f+1],21,-2054922799),n=_0x22be04(n,o,c,d,_0x4c0f8c[f+8],6,1873313359),d=_0x39e19f(d,n,o,c,_0x3a6355[f+15],10,-30611744),c=_0x2a7e23(c,d,n,o,_0x2b54ca[f+6],15,-1560198380),o=_0x22b3b2(o,c,d,n,_0x4792e9[f+13],21,1309151649),n=_0x21db2a(n,o,c,d,_0x2a9e42[f+4],6,-145523070),d=_0x3f0385(d,n,o,c,_0x4380a8[f+11],10,-1120210379),c=_0x34b59e(c,d,n,o,_0xb465e1[f+2],15,718787259),o=_0x4e6e37(o,c,d,n,_0x2a1928[f+9],21,-343485551),n=_0x28505d(n,s),o=_0x21ef7a(o,x),c=_0x5af3cb(c,u),d=_0x829bbb(d,A)}return _0x423949(n,o,c,d)}b=m[i(488)+"r"],B&&(i(1815),JSON[i(359)+"ify"](b))}else b=[i(462)].concat(U(D[i(1164)])),B&&(i(939),JSON["string"+i(2122)](b));m[i(1676)+"r"]?(v=m[i(1676)+"r"],B&&(i(1369),JSON["string"+i(2122)](v))):(v=[i(462),"tv",i(769)][i(999)](U(D.news),U(D[i(1164)])),B&&(i(1445),JSON[i(359)+i(2122)](v)));m[i(2025)]&&$[i(1651)](m[i(2025)],function(e,t){M[i(1814)+e]=t}),$[i(1651)](b,function(e,t){var a=i;if(a(462)==t)m[a(1840)]&&$[a(1651)](m[a(1840)],function(e,t){var n=a;r[n(2206)](_1(t[n(2008)],t[n(1943)]))});else if(D[a(1164)][t]){if("GstvB"!==a(1921))return!_0x14586a[a(930)]&&!_0x45f9df.file||_0x5b8452[a(930)]&&"/"==_0x51d60c.url.substr(0,1)||_0x41d608[a(1900)]&&"/"==_0x10d9c4[a(1900)][a(1912)](0,1)?1:void 0;t=D[a(1164)][t],r[a(2206)](_1(t.name,t[a(1943)]))}}),$.each(v,function(e,a){var r=i;if(r(462)==a&&m[r(2292)])$.each(m[r(2292)],function(e,t){var n=r;l[n(2206)](E({id:"n_"+a,title:t[n(2008)],title_url:t[n(930)],title_prop:(t.css?n(2280)+'="'+t.css+'"':"")+(t.url?n(2084)+'="nopa'+n(1490)+'havemore"':""),list:t[n(1943)]}))});else if("tv"==a){if(w(n=D.tv||D[r(412)]))return!0;k=!0,M.tv={title:r(1710)+"\u64ad",image:S("/image"+r(2167)+"jpg"),file:S(n[r(930)]),type:r(2201)},l[r(2206)](E({id:"n_"+a,title:r(1710)+"\u64ad",desc:r(1691)+r(985)+"positi"+r(2068)+r(997)+r(2189)+r(1032)+r(1679)+r(650)+r(1867)+r(1907)+r(2024)+r(1187)+r(704)+'-tv" d'+r(1123)+'d="tv"'+r(1959)+r(1683)+r(1976),list:r(1531)+'="sche'+r(1652)+n[r(2044)+"le"]+r(303),ul_prop:r(2280)+r(878)+r(1436)+';"'}))}else if(r(769)!=a||w(D[r(769)])){if(D[r(1688)][a]){if((t=D[r(1688)][a])[r(1943)]){var o=Math[r(535)](10,10)-1,c=[];$[r(1651)](t[r(1943)],function(e,t){var i=r,n={};n[i(2008)]=t[i(2008)],n[i(930)]=S(t[i(930)]),t.video&&!N&&(i(1677)===i(428)?_0xcad62c(i(548)+"e")[i(1009)]():(k=!0,n[i(866)]="n"+function(e,t){for(var n=i,a=0,r=0;r<e[n(1910)];r++)a=37*a+e[n(2137)+n(1293)](r),a%=t;return a}(t[i(1015)],o)[i(2102)+"ng"](36),M[n[i(866)]]={title:n[i(2008)],file:t[i(1015)]})),c[i(2206)](n)}),l.push(E({id:"n_"+a,title:t["site_t"+r(1428)],title_url:t.site_url,list:c,type:r(876)}))}}else if(D[r(1164)][a]){var t=D.links[a];l[r(2206)](E({id:"n_"+a,title:t[r(1512)],title_url:t[r(930)],list:t.list,ul_prop:2==t[r(2109)]?r(2084)+r(1142)+'"':""}))}}else if(r(1880)===r(745))_0x29fcce=_0x12df37[_0x488677],_0x155ad5=_0x1e50a0,_0x43d2b8++,_0x48b7f7[r(1416)+"ite"]&&_0x1a2bd5(_0x2b0f16),_0x4fb039(r(1002)).text(_0x147770)[r(345)+"ss"]("link_qr")[r(378)](r(2008),r(1449)+"\u53f0\u4e8c\u7ef4\u7801")[r(1703)](),_0x47d4e7(_0x530165);else{k=!0;var n=D[r(769)][r(727)](0,3)[r(999)](D[r(769)].slice(3)[r(1332)+"e"]()[r(727)](0,6)),c="<div c"+r(1032)+"contai"+r(884)+'d="vid'+r(1668)+r(1737)+r(1493)+r(1184)+'">';$[r(1651)](n,function(e,t){var n=r;M["v"+e]=t,c+=n(1458)+'lass="'+n(601)+n(406)+n(1246)+(8==e?n(374)+n(1210)+n(2045):"")+" imgit"+n(1365)+"iv cla"+n(1023)+"g-thum"+n(1968)+"ratio "+n(1926)+n(2150)+n(382)+'c="'+S(t[n(1285)])+n(1674)+'"'+t.title+(n(1947)+n(1393))+'lass="title '+n(2252)+n(859)+n(540)+"d-link"+(t[n(930)]?'" href="'+S(t[n(930)])+(n(532)+n(516))+'lank"':n(640)+n(1093)+n(1488)+'ript:"'+n(1974)+n(443)+e+'"')+">"+t[n(2008)]+n(1242)+"div>"}),c+=r(1275)+"</div>",l[r(2206)](E({id:"n_"+a,title:r(1789),title_url:D[r(1821)+"rl"]||r(1797)+"/",title_prop:r(2084)+'="nopa'+r(1490)+r(1049)+r(1446),list:c}))}}),0<r[i(1910)]&&$(i(1839)).html(r[i(2069)]("\n"));if(0<l[i(1910)]){$(i(825)+"ad")[i(1833)](),!window["BeforeShowCo"+i(831)]&&6<l[i(1910)]&&0<l.length%6&&(b=l.length-l[i(1910)]%6,l=l[i(727)](0,b));var v,h=l[i(2069)]("\n");window[i(1807)+i(1964)+"ntent"]&&null!==(v=BeforeShowContent(h))&&(h=v);$(i(2198)+"nt")[i(1100)](h),$(i(2198)+"nt")["remove"+i(1874)](i(685))}if(D[i(449)]){var _,p=D[i(449)];for(_ in p)try{window.eval(p[_])}catch(e){}delete D[i(449)]}if(o1){var b=S(o1[i(930)]);window[i(1619)+"ui"]?window[i(1619)+"ui"](b):x1&&($("h4",s1)[i(1100)](o1.name),x1[i(694)]=b,s1["remove"+i(1874)](i(685)))}0<a[i(1910)]&&($("#others")[i(1100)](a[i(2069)]("\n")),$("#others")[i(1833)+i(1874)](i(685)));k&&$(i(2198)+i(351)+"id")[i(1854)](function(e){var c=i,t=$(this)[c(684)](c(866));if(t&&M[t])return t=function(e){var a=c,t={},r=(t.title=e[a(2008)],e[a(1285)]&&(t[a(1285)]=S(e[a(1285)])),T(e[a(1188)])),n=e[a(551)+"st"]||e.list;!e[a(1900)]&&n&&1==n[a(1910)]&&(e[a(1900)]=n[0]);if(e[a(1900)])r=r||T(e[a(1900)]),t.file=S(e.file);else if(n&&1<n[a(1910)]){var i=[],o=[];$.each(n,function(e,t){var n=a;n(918)!==n(918)?n(359)==typeof _0x22ab0e?((_0x52a1a5=_0x3887dd.trim(_0x7a5583)).match(/^[\[\{]/)||(_0x1753e8=_0x5e409e.de2(_0x2103a8[n(1526)+"e"](/[\r\n]+/g,""))),_0x363a78=_0x20e26e[n(1906)](_0x3bf3cb),_0x26f64b()):n(524)!=typeof _0x539c0f||_0x28df29(_0x239446)||(_0x5175b2=_0xa3254e,_0x1cc613()):n(359)==typeof t?(r=r||T(t),i.push(S(t))):(r=r||T(t[n(1900)]),o[n(2206)]({title:t[n(2008)],file:S(t[n(1900)])}))}),0<o[a(1910)]?t[a(551)+"st"]=o:t.files=i}return t[a(1188)]=r||T("mp4"),t}(M[t]),showModalPlayer(t),!1});D[i(2239)]&&D[i(2239)][i(1135)]&&($(i(1319)+"e")[i(1100)](p1(D[i(2239)].notice)),$(i(1319)+"e")[i(2016)+"t"](".alert").removeClass("hidden"));if(1===(v=$(i(1002)))[i(1910)]){location.href[i(1081)](/^https?:\/\/\w+\.github\.io\//)?(t=location[i(2005)][i(1526)+"e"](/#.*$/,""),N&&(t+=i(820))):(b=v[i(378)](i(1266)))&&b[i(1081)](/^https?:\/\//)?(t=b,v.text(t)):b&&"/"==b.substr(0,1)?(t=e+b,v.text(t)):t=N?e+"/Eio3n":e+i(1014);h=i(1458)+i(1032)+i(1858)+'enter"'+i(726)+i(1506)+'bqr" class="'+i(580)+i(1380)+i(2033)+'s="btn'+i(429)+i(1234)+i(1095)+i(604)+i(1740)+i(1259)+i(980)+i(484)+i(1562)+i(2072)+i(1511)+'-border"></s'+i(2236)+"button"+i(1117)+i(726)+i(1020)+i(381)+i(1514)+i(1510)+'1"><a '+i(1093)+t+(i(532)+i(516))+'lank">'+t+i(1242)+'div><div class="al'+i(1223)+"ert-wa"+i(2071)+"p-1 mb"+i(2168)+i(310)+i(1271)+"\u4e00\u4f1a\u513f\u518d\u5237\u65b0\u8bd5\u8bd5</di"+i(1288)+i(2084)+i(1440)+"-secon"+i(1725)+i(1211)+i(1986)+i(962)+i(907)+'href="'+X+(i(532)+i(1842)+i(1963))+" class"+i(1440)+i(1837)+i(1723)+'none">'+i(2261)+"P</a><"+i(539)+i(776),v[i(1854)](function(){var e=i;e(738)===e(1322)?(_0xc552ae[_0x54d29b]=[1,null],_0xee0a57.push(_0x57ac0d)):(window[e(1731)+e(1602)+"rt"]&&showModalAlert("\u672c\u5e73\u53f0\u7f51\u5740\uff1a",h,!1),B1("webqr",t),$("#webqr")[e(378)](e(2008),""))})}r1&&(navigator[i(619)+i(1593)+"a"]?navigator["userAg"+i(1593)+"a"].mobile||C1():$.os.phone||C1())}}function T(e){var t=g;return e?e[t(1081)](/^\w+$/)?e:(e=e[t(1081)](/^[^\?]+\.(\w+)(\?|$)/))?e[1]:null:null}function m1(e){var t=g;if(e)try{t(359)==typeof e?((e=$.trim(e))[t(1081)](/^[\[\{]/)||(e=s[t(1398)](e[t(1526)+"e"](/[\r\n]+/g,""))),m=JSON.parse(e),b1()):t(524)!=typeof e||w(e)||(m=e,b1())}catch(e){m=null}}function B1(e,t){var n=g;window.QRCode&&(f1[e]&&f1[e][n(1935)](),$("#"+e)[n(2027)](),f1[e]=new QRCode(document["getEle"+n(968)+"Id"](e),{text:t,width:o,height:o,colorDark:n(2007)+"0",colorLight:n(2187)+"f",correctLevel:QRCode[n(744)+"tLevel"].L}))}function C1(){var i=g;$(i(663)+i(1989),i(1756)+i(2311)).on(i(1534)+i(2145),function(){var e=i,t=$(this)[e(2101)](e(2005));if(t&&t[e(1081)](/^https?:\/\//)){B1(e(1917),t);var n=$(window)[e(1063)](),a=$(window)[e(338)](),r=$(this)[e(1973)](),n=r[e(1888)]+o<=n?r.left:r[e(1888)]+r.width-o-10,a=r[e(2081)]+r.height+5+o<a?r[e(2081)]+r[e(338)]+5:r.top-o-20;t&&$(e(548)+"e")[e(1340)]({left:n,top:a})[e(1703)]()}}).on("mouseleave",function(){var e=i;$(e(548)+"e")[e(1009)]()})}function I1(){var e=g;var c=location[e(1585)+"me"][e(1526)+"e"](/\/[^\/]+$/,"/");caches.open(t)[e(1541)](function(e){for(var t in v1)!function(a,r){var i=a0_0x4ab0;a[i(1081)](c+r)[i(1541)](function(e){var o=i;if(!e){var t=(n=(e=v1[r])[o(696)+"t"])[o(1910)],n=-1!==e.type[o(632)+"f"](o(2313))?function(e){for(var t=o,n=new ArrayBuffer(e[t(1910)]),a=new Uint8Array(n),r=0,i=e[t(1910)];r<i;r++)a[r]=e.charCodeAt(r);return n}(s.de(n)):n;a[o(350)](c+r,new Response(n,{status:200,statusText:"OK",headers:{"Content-Type":e[o(1188)],"Content-Length":t}}))}})}(e,t)})}function M1(){var t=g;$.os.ios||window["matchM"+t(1690)]&&window["matchM"+t(1690)]("(displ"+t(2062)+t(1721)+t(1453)+"e)").matches||(q=+new Date,K=setInterval(function(){var e=t;y?(J(),i[e(2239)]("\u5b89\u88c5APP")[e(378)](e(2005),X).show(),d&&!localStorage[e(2175)+"m"](r)&&setTimeout(function(){var t=e;showModalAlert(t(1279),t(2080)+t(2048)+"xt-cen"+t(324)+t(778)+t(687)+t(1498)+t(729)+t(1289)+" class"+t(1440)+t(1552)+t(1139)+t(388)+t(1244)+t(1109)+'pp" hr'+t(1005)+X+'" clas'+t(1203)+t(1437)+t(2106)+t(1572)+t(1519)+t(2092)+t(728)+'blank">\u4e0b\u8f7d\u5b89\u5353APP</a>'+t(1563)+t(510)+t(573)+'cel" c'+t(1032)+"btn bt"+t(1996)+'ndary">\u4e0d\u518d\u63d0\u793a<'+t(1042)+"n></p>",!1),$(t(689)+"tn-app")[t(1854)](function(){var e=t;window[e(546)+e(1644)][e(1009)]()}),$(t(689)+"tn-can"+t(1016))[t(1854)](function(){var e=t;e(403)!==e(403)?_0x4094b9[e(312)+"ading"]?_0xd06947[e(312)+"ading"](_0x133f14):0<_0x1b6add[e(1910)]&&(_0x512e96?_0x13073c[e(1703)]():_0x5864e5[e(1009)]()):(window["modalA"+e(1644)][e(1009)](),localStorage[e(1252)+"m"](r,"1"))})},12e4)):3e4<+new Date-q&&J()},5e3))}function J(){K&&(clearInterval(K),K=null)}function y1(e,t){var n,a=g;for(n in C)try{var r=C[n];if(e&&r===e)return n;if(t&&r[a(696)+a(389)+"w"]===t)return n}catch(e){}return-1}function D1(l){var d=g,n=H(R,!1).substr(0,8),e=(a=H(n+l,!0))[d(1912)](0,6),t=a[d(1912)](6,2),a=a[d(1912)](8,6),f=D?0<u.length||0<A.length?0:3:N?6:5,e=[l,d(1578)+"s/",e,"/",t,"/",f,a,d(1753),"?",!e1||5!=f&&6!=f?"":e1+"-",Math[d(1716)](+new Date/3e5)].join("");f[d(2102)+"ng"](),h--,$.ajax({url:e,dataType:"text",cache:!0,crossDomain:!0,headers:{Accept:d(2313)+d(1893)+d(1767)},timeout:0==f?5e3:1e4,beforeSend:function(e){var t=d;p++,d1&&e["setReq"+t(2272)+t(1220)](t(411),n)},success:function(e,t,n){var a=d;if(0<f&&e&&10<e.length){e=JSON[a(1906)](s.de(e[a(1912)](6),!0));if(""===Y)if(a(2047)===a(2047))x[l]=[1,!0],-1===A.indexOf(l)&&A.push(l);else{_0x188983=!1;if(_0x66ae85&&void 0!==_0x15f688&&_0x36ff08)return void _0x38b6c7(_0x3fc2da=_0x39f622);_0x4bb07e=!(_0x29c1fb=_0x39ee4d)||_0x292962[a(1081)](/[^12]/)?["1","2"][a(1332)+"e"]():"1"===_0x3bf65a?["1","2"]:"2"===_0x26cb32?["2","1"]:"11"===_0x35afd1?["1"]:"22"===_0x181d12?["2"]:_0x209a02[a(1915)](""),_0x450f6f=_0x2562e1=!1,_0x6b2f2c=null,_0x4c00f1=10,_0x5de968(1),_0x2aacb3()}var r=e[a(799)];if(r){r.shuffle();for(var i=0;i<r[a(1910)];i++){if(a(2094)===a(1452))return.5<_0x5a428a.random()?1:-1;var o=r[i];if(o){var c=o[a(1081)](/^(https?:\/\/)?([\w\.\:]+)\/?$/);c&&(o=c[1]?c[1]+c[2]:a(432)+"/"+c[2],x[o]||("SpWfP"!==a(1306)?(x[o]=[1,null],u[a(2206)](o)):(_0x11cacb(_0x220f53),_0x5acbf6=null)))}}}x[l]&&(x[l][1]=!0,1==x[l][0]&&-1===A[a(632)+"f"](l)&&A.push(l)),(e[a(1688)]||e[a(1164)])&&(D=e),x[l]&&(x[l][1]=!0,0<u[a(1910)]&&-1===A[a(632)+"f"](l)&&A[a(2206)](l))}else"image/"+a(470)==n[a(368)+a(407)+"eader"](a(933)+"t-Type")&&x[l]&&(x[l][1]=!0,1==x[l][0]&&-1===A.indexOf(l)&&A.push(l))},error:function(e){var t=d;404==e[t(380)]&&t(2313)+"gif"==e[t(368)+t(407)+t(1033)](t(933)+t(1167))&&x[l]&&(x[l][1]=!0,1==x[l][0]&&-1===A[t(632)+"f"](l)&&A[t(2206)](l))},complete:function(e){var t=d;t(2297)===t(816)?_0x811e66[t(1637)][t(2244)](this,arguments):(p--,x[l]&&null===x[l][1]&&(x[l][1]=!1),j())}})}function Q1(e){var t=g;if(!_){for(var n=!1;p<2&&0<e[t(1910)];){var a=e[t(354)]();a[t(1081)](/^(https?:\/\/[\w\.:-]+)$/)?(n=!0,D1(a)):a[t(1081)](/^(https?:\/\/[\w\.:-]+\/)/)&&(n=!0,function(e){var t=g;if(t(808)===t(1370))_0xccc8a8[_0x180ae1][1]=!0,0<_0x203651.length&&-1===_0x178067.indexOf(_0x3a4afd)&&_0x4c04dd[t(2206)](_0xd036d8);else{if(t(1238)==location[t(2211)+"ol"]&&e.match(/^http:/))return j();function n(e){r&&(clearTimeout(r),r=null),r=setTimeout(function(){var e=a0_0x4ab0,t=y1(a,r=null);if(-1!=t){try{e(2267)===e(603)?_0x27ad60[e(828)]&&(_0x4b705f[_0x2390ad]&&_0x5535d5[_0x1c0720][e(1935)](),_0x424dac("#"+_0x3dcf68).empty(),_0x54657a[_0x1cb987]=new _0x2fbc3c(_0x2c5ec2.getElementById(_0x37e7ed),{text:_0x5c6f55,width:_0xbf5ba2,height:_0x2d834b,colorDark:e(2007)+"0",colorLight:e(2187)+"f",correctLevel:_0x4257e7[e(744)+e(2082)].L})):(delete C[t],document.body["remove"+e(2247)](a))}catch(e){}p--,j()}},1e3*e)}var a=null,r=null;(a=document["create"+t(1760)+"t"](t(1239))).style[t(1050)+"y"]=t(507),a[t(694)]=e,$(a).on(t(1129),function(){n(10),j()}),h--,p++;try{document.body.appendChild(a),C.push(a),n(15)}catch(e){p--,j()}}}(a))}n||j()}}function j(){var e,n=g;if(!_){if(Y)if(n(2023)===n(916))_0x3fd65c[n(1081)](_0x5cb5a6)?_0xac4e7&&(_0x53afed=_0x5ad4a8[n(1526)+"e"](/^http:/,n(1238))):_0x24d311=(_0x3a78a0?"https://":n(432)+"/")+_0x23d564,_0xa60481[_0x1de5a7]||(_0x256948[_0x1d5cf7]=[0,null],_0x384d74[n(2206)](_0x96ea3b));else{var t=Y;Y="",D1(t)}if(0==f[n(1910)]&&0==u[n(1910)]&&(0==A[n(1910)]||A[n(1910)]<=v)&&p<=0&&0<a1[n(1910)])if("1"==(t=a1[n(354)]())&&t1){var a=t1,r=(t1="",/^https?:/),i=a[n(1915)](",")[n(1332)+"e"]().slice(0,3);if(0==i[n(1910)])return void j();for(var o=0;o<i[n(1910)];o++)(e=i[o])&&(e[n(1081)](r)?Q&&(e=e[n(1526)+"e"](/^http:/,"https:")):e=(Q?n(1238)+"//":n(432)+"/")+e,x[e]||(x[e]=[0,null],f[n(2206)](e)))}else{if(!("2"==t&&0<A1[n(1910)]))return void j();G=A1[n(1332)+"e"]()[n(727)](0,3)}if(A.length>v){h1(0),_=A[n(1910)]>=W&&A[n(1910)]>v;D&&!y&&(a=A[v],y=a,v++,window["FoundS"+n(788)]&&FoundSite(a),$(n(1002))[n(2239)](a)[n(345)+"ss"](n(1519)+"r")[n(378)]("title",n(1449)+"\u53f0\u4e8c\u7ef4\u7801").show(),w1(a));if(_){if(d){var c=[];for(l in x)!(e=x[l])||n(524)!=typeof e||1!==e[0]||!0!==e[1]&&null!==e[1]||c[n(2206)](l);localStorage[n(1252)+"m"](z,s[n(2243)](c[n(727)](0,15)[n(2069)](",")))}return}}if(0<u[n(1910)]&&0<h)Q1(u);else if(!(0<p))if(0<f[n(1910)]&&0<h)Q1(f);else if(0<G[n(1910)]&&0<h)!function i(){var o=n,e="";if(0<G[o(1910)]){var t=G[o(354)]();t&&(e=s[o(1398)](t))}if(e)try{$[o(648)]({url:e,dataType:o(806),cache:!1,crossDomain:!0,headers:{Accept:o(2255)+"ation/"+o(1488)+o(1185)},timeout:1e4,success:function(e){var t=o;e&&(G=[]),e=e.replace("var fe"+t(1439)+"a =","");if((e=$[t(1299)+t(1412)](e))&&e[t(1127)]&&e.domain[t(2001)]&&0<e[t(1127)][t(2001)].length){var n=e[t(1127)][t(2001)];e[t(1127)].fq&&-1===n.indexOf(e[t(1127)].fq)&&n[t(2206)](e[t(1127)].fq),n[t(1332)+"e"]();for(var a=0;a<n[t(1910)];a++){var r=s[t(1398)](n[a]);r[t(1081)](/^https?:/)?Q&&(r=r.replace(/^http:/,t(1238))):r=(Q?t(1238)+"//":t(432)+"/")+r,x[r]||("jWTHM"===t(1251)?(_0x378f7b=_0x88ab0e+_0x42b89c,_0x1f47b5.text(_0x4a7dd5)):(x[r]=[1,null],u.push(r)))}}(0<u.length?j:i)()},error:function(e){i()},complete:function(e){}})}catch(e){i()}else G=[],j()}();else if(!y&&A[n(1910)]<=v){for(var l in x)if((e=x[l])&&"object"==typeof e&&1===e[0]&&!0===e[1]&&-1===A[n(632)+"f"](l))return A[n(2206)](l),j(),void 0;d&&localStorage["remove"+n(730)](z),t=void 0,h1(0),J();if(!l1||t){l1=!0;window.NotFoundSite?window[n(1383)+n(451)]():!b||i1||m||n(526)!=location[n(2211)+"ol"]&&!navigator[n(989)]?($(n(1002)).html("\u6682\u65e0\u53ef\u7528\u8282\u70b9"),window[n(1731)+n(1602)+"rt"]&&showModalAlert(n(1694),"<p>\u60a8\u53ef\u4ee5\u7a0d\u540e\u518d\u8bd5</p>",!0)):($("#node")[n(1100)](n(1694)),window[n(1731)+"dalAlert"]&&showModalAlert(n(1694),n(856)+"\u7a0d\u540e\u518d\u8bd5\uff0c<"+n(1182)+n(1349)+n(1110)+n(2224)+'ref="'+b+(n(1410)+n(501)+n(390)+n(971)+n(2078)+n(325)+n(1757))+b+"</a></p>",!0))}}}}V&&d&&"serviceWorker"in navigator&&(Q||g(1361)+g(1695)==location[g(969)])?(I1(),window["addEventList"+g(996)](g(1129),function(){var n=g;navigator[n(1309)+"eWorker"][n(1388)+n(1232)+n(2305)]()[n(1541)](function(e){var t=n;0<e[t(1910)]&&(0<i[t(1910)]&&M1(),e[0].active&&setTimeout(function(){var e=t;0==$(e(558)+'el="manifest"]')[e(1910)]&&$(e(608)).append(e(1612)+e(1430)+e(772)+e(1775)+e(960)+e(1726)+e(550)+e(1612)+'rel="i'+e(1672)+e(1113)+"avicon"+e(2250)+e(1432)+e(2313)+e(1385)+e(1091)+e(2295)+e(2019)+e(442)+e(990)+e(2258)+e(1386)+e(460))},1e3))}),navigator[n(1309)+"eWorker"][n(1001)+"er"](n(964))[n(1541)](function(e){setTimeout(function(){var e=a0_0x4ab0;0==$("link[r"+e(1589)+e(1352)+'"]').length&&$(e(608))[e(847)]("<link "+e(1430)+e(772)+e(1775)+e(960)+e(1726)+e(550)+e(1612)+'rel="icon" href="f'+e(919)+e(2250)+e(1432)+e(2313)+e(1385)+e(1091)+e(2295)+'"apple'+e(442)+e(990)+e(2258)+'"icon.'+e(460))},3e3)}).catch(function(e){}),0<i.length&&(window[n(1904)+n(732)+n(996)](n(2064)+n(2074)+n(1856)+"t",function(e){var a=n;e[a(642)+a(355)+"lt"](),J(),I=e,i[a(2239)](a(1278))[a(378)](a(2005),a(1488)+"ript:;").show(),i[a(1854)](function(){var n=a;null!==I&&(I.prompt(),I[n(1155)+"oice"].then(function(e){var t=n;"accepted"==e[t(581)+"e"]&&(i[t(1009)](),F&&(clearTimeout(F),F=null)),I=null}))}),d&&!localStorage.getItem(r)&&(F=setTimeout(function(){var t=a;y&&(showModalAlert("\u53cb\u60c5\u63d0\u793a",t(2080)+t(2048)+t(885)+t(324)+t(1918)+t(741)+t(426)+t(1830)+"br></p"+t(1745)+t(824)+t(1848)+t(528)+t(456)+t(1733)+t(1066)+t(1687)+'n" id='+t(510)+t(1241)+'tall" '+t(1020)+t(574)+t(1149)+t(1588)+'r-3">\u6dfb'+t(909)+"button><butt"+t(736)+t(1622)+t(935)+t(1244)+t(1154)+t(1262)+' class="btn '+t(1523)+t(1969)+t(588)+t(947)+t(2129)+"p>",!1),$(t(689)+t(1241)+t(1925))[t(1854)](function(){var e=t;e(1933)===e(762)?_0x1d0663[e(1814)+_0x44e439]=_0x9410f8:(window[e(546)+e(1644)].hide(),i[e(1854)]())}),$("#dlg-b"+t(573)+"cel").click(function(){var e=t;e(2143)!==e(2182)?(window[e(546)+e(1644)][e(1009)](),localStorage.setItem(r,"1")):(_0x1477a9[e(1731)+e(1602)+"rt"]&&_0x304758(e(1744),_0x18525d,!1),_0x812c55("webqr",_0x2c289c),_0x28f284("#webqr")[e(378)](e(2008),""))}))},12e4))}),window[n(1904)+"ntList"+n(996)]("appins"+n(2274),function(e){var t=n;J(),i[t(1009)](),d&&localStorage[t(1252)+"m"](a,"1")}))})):0<i[g(1910)]&&M1();P=g,$(window).on(P(1374)+"e",function(e){var n=P,a=e;if(a&&a[n(684)]&&a[n(684)][n(1368)]&&!(a.source&&(x1&&a[n(721)]==x1[n(696)+"tWindow"]||u1&&a[n(721)]==u1[n(696)+"tWindow"])||-1===y1(null,a.source))){e=a.data[n(1368)],a[n(721)][n(1465)+"ssage"]({response:"clear"},"*"),setTimeout(function(){var e=n,t=y1(null,a[e(721)]);if(-1!=t){try{delete C[t],document.body[e(1833)+"Child"](ifr)}catch(e){}p--,j()}},100);if(!c1)if(n(836)!==n(952))Q&&(e=e.replace(/^http:/,n(1238))),x[e]?(x[e][1]=!0,1==x[e][0]&&-1===A[n(632)+"f"](e)&&A[n(2206)](e)):(x[e]=[0,!0],f[n(2206)](e)),j();else{var e=_0xe519c1,t=(_0x439fb7="",/^https?:/),r=e.split(",")[n(1332)+"e"]()[n(727)](0,3);if(0==r[n(1910)])_0x58ae71();else for(var i=0;i<r[n(1910)];i++)(_0x11c981=r[i])&&(_0x1e21df[n(1081)](t)?_0x3deb3f&&(_0x37b748=_0x2de726[n(1526)+"e"](/^http:/,n(1238))):_0x41a54e=(_0x1b47d2?n(1238)+"//":n(432)+"/")+_0x413e64,_0x570a82[_0x1f54bb]||(_0x31014b[_0x2cb7ec]=[0,null],_0x499692[n(2206)](_0x34f42f)))}}}),document[g(2008)]||(document[g(2008)]=e),$("meta[n"+g(1847)+g(1826)+g(920)+g(1321)+g(424)+"e']")[g(378)](g(696)+"t",e),$("#webname")[g(2239)](e),$(g(1456)+g(534)).html(L),$("#navt")[g(1854)](function(){var e=g;$(e(1722)+e(422))[e(2158)+"ss"](e(1703))?$(e(1722)+e(422))[e(1833)+e(1874)](e(1703)):$(e(1722)+"r-c")[e(345)+"ss"](e(1703))}),m1($(g(1898)+"m")[g(2239)]()),w(m)&&i1&&(Q||g(1361)+g(1695)==location.host||g(526)==location.protocol)&&$[g(648)]({url:i1,dataType:g(2087),jsonpCallback:g(1778)+"allback",cache:!0,crossDomain:!0,headers:{Accept:g(2255)+g(1596)+"jsonp"},timeout:5e3,success:function(e,t,n){var r=g;if("VhcPy"===r(1795)){if(!(a=_0x2bd8d1("#c").attr(r(2087))))return null;var i=[],a=a[r(1526)+"e"](/\s/g,"").split(",");return _0xd510f9[r(1651)](a,function(e,t){var n=r;if(t)if(t[n(1081)](/^\w+$/))i[n(2206)](t);else if(2==(t=t.split(":"))[n(1910)]&&_0x26c65c.os){var a=t[0],t=t[1];(n(938)==a&&_0x7d63a.os.ios||n(818)==a&&!_0x598add.os[n(938)]||n(590)+"d"==a&&_0x3be67c.os[n(590)+"d"]||n(613)+"id"==a&&!_0x2cb5cc.os[n(590)+"d"])&&i[n(2206)](t)}}),0<i[r(1910)]?i.join(","):null}m1(e)}}),Q&&$(g(608))[g(847)](g(1359)+g(1932)+g(709)+g(933)+g(1940)+g(1987)+g(557)+" conte"+g(653)+g(1333)+g(2183)+'re-requests"'+g(1376)+"a>"),d1&&$(g(1100))[g(345)+"ss"]("ie");if(d&&(n=localStorage[g(2175)+"m"](z))){for(var k1=s.de2(n)[g(1915)](","),G1=0;G1<k1.length;G1++)x[k1[G1]]=[1,null];u=k1}return{start:function(e){var t=g;_=!1;D&&void 0!==e&&e?w1(y=e):(a1=!(e=n1)||e[t(1081)](/[^12]/)?["1","2"].shuffle():"1"===e?["1","2"]:"2"===e?["2","1"]:"11"===e?["1"]:"22"===e?["2"]:e.split(""),l1=c1=!1,y=null,h=10,h1(1),j())}}}(),window[a0_0x93bfe7(889)][a0_0x93bfe7(1857)](a0_0x93bfe7(537)+"ned"==typeof aSite?"":aSite);}
</script>

<script type="text/javascript">
	
	var g_nY = null;
	window.addEventListener('scroll', function () {
		if (g_nY !== null) window.scrollTo(0, g_nY);
	});	
	function disableScroll() {g_nY = window.scrollY;}
	function enableScroll() {g_nY = null;}
	function showMenu3(b) {
		if (typeof(b) != "undefined") {
			if (b) divMenu3.focus(); else divMenu3.blur();
			if (b) disableScroll(); else enableScroll();
		} else
			divMenu3.style.display = g_d == d4 && isLand() ? "" : "none";
	}
	
	function loadWeb2(s) {
		if (navigator.onLine) loadWeb1(s); else alert("当前未连接网络！");
	}

	var g_sPlyrURL, g_nHLS = 0, g_nQuality = -1, g_hls, g_player;
	
	function getClosest(arr, v) {
		return arr.reduce(function(prev, curr){return Math.abs(curr - v) < Math.abs(prev - v) ? curr : prev;});
	}

	function getLevelHeight(level) {
		var n = g_hls.levels[level].height;
		return n > 0 ? n : g_hls.media.videoHeight;
	}
	
	function displayQuality(level) {
		if (g_player) {
			var b = level < 0;
			divQuality.innerText = b ? '' : getLevelHeight(level)+'p';
			g_player.elements.display.qualityParent.hidden = b;
			spanAllQuality.style.display = "";
			if (b) g_player.toggleMenuButton('quality', false);
		}
	}
	
	function setQualityMenu(level) {
		var s = '自动';
		if (level >= 0) {
			var n = getLevelHeight(level);
			if (g_nQuality > 0) {
				s = g_nQuality + 'p';
				if (g_nQuality != n) s += ' ('+n+'p)';
			} else
				if (g_hls.autoLevelEnabled) s += ' ('+n+'p)';
		}
		span_quality.innerText = s;
	}
	
	function updateQuality(newQuality) {
		g_nQuality = newQuality;
		if (!g_hls || g_nHLS==0) return;
		if (newQuality == 0) {
			var n = g_hls.currentLevel;
			if (n >= 0) g_hls.currentLevel = -1;
			setQualityMenu(n);
			return;
		}
		var availableQualities = g_hls.levels.map(function(l){return l.height;});
		var v = availableQualities.length==0 ? g_nQuality : getClosest(availableQualities, g_nQuality), b=true;
		g_hls.levels.forEach(function(level, levelIndex) {
			if (b && level.height === v) {
				b = false;
				console.log("Found quality "+v+" match with "+g_nQuality);
				g_hls.currentLevel = levelIndex;
				setQualityMenu(levelIndex);
			}
		});
	}

 	function setTrack(b) {
 		b = b===true;
		var root = document.querySelector(':root');
		root.style.setProperty('--plyr-range-track-height', b ? '6px' : '3px');
		root.style.setProperty('--plyr-display-thumb', b ? 'block' : 'none');
	}

	var g_tmVolume;
 	function showVolume(b) {
 		var e = g_player.elements.inputs.volume;
 		if (!e) return;
 		b = b===true;
 		e.hidden = !b;
 		if (!b) clearTimeout(g_tmVolume);
	}

	function initPlyr() {
		var defaultOptions = {
			controls:['play-large','restart','rewind','fast-forward','play','current-time','duration','quality','volume','mute','progress','autonext','captions','settings',isLand()?'pip':'','fullscreen'],
			i18n: {restart:'重新开始',rewind:'后退 {seektime} 秒',play:'播放',pause:'暂停',fastForward:'快进 {seektime} 秒',seek:'移动',played: '已播放',buffered: '缓冲',currentTime: '当前时间',duration:'时长',
				volume:'音量',muted:'已静音',mute:'静音',unmute:'取消静音',autonextOn:"自动播放已开启",autonextOff:"自动播放已关闭",enableCaptions:'字幕已开启',disableCaptions:'字幕已关闭',download:'下载',
				enterFullscreen:'全屏',exitFullscreen:'退出全屏',frameTitle:'Player for {title}',captions:'字幕',settings:'设置',pip:'画中画',menuBack:'返回上一级菜单',speed:'播放速度',normal:'正常',
				quality:'画质',loop:'循环',start:'开始',end:'结束',all:'全部',reset:'重置',disabled:'禁用',enabled:'启用',qualityBadge:{2160:'4K',1440:'超清',1080:'2K',720:'高清',576:'标清',480:'标清'},
				qualityLabel: {0:'自动'}},
			speed: { selected: 1, options: [0.5, 0.75, 1, 1.25, 1.5, 2] },ratio: "16:9",
			captions: {active: true, update: true, language: 'auto'},loadSprite:false,invertTime:false,tooltips:{controls:true, seek:true},debug:false,
			quality: { forced: true,default:0,options:[1080,720,480,360,240,144,0],onChange:function(v) {if (v != g_nQuality) updateQuality(v);}},
			blankVideo: 'data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAOEbW9vdgAAAGxtdmhkAAAAANOs4tLTrOLSAAAD6AAAA+gAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAABhpb2RzAAAAABCAgIAHAE/////+/wAAAoh0cmFrAAAAXHRraGQAAAAD06zi0tOs4tIAAAABAAAAAAAAA+gAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAACAAAAAUAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPoAACMoAABAAAAAAIAbWRpYQAAACBtZGhkAAAAANOs4tLTrOLSAAFfkAABX5BVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAABq21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAWtzdGJsAAAAl3N0c2QAAAAAAAAAAQAAAIdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAACAAFABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAMWF2Y0MBTUAo/+EAGWdNQCjspL881AQEBQAAAwABAAK/IA8YMZYBAAVo74GfIAAAABhzdHRzAAAAAAAAAAEAAAAFAABGUAAAABRzdHNzAAAAAAAAAAEAAAABAAAAOGN0dHMAAAAAAAAABQAAAAEAAIygAAAAAQABX5AAAAABAACMoAAAAAEAAAAAAAAAAQAARlAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAKHN0c3oAAAAAAAAAAAAAAAUAAAMQAAAADAAAAAsAAAALAAAACwAAACRzdGNvAAAAAAAAAAUAAAO0AAAGxAAABtAAAAbbAAAG5gAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC41IDIwMTYwMjExMDAAAAAIZnJlZQAAA0VtZGF0AAAC8AYF///s3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9NTAga2V5aW50X21pbj01IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9MTAgcmM9Y3JmIG1idHJlZT0xIGNyZj0xLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAGGWIhAH/+n/CVf/Y9kSiv//ffLnuYgWj/wAAAAhBmiQYv/7a4AAAAAdBnkJC/xXRAAAABwGeYUX/FdAAAAAHAZ5jRf8V0Q==',
		};
		g_player = new Plyr(vp, defaultOptions);
		g_player.on('languagechange', function(e) {
			document.querySelector(g_player.config.selectors.buttons.captions + " span.label--pressed").innerHTML = '字幕已开启 ('+e.detail.label+')';
			setTimeout(function(){	g_hls.subtitleTrack = g_player.currentTrack;}, 50); }
		);
		g_player.on('controlshidden', function(){ showVolume(false); });
		var bTouch = "ontouchstart" in window;
		var f = function(){setTrack(true);};
		for (var i=0;i<2; ++i) {
			var e = i > 0 ? g_player.elements.inputs.volume : g_player.elements.inputs.seek;
			if (!e) continue;
			e.addEventListener('mouseenter', f, false);
			if (bTouch) e.addEventListener('touchstart', f, false);
			e.addEventListener('mouseleave', setTrack, false);
			if (bTouch) e.addEventListener('touchend', setTrack, false);
		}
		e = g_player.elements.buttons.mute;
		e.addEventListener('mouseenter', function(){ clearTimeout(g_tmVolume);g_tmVolume = setTimeout(function(){ showVolume(true); }, 500); }, false);
		e.addEventListener('mouseleave', function(){ clearTimeout(g_tmVolume); });
		if (bTouch) e.addEventListener('touchstart', function(){ showVolume(true); }, false);
		e = g_player.elements.controls;
		e.addEventListener('mouseleave', function(){ showVolume(false); }, false);
		showVolume(false);
		displayQuality(-1);
		divBtns.style.marginTop = "9px";
	}
		
	function plyrPlay() {
		if (g_player) g_player.play(); else {vp.play();initPlyr();}
		g_player.media.textTracks.dispatchEvent(new TrackEvent('addtrack'));
	}
	
//实现在线播放器
function loadPlaylistFromNet(json){
	var g_aList0 = [],
	g_nIndex = null,
	g_CurrBtn = null,
	g_nIndex2 = 0,
	vp = document.getElementById("vp"),
	divFile = document.getElementById("divFile"),
	tbList = document.getElementById("tbList");

	function setSrc(row, col) {
		if (g_CurrBtn) {
			g_CurrBtn.style.color = "white";
		}
		g_CurrBtn = document.getElementById('btn-' + row + '-' + col);
		g_CurrBtn.style.color = "orange";
		setSubtitle(row, col);
		var item=g_aList0[row], s = item['file'][col];
		if (window.szsite && s.substr(0, 1)=='/') {
			s = window.szsite + s;
		}
		var t = item['title'], tt = item['subtitle'], b = typeof(tt) != "undefined";
		divFile.innerHTML = (row+1) + '. ' + t + (item['file'].length > 1 ? '-'+(col+1)+(b&&col<tt.length?": <nobr>"+tt[col]+"</nobr>":"") : "");
		var obj = document.getElementById('aIndex' + g_nIndex2);
		if (obj) obj.style.color = "black";
		g_nIndex2 = col;
		obj = document.getElementById('aIndex' + col);
		if (obj) obj.style.color = "#e46910";
		g_nHLS = s.match(/^Https?:|\.m3u8$/) ? 1 : 0;
		displayQuality(-1);
		g_sPlyrURL = s;		
		vp.src = s;
		g_backupVP.url = null;
	}

	vp.onerror = function() {
		if (g_bFireFox && vp.error.code == 4 && g_nHLS == 1) vpPlay();
	};
    
	vp.onresize = function() {
		var n = vp.videoHeight;
		if (g_player && g_nHLS == 1 && n > 0) {
			divQuality.innerText = n+'p';
			g_player.elements.display.qualityParent.hidden = false;
			spanAllQuality.style.display = "none";
		}
	};

	vp.onplaying = function() {
		if (g_sPlyrURL && g_sPlyrURL.indexOf(g_backupVP.url) >= 0) {
			vp.startTime = g_backupVP.startTime;
			vp.currentTime = g_backupVP.currentTime;
			g_backupVP.url = null;
		}
	};

	function playPrev() {
		var f = g_aList0[g_nIndex]['file'], n = f.length;
		for (var i=g_nIndex2-1; i>=0; --i)	if (f[i] != "") break;    		    	
		if (i >= 0) {
			setSrc(g_nIndex, i);
			vpPlay();
		} else
		if (g_nIndex > 0) {
			setIndex(g_nIndex - 1);
			setSrc(g_nIndex, g_aList0[g_nIndex]['file'].length-1);
			vpPlay();
		}
	}
	window.playPrev = playPrev;

	function playNext() {
		var f = g_aList0[g_nIndex]['file'], n = f.length;
		for (var i=g_nIndex2+1; i<n; ++i)	if (f[i] != "") break;    		
		if (i < n) {
			setSrc(g_nIndex, i);
			vpPlay();
		} else
		if (g_nIndex < g_aList0.length - 1) {
			setIndex(g_nIndex + 1);
			setSrc(g_nIndex, 0);
			vpPlay();
		}
	}
	window.playNext = playNext;

	function playlistItem(i, j) {
		if (g_nIndex == i && g_nIndex2 == j) {
			if (!isPlaying()) vpPlay();
		} else {
	        setIndex(i);
	        setSrc(i, j);
	        vpPlay();
		}
	}
	window.playlistItem = playlistItem;

	function setIndex(n) {
		showMenu3();
		if (g_nIndex == n) return;
		g_nIndex = n;
		if (n < 0) divFile.innerHTML =  "&nbsp;";
		var item=g_aList0[n], f = item['file'], tt = item['subtitle'], b = typeof(tt) != "undefined", s = "";	
		if (b) {
			var k = tt.length, m = f.length, i = 0;
			for (var j=0; j<m; ++j)
			{
				if (f[j] == "") continue;
				var bEnd = ++i > 15 && j==m-1;
				s += '<nobr><a id=aIndex'+j+' href="javascript:playlistItem('+n+','+j+');">'+(bEnd?"<u>":"")+(j+1)+(bEnd?"</u>":"")+(b&&j<k?". "+tt[j]:"")+'</a></nobr>';
			}
		}
		divMenu3.innerHTML = s;
	}

	function setSubtitle(i, j) {
		var s = g_aList0[i]['file'][j], b2 = s.indexOf("/l") == 0, b = b2 || s.indexOf("/v") == 0, bLand=isLand();
		if (b) {
			if (s.substr(-5) == ".m3u8") s = s.substr(0, s.length-5);
			s = "https://www.ganjingworld.com/zh-CN/video/"+(b2?"live/":"")+s.substr(2);
		} else
			s = "";
		var e = bLand?divGJ:divGJ2;
		e.title = s;
		e.innerHTML = b ? "<nobr>干净世界视频 - ganjingworld.com</nobr>" : bLand ? "" : "&nbsp;";
		e.style.display = "";
		(bLand?divGJ2:divGJ).style.display = "none";
	}
	window.setSubtitle = setSubtitle;

	function init() {
		var bLand = isLand();
		var tbody = '', n = g_aList0.length, p = '', r = bLand ? '&nbsp;' : '';
		if (!bLand) tbList.style.padding = "0 5px 10px";
		
		for (var i = 0; i < n; i++) {
			var item = g_aList0[i], t = item['title'], f = item['file'], tt=item['subtitle'],  b = typeof(tt) != "undefined";
			var m = f.length, bMP3 = f[0].substr(-1) == "3", k = b ? tt.length : 0;
			tbody += (i>0?'<tr height=10><td class="sepr" colspan=5></td></tr>':'')+'<tr><td colspan=5 class="t">'+(i+1)+'. '+t+'</td></tr>';
			for (var j = 0; j < m; j++) {
				if (b && f[j] == "") continue;
				if (b || j == 0) tbody += '<tr>';
				tbody += '<td><div class="btn11" id="btn-' + i + '-' + j + '" onclick="playlistItem(' + i + ',' + j + ');">' + (j + 1) + '</div></td>';
				if (b) {
					if (m>1&&b&&j<k) tbody += '<td colspan=4>'+r+tt[j]+'</td>';
					tbody += '</tr>';
				} else {
					if ((j+1) % 5 == 0)  tbody += j < m-1 ? '</tr><tr>' : '</tr>';
				}
				p += '<nobr><a href="javascript:playlistItem('+i+','+j+')">'+(bMP3 ? '<svg class="audio"><use xlink:href="#audio"></use></svg>' : '<svg class="video" viewBox="0 0 512 512"><use xlink:href="#video"></use></svg>')+' '+(i+1)+'. '+t+(m>1?"-"+(j+1)+(b&&j<k?": "+tt[j]:""):"")+'</a></nobr>';
			}
		}
		divMenu2.innerHTML = p;
		tbList.innerHTML = tbody;
		setIndex(0);
		if (!!(document.createElement('video').canPlayType)) {
			setSrc(0, 0);
			vp.onended = onPlayEnded;
		}
	}

	function vpPlay() {
		if (g_nHLS == 1 && Hls.isSupported()) {
			if (!g_hls) g_hls = new Hls();
			g_hls.loadSource(vp.src);
			g_hls.attachMedia(vp);
			g_hls.subtitleDisplay = false;
			if (g_bPlyr) {
				g_hls.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
					if (g_nQuality >= 0) updateQuality(g_nQuality);
					var s = '', v = [];
					g_hls.levels.forEach(function(level, levelIndex) {
						var h = level.height;
						if (v.indexOf(h) < 0) {if (s != '') s += ',';s += h;v.push(h);}
					});
					plyrPlay();
					displayQuality(g_hls.currentLevel);
					spanAllQuality.innerText = s;
					g_player.config.quality.options.forEach(function(q) {
						if (q > 0) {
							var span = document.querySelector(".plyr__menu__container [data-plyr='quality'][value='"+q+"'] span");
							var s = span.innerHTML, n = s.indexOf('<span'), t = n > 0 ? s.substr(n) : "";
							span.innerHTML = v.indexOf(q) < 0 ? q+'p'+t : q+'p <svg style="width:12px;height:12px"><use xlink:href="#plyr-asterisk"></use></svg>'+t;
						}
					});
					g_player.toggleMenuButton('quality', true);
	    		});
			} else {
				g_hls.on(Hls.Events.MANIFEST_PARSED, function(){ vp.play(); });
			}
			g_hls.on(Hls.Events.LEVEL_SWITCHED, function (event, data) {
				if (g_nQuality >= 0) setQualityMenu(data.level);
				displayQuality(data.level);
			});
			g_nHLS = 2;
		} else {
			if (g_bPlyr) plyrPlay(); else vp.play();
		}
		scrollToVideo(true);
		g_bFireFox = false;
	}
	window.vpPlay = vpPlay;

	(function(json) {
		if (typeof(json.length) == "undefined") return;
		divFile.innerHTML = "&nbsp;";
		if (json.length > 0) {
			g_nIndex = null;
			g_aList0 = json;
			init();
		}
	})(json);
}
</script>

<script type="text/javascript">
//web版里实现的所有回调函数

//回调函数--在自定义影音列表加载后触发
function FoundMedia(media){
    //media是【自定义设置】里的media部分的原始内容（数组）
    //建议结合【自定义设置】的b_data在内容区块儿显示，可以自动实现展示和播放
    //否则，就需要自己实现展示和播放
}

//回调函数--当找到有效节点时触发。
function FoundSite(site){
	//site形如 http://域名 或 https://域名，尾部不带/
	if (g_site.sites.indexOf(site) >= 0) {
		setSiteBtn(false);
		if (confirm('未找到新节点，再次查找？')) loadWeb2();
		return;
	}
	g_site.sites.push(site);
	setSite(g_site.sites.length-1);
	setSiteBtn(false);
	if (g_bWeb) {window.open(site + '/1/');g_bWeb=0;}
}

//回调函数--当没找到有效节点时触发。如果存在此函数，就在找不到节点时执行此函数，否则就显示默认的提示信息。
function NotFoundSite(){
    //可以在此显示自定义的提示
	setSiteBtn(false);
	if (window.szsite) {
		if (confirm('未找到节点，再次查找？')) loadWeb2();
	} else
	    preload.innerHTML = "<br>加载失败，请 &nbsp;<div class=btn9 onclick='loadWeb2();' title='点击重试'>重试</div>&nbsp; 或稍后再试<br><br>";
}

//回调函数--当显示或隐藏進度条时触发
function ShowLoading(show){
    //show为1表示显示進度条，0表示隐藏進度条
	if (show) {
		if (!window.szsite) preload.innerHTML = "<br>正在加载新闻内容…<br><br>";
	}
}

//回调函数--当找到三退表单网址时
function FoundTui(url) {
    //可以在此自由控制对此网址的展示
    $('#tuicont iframe').attr('src', url);
    $('#tuicont').show();
}

//回调函数--显示内容前
function BeforeShowContent(html){
    return html.replace(/<h4>/g, '<h4><svg class="folder" viewBox="0 0 497.47 497.47"><use xlink:href="#folder"></use></svg>');
}

//加载播放列表（img#c[jsonp]里的每个jsonp格式文档页面id在加载后都会执行对应的回调）
var g_bLoaded = false;
function jsonpCallback_kiC7K(json) {
	setSiteBtn(false);
	if (g_bLoaded) return;
	g_bLoaded = true;
	if (json && json.length>0) {
		$('#tbPlayList').parent().hide();
		$('#divMore').hide();
		$('#divPlayList').addClass('player2')
		$('#divPlayList').append('<div id="divList"><table id="tbList" cellspacing="1" cellpadding="1" width="100%"></table></div>');
		divPlayList.style.background = "#f0f0f0";
		loadPlaylistFromNet(json);
	}
}
function jsonpCallback_C6V8Z(json) {
	jsonpCallback_kiC7K(json)
}

var pickout=function(){"use strict";var fc;function sc(cb){fc=cb;}function e(e){t(e),a()}function t(e){var t="object"==typeof e?e:{};"string"==typeof e&&(t.el=e),t.DOM=C.$$(t.el),h(t)}function a(){v.DOM.map(function(e,t){r(e,t)}),u()}function r(e,t){var a=v,r=!1;e.style.display="none",e.hasAttribute("multiple")&&(r=!0,e.name=-1!==e.name.indexOf("[]")?e.name:e.name+"[]");var l=e.parentElement;C.attr(l,"style","position:relative;float:left;");var i=C.attr(e,"placeholder"),d=C.create("div");if(C.addClass(d,"pk-field -"+a.theme+(r?" -multiple":"")),i&&(d.innerHTML=i),l.hasAttribute("for")&&C.attr(d,"id",C.attr(l,"for")),l.appendChild(d),!r){var s=C.create("span");C.addClass(s,"pk-arrow -"+a.theme),l.appendChild(s)}C.events(l,"click",function(e){e.preventDefault(),e.stopPropagation(),a.currentIndex=t,a.multiple=!!r,n(a)})}function n(e){var t,a=C.$(".pk-modal"),r=e.DOM[e.currentIndex],n=C.$(".main",a);if(C.addClass(a,"-"+e.theme),!n.children.length){var l=C.$(".pk-overlay"),d=C.toArray(r),s=d.map(function(r,n){return t={index:n,item:r},"optgroup"===r.parentElement.localName&&(t.optGroup=r.parentElement),i(t,a,e)});C.addClass(a,"-show"),C.addClass(l,"-show");var o=r.hasAttribute("placeholder")?C.attr(r,"placeholder"):"Select to option";if(C.$(".head",a).innerHTML=o,C.rmClass(a,"-multiple"),e.multiple){}if(e.search){var c=C.$(".pk-search",a),u=C.$("input",c);u.value="",setTimeout(function(){u.focus();},300),C.addClass(c,"-show");var f=[];C.events(u,"keyup",function(t){function a(){var e=C.$(".pk-no_result_search",n);e&&n.removeChild(e)}function r(e){e.map(function(e){e.parentNode&&n.removeChild(e)})}if(t.preventDefault(),t.stopPropagation(),f=C.$$("li",n),r(f),!t.target.value)return a(),void s.map(function(e){Array.isArray(e)&&(n.appendChild(e[0]),e=e[1]),n.appendChild(e)});if(s.map(function(e){Array.isArray(e)&&(e=e[1]);var r=e.lastChild;r&&-1!==r.innerHTML.toLowerCase().indexOf(t.target.value.toLowerCase())&&(a(),n.appendChild(e))}),!n.children.length){var l=C.create("li");return C.addClass(l,"pk-no_result_search"),C.addClass(l,"-"+e.theme),l.innerHTML=e.noResults,void n.appendChild(l)}})}}}function l(e,t,a){var r=C.create("li");return C.addClass(r,"pk-option-group -"+a.theme),C.attr(r,"data-opt-group",e.label),C.attr(r,"data-type",e.localName),r.innerHTML=e.label.toUpperCase(),t.appendChild(r),r}function i(e,t,a){var r=a.DOM[a.currentIndex],n=t.querySelector(".main"),i=[];if(e.optGroup){var o=C.$("li[data-opt-group="+e.optGroup.label.replace(/\s/g,"")+"]",n);o||i.push(l(e.optGroup,n,a))}var p=C.create("li"),c=e.item.hasAttribute("selected")?"-selected":"";if(C.addClass(p,"pk-option "+c+" -"+a.theme),a.multiple){}e.item.value||C.attr(p,"style","display:none;");var f=C.create("span");C.addClass(f,"icon"),f.innerHTML=C.attr(e.item,"data-icon")||"";var h=C.create("span");return C.addClass(h,"txt"),h.innerHTML=e.item.innerHTML,n.appendChild(p),p.appendChild(f),p.appendChild(h),e.txt=h.innerHTML,C.events(p,"click",function(t){if(t.preventDefault(),t.stopPropagation(),a.multiple){}s(r,e);setTimeout(function(){fc();},10)}),i.length?(i.push(p),i):p}function d(e,t,a){t.field.children.length||(t.field.innerHTML="");var r=C.create("div"),n=C.create("span"),l=C.create("span");C.addClass(r,"pk-tag -"+a.theme),C.attr(r,"data-select",e.name.replace("[]","")+t.index),C.addClass(n,"txt"),C.addClass(l,"close2"),n.innerHTML=t.txt,l.innerHTML="&times;",r.appendChild(n),r.appendChild(l),t.field.appendChild(r);var i=t.index;C.events(l,"click",function(a){a.preventDefault(),a.stopPropagation(),e[i].removeAttribute("selected"),t.field.removeChild(a.target.parentElement),t.field.children.length||(t.field.innerHTML=C.attr(e,"placeholder"))})}function s(e,t,a){C.toArray(e).map(function(e,a){return a===t.index?void C.attr(e,"selected","selected"):void e.removeAttribute("selected")}),o(e,t.txt),f()}function o(e,t){e.parentElement.querySelector(".pk-field").innerHTML=t}function p(e){t(e),v.DOM.forEach(function(e){o(e,e[e.selectedIndex].innerHTML)})}function c(e){var a={};t(e),v.DOM.forEach(function(e){a.field=e.parentElement.querySelector(".pk-field"),C.toArray(e).forEach(function(t,r){t.hasAttribute("selected")&&(a.index=r,a.txt=t.innerHTML,d(e,a,v))})})}function u(){if(!C.$(".pk-overlay")){var e=C.create("div");C.addClass(e,"pk-overlay");var t=C.create("div");C.addClass(t,"pk-modal");var a=C.create("ul");C.addClass(a,"main");var r=C.create("div");C.addClass(r,"head");var n=C.create("div");C.addClass(n,"pk-search");var l=C.create("input");C.attr(l,"type","text");var i=C.create("div");C.addClass(i,"pk-multiple");var d=C.create("button");C.addClass(d,"pk-btnMultiply"),d.innerHTML=v.txtBtnMultiple;var s=C.create("span");C.addClass(s,"close2"),s.innerHTML="&times;",document.body.appendChild(e),document.body.appendChild(t),t.appendChild(r),t.appendChild(n),n.appendChild(l),t.appendChild(s),t.appendChild(a),t.appendChild(i),i.appendChild(d),[e,s,d].forEach(function(e){C.events(e,"click",function(e){e.preventDefault(),e.stopPropagation(),f()})})}}function f(){var e=C.$(".pk-overlay"),t=C.$(".pk-modal"),a=C.$(".pk-search",t),r=C.$(".pk-multiple",t);C.attr(t,"class","pk-modal"),C.attr(r,"class","pk-multiple"),C.attr(a,"class","pk-search"),C.attr(e,"class","pk-overlay"),setTimeout(function(){C.$(".main",t).innerHTML="";},500)}function h(e){v=JSON.parse(JSON.stringify(m));for(var t in e)e.hasOwnProperty(t)&&(v[t]=e[t])}var v={},m={theme:"clean",search:!1,noResults:"No Results",multiple:!1,txtBtnMultiple:"CONFIRM SELECTED"},C={create:function(e){return document.createElement(e)},attr:function(e,t,a){return a?Array.isArray(e)?void e.forEach(function(e){e.setAttribute(t,a)}):void e.setAttribute(t,a):e.getAttribute(t)},events:function(e,t,a){e.addEventListener(t,a,!1)},toArray:function(e){return[].slice.call(e)},addClass:function(e,t){var a=this,r=a.attr(e,"class")?a.attr(e,"class"):"";a.attr(e,"class",r+" "+t)},rmClass:function(e,t){var a=this;return Array.isArray(e)?void e.forEach(function(e){a.attr(e,"class",a.attr(e,"class").replace(" "+t,""))}):void a.attr(e,"class",a.attr(e,"class").replace(" "+t,""))},$:function(e,t){return(t||document).querySelector(e)},$$:function(e,t){return this.toArray((t||document).querySelectorAll(e))}};return{to:e,updated:p,updatedMultiple:c,cb:sc}}();"undefined"!=typeof module&&module.exports&&(module.exports=pickout);
pickout.to({el:'.pickout'});pickout.cb(function(){var n=optSite.selectedIndex,b=g_site.sites.length>4;if (n==0&&!b) loadWeb2(); else {n=b?n:n-1;if(g_site.index!=n){loadWeb2(g_site.sites[n]);setSite(n);}}});
	
	var g_backupVP = {currentTime:0, startTime:0, url:null};
	function setSite(n) {
		if (g_site.index == n) return;
		g_site.index = n;
		tdSite.style.display = "inline-block";
		tdSite.title = window.szsite = g_site.sites[n];
		tdSite.innerText = '节点'+(n+1);
		if (g_site.sites.length > 1) {
			if (vp.currentTime > 0 && !vp.ended) {
				var b = vp.paused;
				if (!b) vp.pause();
				g_backupVP.currentTime = vp.currentTime;
				g_backupVP.startTime = vp.startTime;
				g_backupVP.url = g_sPlyrURL.substr(g_sPlyrURL.indexOf('/', 8)+1);
				setSrc(g_nIndex, g_nIndex2);
				if (!b) play();
			}
		}
	}

	var g_site = {sites:[], index:-1, finding:false};
	function getSite() {
		if (!window.szsite || g_site.finding) return;
		optSite.setAttribute("placeholder", "切换节点");
		var n=g_site.sites.length, s = n < 5 ? '<option>找新节点</option>' : '';
		for (var i=0; i<n; ++i) s += '<option>节点 '+(i+1)+(g_site.index==i ? ' (当前节点)' : '')+'</option>';
		optSite.innerHTML = s;
		optSite.click();
	}

	function setSiteBtn(b) {
		g_site.finding = b;
		tdSite.style.background = !window.szsite || g_site.finding ? "#aaa" : "#42c0fb";
	}

	function loadWeb1(s) {
		if (!s) setSiteBtn(true);
		loadWeb(s);
	}

</script>

<!--endregion szmjweb+player.txtl -->

<br><div align=center><img onclick="jmp(d6);" class=lotus src="images/lotus.png"></div>
</div>

<div id=d2><br>
<div class=hide>
<svg><defs><g id=download>
<path d="M45.81,19.56a9.5,9.5,0,0,0-6.26-3.86q0-.44,0-0.88a12.72,12.72,0,0,0-25.29-2,13.34,13.34,0,0,0-2.22-.18C5.42,12.67,0,17.59,0,23.64S3.64,33.88,9.36,34.39l29.09,0C43.2,34.19,48,31.1,48,25.61A9.52,9.52,0,0,0,45.81,19.56Z" fill="#aedff5"/><path d="M31.52,38.62a2,2,0,0,0-2.82-.22L26,40.69V22.92a2,2,0,0,0-4,0V40.67l-2.7-2.31a2,2,0,1,0-2.61,3l6,5.13,0.06,0,0.12,0.09,0.22,0.13,0.14,0.06,0.25,0.08,0.12,0A2,2,0,0,0,24,47h0a2,2,0,0,0,.39,0l0.11,0,0.27-.09,0.06,0,0,0a2,2,0,0,0,.42-0.26l6-5.09A2,2,0,0,0,31.52,38.62Z" fill="#38b1e7"/>
</g></defs></svg>
<svg><defs><g id=audio>
<path d="M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z"/>
<path fill-rule="evenodd" d="M9 3v10H8V3h1z"/>
<path d="M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5V2.82z"/>
</g></defs></svg>
<svg><defs><g id=folder>
<path fill=#00AD94 d="M488.254,183.651H197.447L474.55,475.313l36.855-262.692 C514.762,197.775,503.475,183.651,488.254,183.651z"/>
<path fill=#EFEDEE d="M399.933,36.686H125.672c-16.89,0-30.582,13.692-30.582,30.582v358.534h335.425V67.268 C430.515,50.377,416.823,36.686,399.933,36.686z"/>
<rect x="132.934" y="176.294" fill=#D4D2D3 width="297.588" height="134.645"/>
<path fill=#3AC7B4 d="M421.686,241.502c-3.653-16.157-18.01-27.629-34.574-27.629H158.979l-4.626-20.459 c-2.263-10.011-11.159-17.12-21.423-17.12H21.973c-14.085,0-24.529,13.069-21.423,26.806l55.648,246.125	c3.449,15.256,17.004,26.088,32.644,26.088H474.55L421.686,241.502z"/>
<path fill=#3A484A d="M195.23,121.923c-4.268,0-7.726-3.459-7.726-7.726v-12.229c0-4.267,3.458-7.726,7.726-7.726	c4.268,0,7.726,3.459,7.726,7.726v12.229C202.957,118.464,199.497,121.923,195.23,121.923z"/>
<path fill=#3A484A d="M330.374,121.923c-4.268,0-7.726-3.459-7.726-7.726v-12.229c0-4.267,3.458-7.726,7.726-7.726 c4.268,0,7.726,3.459,7.726,7.726v12.229C338.1,118.464,334.642,121.923,330.374,121.923z"/>
<path fill=#3A484A d="M262.802,130.961c-10.216,0-19.806-4.267-26.309-11.707c-2.809-3.213-2.481-8.094,0.732-10.902 c3.211-2.808,8.093-2.481,10.901,0.732c3.57,4.083,8.917,6.424,14.675,6.424c5.757,0,11.104-2.342,14.674-6.424 c2.807-3.213,7.689-3.541,10.902-0.731c3.212,2.808,3.541,7.689,0.731,10.902C282.606,126.694,273.017,130.961,262.802,130.961z"/>
</g></defs></svg>
<svg><defs><g id=video>
<rect x="106.999" y="15" fill=#ff641a width="293.09" height="241"/>
<rect x="106.999" y="254.21" fill=#26E3FD width="293.09" height="241"/>
<rect x="253.639" y="15" fill=#FABE3D width="146.45" height="241"/>
<rect x="253.639" y="254.21" fill=#64d883 width="146.45" height="241"/>
<path fill=#0D53C4 d="M28.456,0v512h455.087V0H28.456z M453.542,60.042h-32.877V30h32.877L453.542,60.042L453.542,60.042z M390.665,240.053H121.333V30h269.332L390.665,240.053L390.665,240.053z M91.333,120.045H58.456V90.042h32.877V120.045z M91.333,150.045v30.003H58.456v-30.003H91.333z M91.333,210.049v30.004H58.456v-30.004H91.333z M91.333,270.053v30.004H58.456	v-30.004H91.333z M91.333,330.057v30.004H58.456v-30.004H91.333z M91.333,390.061v30.003H58.456v-30.003H91.333z M121.333,270.053 h269.332V482H121.333V270.053z M420.665,390.061h32.877v30.003h-32.877V390.061L420.665,390.061z M420.665,360.061v-30.004h32.877 v30.004H420.665z M420.665,300.057v-30.004h32.877v30.004H420.665z M420.665,240.053v-30.004h32.877v30.004H420.665z M420.665,180.049v-30.003h32.877v30.003H420.665z M420.665,120.045V90.042h32.877v30.004L420.665,120.045L420.665,120.045z M91.333,30v30.042H58.456V30H91.333z M58.456,450.064h32.877V482H58.456V450.064z M420.665,482v-31.936h32.877V482H420.665z"/>
<path fill=#084795 d="M253.643,0v30h137.022v210.053H253.643v30h137.022V482H253.643v30h229.9V0H253.643z M453.542,482 h-32.877v-31.936h32.877L453.542,482L453.542,482z M453.542,420.064h-32.877v-30.003h32.877L453.542,420.064L453.542,420.064z M453.542,360.061h-32.877v-30.004h32.877L453.542,360.061L453.542,360.061z M453.542,300.057h-32.877v-30.004h32.877 L453.542,300.057L453.542,300.057z M453.542,240.053h-32.877v-30.004h32.877L453.542,240.053L453.542,240.053z M453.542,180.049	h-32.877v-30.003h32.877L453.542,180.049L453.542,180.049z M453.542,120.045h-32.877V90.042h32.877L453.542,120.045L453.542,120.045	z M453.542,60.042h-32.877V30h32.877L453.542,60.042L453.542,60.042z"/>
</g></defs></svg>
</div>

<script>

	function initDL() {
		var s = '', n = g_aList1.length;
		var bLand = isLand();
		for (var i=0; i<n; ++i)
		{
			var si = g_aList1[i];
			if (si === undefined) continue;
			var t = si['type'];
			if (t !== undefined)
			{
				t = "<svg class=folder viewBox='0 0 497.47 497.47'><use xlink:href=#folder></use></svg>&nbsp; <font color=#208c74>"+t+"</font>";
				if (s != '') s += '</table></div><br><br>';
				s += '<div class=shadow0><table class='+(bLand?"tb2 border=1":"tb")+' width=100% cellpadding=5 cellspacing=0><tr bgcolor=#b2d0fb><td colspan=2 style="padding:7px 10px">'+t+'</td></tr>';
				continue;
			}
			var bPF = g_bPF && si['pf']==1;
			var sTitle = si['title'];

			t = si['file'];
			var j = t.lastIndexOf('.');
			t = t.substr(j+1);
			var bHTML = t == 'html' || t == 'htm';
			if (bHTML) sTitle = '<a href="media/'+si['file']+'" target=_blank>'+sTitle+'</a>';
			sTitle = bPF? sTitle+"&nbsp; <svg viewBox='0 0 48 48' class=dl><use xlink:href=#download></use></svg>" : sTitle;
			s += '<tr bgcolor=#f9f9f9><td>'+sTitle+'</td><td align=center style="width:3em;padding:7px">' +
				'<a '+getDL(si['zw'], bPF && !bHTML)+' href="media/'+si['file']+'">下载</a></td></tr>';
			if (bPF) addPF1("media/"+si['file'], bHTML ? 5 : 6);
		}
		document.write(s+'</table></div>');
	}
	initDL();
</script>

<br><br>
<div id=divHint style="padding:0 10px;background:#efffff;color:#800040" class=shadow0>
<br>
提供的软件都是安全无毒的，由于国内的原因，可能会误报为病毒或高危软件，请放心继续使用。<br>
zip 解压软件：安卓可用"RAR"、"RE文件管理器"或"ES文件浏览器"，苹果请到应用商店下载相关软件。<br><br>
注意：HTML 格式电子书可直接点击浏览。标记 <svg viewBox='0 0 48 48' class=dl><use xlink:href=#download></use></svg> 的离线后也可浏览或下载。苹果自带的浏览器只能下载手机能打开的文件。如果点击不能下载，请从手机浏览器（输入任意网址）访问本站。
<br><br>
用翻墙软件可以浏览被中共封锁的国外网站，网络封锁严重时如果不能访问，可改时间再试，或尝试多个翻墙软件。如果有最新版本的翻墙软件，请及时下载。
<br><br>
</div><br>
</div><div align=center><img onclick="jmp(d2);" class=lotus src="images/lotus.png"></div>

<div id=d3>
<div id=divPicList align=center style="color:blue;font-size:1.1em"></div>
<div id=divPic style="color:blue;font-size:1.2em;font-weight:bold;display:none" align=center></div>
<script>
	var g_nCurPic = -1, PCN = 3;
	var g_sCurPicList, g_sPicList = "";

	function showPicList()
	{
		divMenu1.innerHTML = g_sPicList;
		if (g_d == d3) divDDM.style.display = "";
		divBack.style.display = "none";
		divPic.style.display = "none";
		divPicList.style.display = "";
		var n1 = g_nCurPic, n2 = g_aList2.length-1, n = tbPicList.offsetTop;
		n1 = Math.floor(n1 / PCN);
		n2 = Math.floor(n2 / PCN) + 1;
		n += Math.floor((divPicEnd.offsetTop-n) * n1 / n2) - 30 - n1;
		scroll2(n);
	}

    var g_lTime, g_nScrollTop;
    var g_fPD = function(e) {window.scrollTo(0, g_nScrollTop);};
	function showMenu(n) {
		if (g_d != d3 && g_d != d4) return;
		if (n==1) g_lTime = new Date(); else if (n != 0 && (new Date() - g_lTime < 50)) return;
		var divMenu = g_d == d3 ? divMenu1 : divMenu2;
		divMenu.style.display = n==1 ? "block" : n==0 ? "none" : divMenu.style.display == "none" ? "block" : "none";
		var b = divMenu.style.display == "block";
		btnMenu.style.backgroundColor = b ? "#f3cb6b" : "#e5e5c5";
		divDDM.style.height = b /*&& (divMenu.clientHeight / (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight)) > 0.8*/ ? "100%" : "";
		if (b) {
			g_nScrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
			XBack.init();
		} else
			XBack.deinit();
		window.onscroll = b ? g_fPD : undefined;
	}
    function goImg(n) {scroll2(eval("img"+n+".offsetTop-tbMenu.offsetHeight"));showMenu(0);}

	function showPic(i) {
		if (g_nCurPic != i)
		{
			g_nCurPic = i;
			var s = g_aList2[i]['file'], sDir = g_aList2[i]['dir'];
			var bFile = s.charAt(0) == '#';
			if (bFile) s = s.substr(1);
			var f = s.split(','), n=f.length, s = "", p = '<nobr><a href="javascript:showPicList();"><img src="images/list2.png" width=20>　 图片目录</a></nobr>';
			for (i=n-1; i>=0; --i) {
				f[i] = f[i].trim();
			}
			for (i=0; i<n; ++i)
			{
				var bEsc = f[i] != '' && f[i].charAt(0) == '#';
				if (bEsc) f[i] = f[i].substr(1);
				var t = getFileName(f[i]);
				var k = i + 1;
				s += '<div id=img'+k+' style="padding-top:2px">' + k + '/' + n +'<br>' +f[i]+ '</div>' +
					'<img class=p src="media/'+sDir+t.replace(/#/g, "%23") + '" onclick="showPicList();">';
				if (n > 1) p += '<nobr><a href="javascript:goImg('+k+')"><svg class=icon width=20 height=20 viewBox="0 -1 16 16"><use xlink:href=#icon></use></svg> '+k+'. '+f[i]+'</a></nobr>';
			}
			divPic.innerHTML = s;
			g_sCurPicList = p;
		}
		divMenu1.innerHTML = g_sCurPicList;
		divPic.style.display = "";
		divPicList.style.display = "none";
		if (g_d == d3) divDDM.style.display = "";
		divBack.style.display = "";
		scroll2(d3.offsetTop-50);
	}

	function getFileName(s) {
		if (s.substr(-4) != ".jpg") s += ".jpg";
		return s;
	}

    function initPic() {
		for (var i=g_aList2.length-1; i>=0; --i) {var si = g_aList2[i];if (si===undefined) g_aList2.splice(i, 1);}
		var n = g_aList2.length;
		var h = window.innerHeight, w = window.innerWidth, h2 = window.screen.height , w2 = window.screen.width;
		var bPT = w < h, k = h/w;
		if (bPT) svgBack.style.display = "none";
		if (!bPT && g_bSmallImageList) w = w * 3 / 5;
		if (typeof h != "number") if (document.compatMode == "CSS1Compat") {w=document.documentElement.clientWidth;h=document.documentElement.clientHeight;} else {w=document.body.clientWidth;h=document.body.clientHeight;}
		if (bPT) PCN = (g_bAndroid || g_bApple)&&n<11 ? 1 : 2;
		if (!bPT) h = w; else h = Math.abs(h-h2) < 3 || Math.abs(w-w2) < 3 ? Math.max(Math.max(h2, w2),  Math.ceil(Math.min(h2, w2) * 1.5)) : Math.max(h, Math.ceil(h2 * w / w2));
		h = Math.ceil(h * (PCN > 2 ? 0.3 : PCN == 2 ? (bPT ? (k>1.7?0.25:k>1.6?0.26:k>1.5?0.27:0.28) : 0.45) : 0.55));
		var s = '<div style="margin-top:10px"><font size=4>点击图片浏览，再点击可返回</font></div><table id=tbPicList width=100% cellspacing=15 style="table-layout:fixed;margin-top:-8px">', sURL=[];
		for (var i=0; i<n; ++i)
		{
			var si = g_aList2[i];
			if (g_bPF && si['pf']==1) {t=si['file'].split(',');var k=t.length;for (j=0; j<k; ++j) addPF1("media/"+t[j], j>0 ? 4 : 3);}
			var t = si['file'].trim().replace(/@/g, si['title']);
			si['file'] = t;
			var sDir = si['dir'] = '';
			var bFile = t.charAt(0) == '#';
			if (bFile) t = t.substr(1);
			var j = t.indexOf(',');
			if (j > 0) t = t.substr(0, j);
			t = getFileName(t);
			j = i % PCN;
			s += j > 0 ? '<td>' : '<tr align=center><td>';
			s += '<div class=divTitle>'+si['title']+'</div><div class="divItem'+(bPT&&PCN>1?' divItem2':'')+'" onclick="showPic(' +i+ ');" style="height:'+h+'px"></div>';
			s += j < PCN-1 ? '</td>' : '</td></tr>';
			sURL.push('media/'+sDir+t);
			if (n > 1) g_sPicList +='<nobr><a href="javascript:showPic('+i+')"><svg class=icon width=20 height=20 viewBox="0 -1 16 16"><use xlink:href=#icon></use></svg> '+(i+1)+'. '+si['title']+'</a></nobr>';
		}
		divPicList.innerHTML = s + '</table><div id=divPicEnd style="padding-top:10px;padding-bottom:2px"></div>';
		divMenu1.innerHTML = g_sPicList;
		var r = tbPicList.getElementsByTagName('div');
		n = sURL.length;
		for (var i=0; i<n; ++i) {s=sURL[i];r[i*2+1].style.backgroundImage = 'url(' +(s.has('/') ? (g_bIE ? s : encodeURI(s)).replace(/#/g, "%23") : eval(s))+ ')';}
	}
	initPic();
</script>
</div><div align=center ><img onclick="jmp(d3);" class=lotus src="images/lotus.png"></div>

<div id=d4 align=center>
<div id=divFile style="height:2.05em;color:#a19787;font-weight:bold;font-size:1.1em;display:table-cell;vertical-align:middle">&nbsp;</div>
<figure id=fp style="margin:0 0 5px;padding:0;aspect-ratio:16/9;position:relative">
	<video id=vp style="width:100%;height:100%;object-fit:contain;outline:none" controls="controls" playsinline webkit-playsinline></video>
	<div id=divMenu3 class=dm style="position:absolute;left:100000px;top:0;z-index:999;display:none;outline:none"  tabindex=-1 onscroll="return false;" onmouseenter="showMenu3(1);" onmouseleave="showMenu3(0);"></div>
	<div id=divGJ style="position:absolute;z-index:1;bottom:0;left:50%;transform:translateX(-50%);display:none;color:#da843b;font-size:0.8em"></div>
</figure>
<div id=divPlayList class=shadow0>
<div id=divGJ2 style="display:none;color:#da843b;font-size:0.8em;margin:-6px 0 -9px"></div>
<div id=divBtns style="position:relative;box-shadow:0 5px 5px #888;padding:3px 0;background-color:#f5f5f5;height:40px">
<svg onclick="play();" viewBox="0 0 48 48" class=pl><title>播放/暂停</title><circle fill=#42c0fb cx="24" cy="24" r="24"/><polygon fill=#fff points="17,36 17,12 35,24 "/></svg>
<svg onclick="playPrev();" viewBox="0 0 475.558 475.558" class=pl><title>上个</title><g id=prev><circle fill=#42c0fb cx="237.779" cy="237.779" r="237.779"/><path fill=#fff d="M214.181,240.332c29.429-29.425,58.857-58.853,88.278-88.278 c25.666-25.663-14.316-65.341-40.039-39.615c-36.029,36.029-72.055,72.055-108.084,108.084	c-10.888,10.885-10.588,29.023,0.214,39.829c36.029,36.029,72.055,72.058,108.084,108.087 c25.666,25.666,65.345-14.316,39.615-40.043C272.888,299.039,243.535,269.686,214.181,240.332z"/></g></svg>
<svg onclick="playNext();" viewBox="0 0 475.558 475.558" class=pl><title>下个</title><use xlink:href="#prev" transform="rotate(180 237.779 237.779)"></use></svg>
<svg onclick="mute();" viewBox="0 0 496.159 496.159" class=pl><title>切换静音</title><path fill=#42c0fb d="M496.159,248.086c0-137.022-111.07-248.082-248.076-248.082C111.071,0.004,0,111.063,0,248.086 c0,137.001,111.07,248.07,248.083,248.07C385.089,496.155,496.159,385.086,496.159,248.086z"/><path fill=#fff d="M259.432,128.917c-3.409-1.851-7.559-1.688-10.813,0.425l-95.137,61.791h-35.164 c-5.845,0-10.583,4.738-10.583,10.582v92.728c0,5.845,4.738,10.583,10.583,10.583h35.164l95.137,61.79 c1.748,1.135,3.754,1.708,5.765,1.708c1.733,0,3.471-0.426,5.049-1.283c3.41-1.852,5.534-5.42,5.534-9.301V138.219 C264.966,134.339,262.842,130.768,259.432,128.917z"/><path fill=#fff d="M355.405,248.079l30.384-30.384c3.515-3.516,3.515-9.213,0-12.729 c-3.515-3.514-9.213-3.514-12.728,0l-30.384,30.385l-30.384-30.385c-3.515-3.514-9.213-3.514-12.728,0 c-3.515,3.516-3.515,9.213,0,12.729l30.385,30.384l-30.384,30.384c-3.515,3.516-3.515,9.213,0,12.729 c1.757,1.757,4.061,2.636,6.364,2.636c2.303,0,4.606-0.879,6.364-2.636l30.384-30.385l30.384,30.385	c1.757,1.757,4.061,2.636,6.364,2.636c2.303,0,4.606-0.879,6.364-2.636c3.515-3.516,3.515-9.213,0-12.729L355.405,248.079z"/></svg>
<svg onclick="enterFS();" viewBox="0 0 512 512" class=pl><title>全屏</title><path fill=#42c0fb d="M0,256C0,114.61,114.61,0,256,0S512,114.63,512,256,397.38,512,256,512,0,397.39,0,256Z"/><polygon fill=#fff points="166.27 223.38 166.27 166.27 223.38 166.27 223.38 135.56 135.56 135.56 135.56 223.38 166.27 223.38"/><polygon fill=#fff points="288.62 166.27 345.73 166.27 345.73 223.38 376.44 223.38 376.44 135.56 288.62 135.56 288.62 166.27"/><polygon fill=#fff points="345.73 288.62 345.73 345.73 288.62 345.73 288.62 376.44 376.44 376.44 376.44 288.62 345.73 288.62"/><polygon fill=#fff points="223.38 345.73 166.27 345.73 166.27 288.62 135.56 288.62 135.56 376.44 223.38 376.44 223.38 345.73"/></svg>
<div onclick="getSite();" title="切换节点" id=tdSite style="display:none;position:absolute;cursor:pointer;line-height:1.5;border-radius:.25rem;font-size:0.95em;color:white;margin-top:5px;right:5px;padding:3px 5px">&nbsp;节点&nbsp;</div>
</div>
<div style="display:inline-block;width:100%;overflow-y:auto;overflow-x:hidden;max-height:475px;margin-top:10px">
<table id=tbPlayList cellspacing=0 cellpadding=0 class=tb3 width=100%></table>
</div>
<div id=divMore style="border:1px dotted #888;border-top:0;padding-top:10px;padding-bottom:2px">
<div align=left style="padding:0 6px">播放和静音为切换功能，个别手机按静音无效。如不能在线播放，请下载后用其它播放器播放。安卓手机可使用：<a href="media/vlc.apk">VLC 媒体播放器</a>。</div>
<br>
</div>
</div>

<script>

	var g_nPI = 0, g_aTD=[], g_aPL = [], g_bPlay;

	function scrollToVideo(b) {
		var n = d4.offsetTop-tbMenu.offsetHeight-2;
		if (b && g_nY != null) g_nY = n;
		scroll2(n);
	}

	function isPlaying() {return !vp.paused && !vp.ended;}
	function vpPlay() {plyrPlay();scrollToVideo();}
	function mute() {vp.muted = !vp.muted;}

	function play() {
		if (isPlaying()) vp.pause(); else vpPlay();
	}

	function playPrev() {
		if (g_nPI == 0) return;
		setIndex(g_nPI-1);
		playFile(g_nPI);
	}

	function onPlayEnded() {
		if (!g_player || g_player.autoPlayNext) playNext();
	}

	function playNext() {
		var n = g_aList3.length-1;
		if (g_nPI < 0 || g_nPI >= n) return;
		setIndex(g_nPI+1);
		playFile(g_nPI);
	}

	function playFile(i) { vp.src = g_aPL[i];vpPlay(); }

	function playItem(i) {
		if (g_nPI == i) {if (!isPlaying()) vpPlay();} else {setIndex(i);playFile(i);}
	}

	function setIndex(n, s) {
		if (g_nPI >= 0) g_aTD[g_nPI].style.color = "white";
		if (n >= 0) g_aTD[n].style.color = "orange";
		divFile.innerHTML = s ? s : n < 0 ? "&nbsp;" : (n+1)+': '+g_aList3[n]['title'];
		g_nPI = n;
	}

	function enterFS()	{
		var v = vp.webkitRequestFullscreen || vp.mozRequestFullScreen || vp.msRequestFullscreen;
		v.call(vp);
	}

	function getMediaName(s) {
		var n = s.lastIndexOf('/');
		return n < 0 ? s : s.substr(n+1);
	}

	function initPlayer() {
		var s = '', n = g_aList3.length, aList = [], p = '';
		for (var i=0,j=0; i<n; ++i) {
			var si = g_aList3[i];
			if (si === undefined) continue; else	aList.push(si);
			var f = 'media/' + si['file'], t = getMediaName(si['file']), bMP3 = t.substr(-1) == "3";
			var bPF = g_bPF && si['pf']==1;
			g_aPL[j] = f;
			s += '<tr><td><div class=btn1 style="line-height:1.2em;" onclick="playItem('+j+');">&nbsp;'+(j+1)+'&nbsp;</div></td><td>'+si['title']+
				'</div></td><td><nobr>'+(bMP3 ? '<svg class=audio><use xlink:href="#audio"></use></svg> ':'<svg class=video viewBox="0 0 512 512"><use xlink:href="#video"></use></svg> ')+'&nbsp;<a href="'+f+'" ' +getDL(si['zw'],bPF)+ '>下载</a></nobr></td></tr>';
			p += '<nobr><a href="javascript:playItem('+j+')">'+(bMP3 ? '<svg class="audio"><use xlink:href="#audio"></use></svg>' : '<svg class="video" viewBox="0 0 512 512"><use xlink:href="#video"></use></svg>')+' '+(j+1)+'. '+si['title']+'</a></nobr>';
			if (bPF) addPF1(f, 7);
			++j;
		}
		divMenu2.innerHTML = p;
		tbPlayList.innerHTML += s;
		g_aList3 = aList.slice();
		// IE8 不支持 getElementsByName
		var arr = tbPlayList.getElementsByTagName('div'), n = arr.length;
		for (i=0; i<n; ++i) g_aTD.push(arr[i]);
		if (n > 0) setIndex(g_nPI);
		vp.onplay = function() {
			if (g_bPlyr && !g_player) vpPlay();
		};		
		if (!!(document.createElement('video').canPlayType))
		if (n > 0) {
			if (g_nPI == 0) vp.src = g_aPL[0];
			vp.onended = onPlayEnded;
		}
	}
	initPlayer();

</script>
<br><br>
</div>

</div>

<div align=center><img onclick="jmp(d4);" class=lotus src="images/lotus.png"></div><br>

<script src="3tui.js"></script>
<div id=d5>
<div align=center><img src="images/tuidang.jpg" class=mw></div>
<div style="padding:5px 0 0 1px">
<br>
<div align=center style="line-height:1.5;font-size:1.1em"><font color=#c04040><i><b>您是否依然记得<br>在血旗下发过的毒誓--把生命献给邪党<br>那是您一切不幸的根源<br>三退保平安，愿好人一生平安</b></i></font><br></div>
<br>
<div id=divTui align=center style="padding: 10px 0"><div class=tui onclick="do3Tui();" title="一次完成一人三退">单人三退</div>　　　<div class=tui onclick="do3Tui(true);" title="一次完成多人三退">多人三退</div></div>
<div align=center>入过党团队或小时候戴过红领巾都需要退，帮亲友或其他人三退必须征得本人同意。已做过三退的请勿重复三退。<br>
<br>
</div>

<div id="tuicont" style="border:5px solid #dfe0cb;border-bottom:0px;margin-bottom:3px">
    <iframe src="about:blank" scrolling="yes" id="iframe0" name="iframe0" style="width:100%" height=315 frameborder="no" border="0"></iframe>
</div>

<blockquote style="background-color:#f5f2f0;padding:1.2em 0.6em;margin:0;border-width:1em;border-color:#e0dfcc;border-style:solid">
<font style="letter-spacing:0.1em;font-size:1.2em">
<div align=center style="line-height:1.5"><b>大纪元郑重声明</b></div><br>
　　广大的中国民众：共产党的末日就要到了。但是这个邪恶的党（魔教）在历史上却对众生、对神佛犯下了滔天大罪，神一定要清算这个恶魔。
<br><br>
　　如果有一天，神指使人类的谁对共产党清算时，也一定不会放过那些所谓坚定的邪恶党徒。我们郑重声明：所有参加过共产党与共产党其它组织的 (被邪恶打上兽的印记的)人，赶快退出，抹去邪恶的印记。一旦谁对这个魔教清算时，大纪元储存的记录可以为声明退出共产党和共产党其它组织的人作证。
<br><br>
　　天网恢恢，善恶分明；苦海有边，生死一念。曾被历史上最邪恶的魔教所欺骗的人，曾被邪恶打上兽的印记的人，请抓住这稍纵即逝的良机！
<br><br>
<div align=center>大纪元<br>2005年1月12日</div>
</font>
</blockquote>
<blockquote style="background-color:#fcfcfc;padding:1.2em 0.6em 0;margin:0;border-width:0 1em 1em;border-color:#e0dfcc;border-style:solid">
<div align=center style="font-size:1.1em">
截止2022年8月22日，退党（团/队）人数超过<p style="line-height:2em">
<font color=#ff6432 style="font-size:2em">4 亿</font></p>
</div>
</blockquote>
<br>
<div align=center><img src="images/tuidang.png"><img id=imgNum src="images/4.0.jpg" width=160 height=62></div>
<br><br>
</div>

<script>

	function getMargin() {
		var n = window.innerWidth;
		return "0 " + (n <= 1000 ? 0 : (n - 1000)*50/n) + "%";
	}

	function zoom(b) {
		if (b) g_bWideArticle = !g_bWideArticle;
		d1.style.margin = g_bWideArticle ? "0" : getMargin();
		aZoom.title = g_bWideArticle ? "缩小" : "扩大";
		svgWide.style.display = g_bWideArticle ? "none" : "";
		svgNarrow.style.display = g_bWideArticle ? "" : "none";
	}

	function scroll2(n) {window.scrollTo(0, n < 50 ? 0 : n);}

	var g_d;
	function jmp(o) {
		//divMain.style.margin = isLand() && (g_bSmallImageList || (o != d3 && (o != d1 || !g_bWideArticle))) ? (o==d1 ? getMargin() : "0 20%") : "0";
		var b = g_d === undefined && isLand();
		for (var i=1; i<7; ++i) {
			var d = eval('d'+i);
			if (b && i>1) d.style.margin = i==3 ? getMargin() : "0 20%";
			eval('td'+i).style.color = o == d ? "gold" : "white";
		}

		divDDM.style.display = o == d3 || o == d4 ? "" : "none";
		divBack.style.display = o == d3 && divPic.style.display == "" ? "" : "none";
		scroll2(o.offsetTop-tbMenu.offsetHeight - 2);
		g_d = o;
		showMenu3();
		if (o == d4) onWinResize();
	}
	
	function onWinResize(){
		if (divMenu3.style.display == "") {
			var n = d4.offsetWidth + 10;
			divMenu3.style.left = n + "px";
			divMenu3.style.width = (window.innerWidth-d4.offsetLeft-n-17) + "px";
			divMenu3.style.maxHeight = (window.innerHeight-tbMenu.offsetHeight-btnMenu.offsetHeight-10) + "px";
		}
	}
	try{
		window.addEventListener("resize",onWinResize,false);
	}catch(e){}

	jmp(d1);
	download();
</script>

<!-- 参照下面格式增加文章 -->
<pre id=article title="向无神论说再见">
【明慧网二零二三年一月二十六日】文: 傅杰
<br><br>
一月二十日，中国新年前夕，法轮功创始人李洪志大师在明慧网上刊登《为什么会有人类》一文，并同时授权大纪元、新唐人电视台面向更多的世人发表该文。
李大师的这篇文章石破天惊，句句天机，开篇即谈到：“过年本应讲几句大家喜欢听的年话，但我看到的危险在一步步逼近人类。为此众神、佛要求我向世界众生说几句神要说的话，句句天机，为的是叫人知道真相，再给人得救的机会。”
<br><br>
依笔者个人理解，李大师的话透露了人类即将面临更大的危险，展现了神佛的悲悯与李大师的洪大慈悲。
<br><br>
看看这世界，先不谈什么俄乌战乱与台海危机、地缘政治纷争与世界经济衰退、环境恶化气候变暖、性乱毒品黑社会等，单单这个中共病毒，全世界已经死了近700万人，中国那块党文化乌烟瘴气的土地上，疫情灾难是创历史记录的，一药难得、一床难求、一葬难有，很多阳过的人还可能留下后遗症，中共却继续给自己唱赞歌、极力掩盖死亡数字。李大师揭示中共三年动态清零期间，已经有4亿人死亡。有些人可能质疑这个令人心惊的死亡数据（本文先不做论证），看看中共的反应就知道了，到目前为止，中共无力反驳，砖头砸在谁的脚上谁知道疼。
<br><br>
<b>瘟疫肆虐，无神论能施展救赎吗？</b>
<br><br>
放眼世界，人类也只能寻求“与病毒共存”，奢谈消灭。
<br><br>
中共搞了三年所谓的“动态清零”，消灭了病毒了吗？没有。突然放弃“动态清零”，是因为各地疫情纷纷爆发，再也掩盖不住了。中共不是号称科技大国吗？投入巨资发展核弹头、太空武器、5G、人工智能、监视头、健康码、大数据等穷兵黩武、监控百姓的科技新兴项目，都是在把人类、中国人当作自己的敌人在消灭。面对萨斯和武汉肺炎，中共的科技无计可施，只是持续地把所谓的前沿科技着力在掩盖真相上。
<br><br>
现有科学发现，病毒无处不在，地球上仅细菌病毒的总质量就超过了所有大象重量的1000倍；在全世界的供水系统中存在的噬菌体颗粒超过10<sup>30</sup>个，将它们从头到尾排列起来长度超过2亿光年；目前地球上的HIV（艾滋）病毒基因组有10<sup>16</sup>个，科学家们推测这其中很可能存在针对现有的或将来的抗病毒药物都具有耐药性的基因组。
<br><br>
面对病毒、基因组与蛋白质，科学的突飞猛进，是在证明科学是巨人还是小矮人？无神论貌似那么强大的思想武器，在病毒、瘟疫面前，起到了多少救赎作用？科学哲学告诉我们，科学越强大越反证科学的无知，而无神论将人类大规模疫毙于病毒的责任推卸给了大自然和人类所谓进化过程中必付的代价。
<br><br>
其实“无神论”一词最早起源于公元前五世纪的古希腊语，最初指的是对较广为接受的神灵所持有的否定态度的人，背叛和亵渎神而被神灵抛弃的人，或未承诺相信某种神灵的人，而不是现代科学主义语境下的对神的全盘否定。随着中世纪的结束，近代科学怀疑论、工业革命和启蒙主义兴起，“无神论”一词的语义被放大，到法国大革命，共产主义登陆人类时期，无神论被共产主义者们进一步裹挟、利用，成为共产邪灵暴力革命的理论支撑，继而成了政治运动的关键性基础性理论。
<br><br>
无神论的欺骗性在于它将人类的认知局限性（未解之谜）一次性打包交给了人类局限性（未解之谜）自身，并将这个错误的路径指向了遥远的未来，将答案许诺在未来中。这就像一个靠借债度日的混混，债务违约日期到了，就拆东墙补西墙，债务越滚越大，日子却自欺欺人地得过且过，但总有一天债务要爆发的。从这点上来看，无神论理性吗？真的科学吗？
<br><br>
<b>中共反神，无神论走向末路</b>
<br><br>
中共邪灵百年来好话说尽，坏事干绝。中共诬蔑蒋介石国民政府为“反动派”，可蒋介石一家老老小小都信神。祖父蒋斯千早年信佛、中年修行后潜心归入佛门。母亲王彩玉一生茹素拜佛，手不离经，晚年皈依佛门。蒋介石精通王阳明心学，和太虚法师多有交往，崇敬佛法。后来蒋介石又熟读《圣经》。蒋经国在抗战的重庆政府时期就经过了洗礼。当时国民党中的干将高官有不少人不仅学贯中西，而且崇佛信神。宋美龄一家更是基督教世家。被中共刻意曲笔污蔑的民国大军阀，如段祺瑞、孙传芳、吴佩孚等人，不仅品行端正、为人保守传统，而且个个信佛崇佛。一九一七年段祺瑞二造共和讨伐辫子军张勋时，手下皖系军阀要多杀人，段祺瑞呵斥说，赶跑了就行，杀那么多人干什么？杀人要造孽的。
<br><br>
中共却是彻头彻尾的反神邪灵，建政后三教齐灭，让僧人还俗，强迫僧尼结婚，文革时砸佛像、毁寺庙，天宇中无数神灵怒视着。中共历届无神论党魁漠视生命、嗜血成性。毛泽东一九五七年要打核大战，死3亿人不在乎，大饥荒、文革死亡近8000万中国人。邓小平说杀20万保20年。江泽民对法轮功信仰者大开杀戒，迫害死数百万大法弟子，还活摘法轮功学员的人体器官。习近平将中共恶党红旗党旗插到寺院，三年疫情，漠视中国人生死。
<br><br>
在人类走向末法末劫的今天，新冠病毒瘟疫伴随着人类道德败坏、背叛神灵，迫害法轮大法正信信仰的罪业积累，正在横扫人类，尤其是死心塌地跟随中共的邪党分子，迫害过大法弟子死不悔改的，都是瘟疫逐个消灭的对象。近期在大陆开放后的疫情海啸中，失去生命的人大多都受到了无神论的毒害。
<br><br>
无神论再也欺骗不下去了，是时候该拔除了。
<br><br>
<b>解救之道</b>
<br><br>
人类史上历次大疫并非无差别传染，总有神异与奇迹，古罗马四次大瘟疫，基督教徒出生入死救死扶伤却少有染疫，明末鼠疫剑指明军明人，却绕过密接者清军。
<br><br>
而此次中共病毒呢？不谈远的，就谈笔者了解到的情况。平时对中共比较反感的，对法轮功比较友善的，我发现这些人有的到现在也没阳，或者阳了几小时就过去了。有个小朋友上小学时就坚决不戴红领巾，这在大陆可是很难做到的，这次疫情，几乎是无症状就过去了。再者，就是办了三退的人，家人都阳了，他没阳。有个两口子，都信基督，都打疫苗了，妻子阳了，老伴没阳，老伴三退了，妻子目前还没三退。
<br><br>
还有些没打疫苗的，当中也有没阳的，在大陆没打疫苗的基本都是不信中共且能抵抗得住中共施压的人。上述三种人具有相当强的免疫力，瘟疫绕着走。这三种人有共同的特征，就是远离中共，对法轮功友善。
<br><br>
笔者理解，李洪志大师早在三年前就曾开示世人，瘟疫是冲着中共而来。此次李大师发表《为什么会有人类》，是提醒三年前没重视那个开示的人，给本已业债累累的地球人类走向未来的生机。
<br><br>
朋友，您好好想想，无神论能让您守住善良、得到神的庇护吗？不能。您真是一个没有神性的人吗？回答应该是否定的。完全不信神的人，什么业都敢造，不想因果，不知作恶会招报，他们是不给自己留生路的可悲之辈。
<br><br>
</pre>

<pre id=article title="瘟疫中如何自保">
2020 年初，武汉肺炎疫情在中国爆发并蔓延到世界，有专家指出“此次武汉肺炎疫情比2003年非典严重十倍”，然而从疫情出现以来中共一直隐瞒真相，甚至瞒报死亡数字。
<br><br>
人们计划中的走亲访友、大聚会、度假游也受疫情影响，很多人选择闭门不出，专家也告诫人们要戴口罩、多喝水、勤洗手。不过，这只是让大家做好防护，维护公共卫生安全，而真正让您躲过灾难的却是法轮功学员告诉您的三退（退出中共党团队）和九字吉言：“法轮大法好，真善忍好”。
<br><br>
只要您发自内心的念诵“法轮大法好，真善忍好”，就会起作用。先说一件真实的事《不怕瘟疫的人》。
<br><br>
一位沈阳人在今年1月2日去逛当地的一个大型超市，人山人海的，当天傍晚他就开始咳嗽，第二天就发烧了，不想吃东西。没料到症状越来越严重：发烧让他躺在床上起不来，好象内脏都肿了，呼吸困难，咳嗽得很厉害好象要吐血了，全身的骨头都痛，头也痛，还有麻木的感觉，盖着厚厚的棉被还感觉冷！
<br><br>
尽管这样，他却一点没有害怕，因为他心里装了救命的法宝：他就开始念“法轮大法好，真善忍好！”他一遍一遍的坚持念，结果发烧烧了四天以后，就不烧了，后来只是咳嗽，身体没力气。他没有告诉亲人，是怕亲人们担心。结果，两个星期以后，他就彻底好了。
<br><br>
他说：“自从我明白法轮功真相，并退出中共的团、队组织后，再也不怕什么疾病、瘟疫和灾难了，因为我知道了无数的人因敬念“法轮大法好，真善忍好”而绝处逢生，知道了法轮功来到世间是来救人的。”
<br><br>
他还说：“我知道，其实不只是我，所有把“法轮大法好，真善忍好”这九字真言记在心里的百姓们，都会不害怕瘟疫，也不会害怕灾难，因为与神佛站在一起的人，都会得到神佛的保护，都会拥有美好的未来。”
<br><br>
法轮大法教人按照“真、善、忍”做好人，而且对祛病健身有奇效。至今，已经洪传全世界100多个国家和地区，获得多国各级政府的褒奖、支持决议和信函超过3000项。法轮大法的主要著作《转法轮》一书，已经被翻译成40多种语言在世界各地发行。法轮大法的创始人李洪志先生四次获得诺贝尔和平奖的提名。在香港、澳门、以及台湾都可以自由的修炼，仅仅台湾就有70万人在修炼法轮大法。
<br><br>
世人诚念“法轮大法好，真善忍好”，就会得到大法的保护，从而远离灾祸、逢凶化吉，转危为安。有人念后癌症好了，有瘫痪的病人念后能走路了，有重大车祸安然无恙的，还有躲过了地震、爆炸、海啸、洪水等等大劫难，遇难呈祥的。
<br><br>
在中国的传统文化中，向来有敬天畏神，相信天灾人祸是上天在警示人。中共自窃国以来坏事做绝，罪大无边，不断发动运动，三反、五反、反右、文化大革命、“六四”屠杀大学生、再到迫害法轮功、活摘法轮功学员器官，在和平时期杀害了八千多万中国人。
<br><br>
这次，中共刻意隐瞒肺炎疫情，导致疫情大爆发！人在做天在看。中共罪恶滔天，人不治有天治！
<br><br>
<div align=center>
<img src="images/tuidang2.jpg" class=mw><br>
</div><br>
那么天灭中共的时候，曾经发过毒誓说要把自己的生命献给中共，为它奋斗终生的党员、团员、和少先队员们，就会随着自己发过的誓言成为中共的陪葬品。已经有3亿5千多万中国人在海外的退党网站上声明了退出党、团、队组织，就是三退保平安。希望您和家人能尽早三退，三退后的生命就远离了厄运，神佛就已经悄然而至，保护着您了。您用真名、小名、化名都可以，写在一元纸币上，或写在纸上贴出去，神看的是人心。宁可信其有，不可信其无，<font color=brown>如果您还没有三退，请点击下面的“我要三退”按钮做三退</font>（三退是安全的，不涉及您的个人隐私，请放心）。
<br><br>
希望在这场发自武汉、波及全球的凶猛瘟疫过后，您和所有真心向善的人一样，依然生活在这片土地上，彼此善待，安居乐业。
<br><br>
</pre>

<pre id=article title="给有缘人的一封信">
<img src="images/yyr1.png" width=80 align=left style="margin-top:-30px"><img src="images/yyr2.png" width=80 align=right style="margin-top:-50px;margin-right:-5px">
<b>朋友：您好！</b><br><br>
大千世界，茫茫人海，您知道吗？能看到这封信和资料，您是多么幸运啊！有句话说：危险并不可怕，可怕的是，当巨大的险情来临时却不知道，这才是最让人痛惜的。我们衷心祝愿您与家人都有一个美好的未来，希望您能全家幸福平安，远离危险！<br><br>
<b>您看过关于“预言”的书吗？</b><br><br>
中国被称为神州，中国文化有“神传文化”之称，这在全世界是独一无二的。预言是神传文化的重要组成部分，中国许多朝代都留下了传世预言，对历史有着惊人的准确预测。比较著名的预言包括：周朝的《乾坤万年歌》，汉代诸葛亮的《马前课》，唐代李淳风的《推背图》，宋代邵雍的《梅花诗》，明代刘伯温的《烧饼歌》等。在外国比较著名的预言有：圣经《启示录》，法国诺查丹玛斯留下的《诸世纪》，韩国的《格庵遗录》等。众多的预言，出自不同的文化和地区，跨越不同的时代，却都预言了中国的朝代更迭、中共的产生与灭亡，及人类此时将有大劫之忧，预言了即将在中国发生的一件惊天动地的大事：天要灭中共，以及天灭中共时其追随者将被一同诛灭的可怕惨景！<br><br>
<b>亿年藏字石现天机</b><br><br>
<div align=center>
<img src="images/yyr3.jpg" class=mw><br>
</div><br>
2002年6月，在贵州省平塘县掌布乡发现了2.7亿岁的“藏字石”，五百年前崩裂的巨石断面内惊现六个排列整齐的大字“中国共产党亡”，其中那个“亡”字特别的大。中国的各路地质专家经实地考察后一致认为，这“藏字石”上未发现任何人工的痕迹，乃天然形成，堪称世界奇观。国内多家媒体报道，但都隐去“亡”字。“藏字石”的图片还被赫然印在贵州“藏字石”风景区的门票上。（见上图）<br><br>
冥冥之中有天意。史料上也有关于“藏字石”的记载：秦始皇36年，有坠星下东郡，至地为石，其石刻曰“始皇帝死而地分”。果然，秦始皇死后，秦二世即位不久，秦朝就灭亡了，准确地应了天意。千百年来的中国，在要出大事之前就一定有奇事发生，老天或以瑞兆示吉，或以凶相警世。今天，贵州平塘的“藏字石”是否也在向人们预示着天机呢？《易》曰：“天垂象，见吉凶”，由此看来，亿年古石崩裂，突现“中国共产党亡”，非同小可，天意昭然。中共恶贯满盈，坏事干尽，天真要灭中共了。<br><br>
<b>《九评共产党》掀起退党潮</b><br><br>
2004年11月19日，海外媒体大纪元新闻网开始发表系列社论——《九评共产党》。《九评共产党》是第一次系统阐述共产党邪恶本质的旷世之作，极短时间内便在海内外引起了强烈反响，被迅速翻译成三十多种语言在世界各地发行传播，被称作是“一本震撼全球华人的书，一本正在解体共产党的书”，并由此引发了势不可挡的全球退党、退团、退队——“三退”大潮。截至2016年9月，已经超过两亿五千万各界人士声明退出中共党、团、队组织，而且正以平均每天约十万人的速度滚雪球似的递增……退党大潮在中国产生了巨大的影响。这是中华民族的精神觉醒，是对中国人的心灵救赎。当人们认清中共恶党的本质后，就会猛醒退党保命。古语云：“君子不立危墙之下。”退出中共邪党，是顺应天意，是选择善良、远离邪恶，不做邪党的殉葬品，也为自己选择了光明的未来。<br><br>
<b>为什么灭中共是天意？</b><br><br>
中共建政以来，周期性的政治运动迫害了中国一半以上的家庭，造成了8000万中国同胞丧生，这一数字超过了两次世界大战死亡人数的总和。接二连三的各种血腥政治运动，镇反、三反、五反、肃反、反右、荒诞的大跃进和相继而来的三年大饥荒、反右倾、四清、文革、“六四”镇压学生、迫害法轮功，等等等等，无数善良人成了中共的虐杀对象。中共血债累累，罪恶滔天，必遭天谴；再看当今的中国社会，贤良受辱，小人猖獗，世风日下，道德沦丧、信义无存，黄赌毒假泛滥成灾。工人失业，农民失地，贪官横行，官商勾结，警匪一家，民怨沸腾……中共祸国殃民已经到了如此地步，人神共愤，上天还能容它吗？！<br><br>
共产党一向与天与地与神佛为敌，宣称无神论，战天斗地。文化大革命中，消灭一切宗教，煽动老百姓砸佛像，毁寺庙。2001年初，江泽民集团一手导演“天安门自焚”假案嫁祸法轮功，用中共控制下的“一言堂”媒体愚弄不明真相的百姓，煽动群众对以“真善忍”为原则的法轮功修炼者的仇恨，而这场迫害完全是由血腥和谎言构成的。<br><br>
<b>“天安门广场自焚”真相</b><br><br>
国际教育发展组织（IED）早在2001年8月14日的联合国会议上就提交了天安门自焚案的分析录像带，谴责江泽民集团的“国家恐怖主义行为”，并发表正式声明称：“中共当局企图以诬陷法轮功残害生命、破坏家庭来为其国家恐怖行为辩护。我们的调查表明，恰恰是中共当局对法轮功修炼者的虐杀而导致其家庭破裂，残害生命的正是中共极端残暴的酷刑、精神病院的摧残、劳改营的奴役……中共当局企图以自焚事件为证据诬陷法轮功，而我们得到的录像分析表明，整个事件是中共当局一手导演的。我们有该录像的拷贝，有兴趣者可来领取。”中共代表面对确凿的证据，没有任何辩辞。该声明已被联合国备案。<br><br>
<div align=center><table rules=none border=2 style="border-color:#008000;max-width:400px">
<tr valign=top><td><img src="images/yyr4.jpg" width=140></td>
<td style="color:brown;padding-left:2px;font-size:0.925em">天安门自焚伪案漏洞百出：王进东的衣裤被火烧破，头发却完整，两腿间盛汽油的塑料瓶在火焰下竟不变形。王进东身边的警察拎着灭火毯晃悠、摆姿式等着拍戏。
</td></tr></table></div><br>
※注：因早期播放的自焚录像被指出多处漏洞，在2001年8月中共对“自焚案”审判过程中播放的自焚录像中剪切掉了所有被指出的可疑之处。刘春玲被警察用重物击打头部倒下的镜头片段，已不见踪影。而这恰恰是不打自招，欲盖弥彰！造假背后必定是骇人的阴谋！<br><br>
所有“自焚”伪案的参与者，不管他们动机如何，他们的命运都是苦涩和令人悲哀的。他们失去的，或者是自己宝贵的生命，或者是自己的道德良知。<br><br>
除“天安门自焚”伪案外，2006年初又揭露出来的“中共集中营、劳教所、监狱活体摘取并盗卖法轮功学员器官和尸体牟取暴利”的罪行，其残暴程度远远超过了人类道德良知的底线，是“魔鬼的行径”、“是全人类的耻辱”、是“这个星球上前所未有的邪恶”。天良丧尽的中共邪党被天惩、解体的命运已成定局。<br><br>
<b>迫害元凶江泽民等被国际起诉 大审判在即</b><br><br>
自2000年起，海内外法轮功学员以“群体灭绝罪、酷刑罪、反人类罪”在全球30多个国家，发起50多个刑事和民事诉讼，控告迫害元凶江泽民及其帮凶，被称为“21世纪最大的国际人权诉讼”。2012年10月30日，“清算江泽民迫害法轮大法国际组织”成立。2015年5月以来，在国内受迫害的法轮功学员及其亲属和各界民众，纷纷依法控告、起诉迫害法轮功的首恶江泽民，日益高涨的全球诉江大潮势不可挡…… <br><br>
“善恶到头终有报”。天惩的序幕已经拉开，中共正在走向全面崩溃，迫害者恶报连连。王立军、薄熙来、李东生、周永康、郭伯雄等曾不可一世的迫害者纷纷落马，江泽民、罗干、曾庆红等元凶和罪无可赦的迫害者被彻底清算也正在逼近。中共体制内觉醒的官员和警察，已经开始留后路并私下收集文件、保留证据，退出中共，不再参与迫害，保护法轮功学员，并向国际社会公开其他官员的犯罪证据，揭露迫害法轮功的真相，在历史巨变的关头为自己和亲人选择光明的未来。江泽民对法轮功的迫害政策已众叛亲离，穷途末路。江泽民、罗干、刘京、周永康以及所有不思悔改的恶人面临的是历史的大审判！<br><br>
<b>三退保平安</b><br><br>
中共灭亡是必然的。历史曾经有过深刻教训，强大的罗马帝国无人可以征服，就因为罗马皇帝采用谎言、造伪证嫁祸于基督徒，借此对基督徒进行残酷迫害，结果招致天惩，国家灭亡。杀人偿命是天理，中共欠下这么大的血债，怎么能不偿还呢？那么到上天清算中共邪党的时候，作为它组成部分的党员、团员、少先队员就会成为中共的陪葬品一同毁灭。所以，人要想保平安，只有退出中共的党、团、少先队组织。<br><br>
有人可能说：“我思想中早退了，我也早就不交党费了。”但那是不算数的。您知道吗？你加入党、团、队时，在血（红）旗面前发了把生命献给恶党的毒誓，就是把生命交给它了，就被打上“兽记”，就是恶党的一员，你不声明退出，就抹不掉“兽记”， 当中共被清算时，所有未声明退出、仍带有“兽记”的党、团、队员就会遭殃。<br><br>
也有人可能说：“我早就超龄自动退队或者退团了，不必走形式了。”但这种所谓的自动退队、退团的形式那是人世间的中共组织形式认可的，不是神认可的。所以凡是曾经入过党、团、队等组织的人都要主动声明退出来，有行为的表示，才能除掉这么大的毒誓，神就会帮你抹掉“兽记”，您才能在天灭中共的时候保性命、保平安！<br><br>
那么如何退出中共的党、团、队组织呢？只要登录海外的“大纪元”退党网站声明退出参加过的中共组织就可以了，也可找你认识的法轮功学员帮忙代理。暂时不能上网声明退出的，可将“退党（团、队）声明”张贴到适当的公共场所、或写在钱上花出，同样有效，待有条件再上网发表声明。人们用真名、小名、化名、笔名或自己认可的名字声明退出党团队都可以。因为人在做、天在看，而且神看人心，慈悲于人，广救众生，既保护人又予人方便。<br><br>
古人云：宁可信其有，不可信其无。说一声“退”你毫发无损，也不费一分钱，却得到了个生命大保险，何乐而不为呢？！爱自己的家人，那么就劝父母、妻子、儿女、亲朋好友也都退了。在世上，没有比真理和生命更可贵的了。请用良知为自己的生命做出明智的选择！<br><br>
<b>珍惜生命 选择美好未来 </b><br><br>
朋友，请你冷静地思考一下法轮功。时至今日，中共对法轮功的血腥迫害已持续二十一年，法轮功不但没有倒下，却传遍世界100多个国家和地区，使不同国度、不同民族亿万人受益。至今，法轮功获得世界各地的褒奖与支持议案、信函已超过3000项。<br><br>
古语“大德曰生”，顺天保命。朋友，当您与亲友能在大灾难中平安脱险、幸存下来的时候，一定会为接受今天的建议和提醒而感到万分幸运，切勿失去这个宝贵的机缘，瞬间即逝啊！ <br><br>
最后祝您及家人、朋友：三退自救保平安，幸福永相伴！<br><br>
</pre>

<pre id=article title="中共祸害中国 三退才有未来">
2018年7月15日，吉林省长春长生生物公司因为狂犬病疫苗记录造假，遭食药监局通报。谁料三天后，该公司再被披露其预防婴幼儿百日咳、白喉、破伤风的百白破疫苗被验出不合格。事件曝光后立即轰动全国，一时间“疫苗”成为引爆民愤的敏感话题，而且黑幕越揭越多。<br><br>
当今做人难，做中国人更难。除了雾霾、毒奶粉、毒食品，现在还出现毒疫苗！直接毒害我们的下一代！当这个社会连小孩子都保护不了，这个社会还有何希望？更别说社会上黄赌毒，无官不贪……这一切的背后，都离不开道德危机、诚信危机和信仰危机。<br><br>
中华五千年文明，任何一个朝代灭亡时也没有混乱到如今这种地步。中国的今天究竟是谁造成的？今天的中国与历史上各个朝代有什么不同呢？<br><br>
事实上就是共产党执政之后，不断地搞政治运动，三反、五反、镇反、反右、文化大革命、六四天安门、迫害法轮功等等等等，据《九评共产党》一书估计，约有八千万中国人被共产党直接或间接害迫害致死。<br><br>
尤其是99年到现在，中共对法轮功的迫害尤为惨烈。以吉林省为例，据不完全统计，吉林省迫害法轮功的案例8205例，迫害致死475人，名列中国迫害法轮功最严重省份的前五名。长春则是吉林省迫害最严重的城市。吉林省有3358名公检法司、教育界、媒体界等人员因迫害法轮功学员，被海外组织“追查国际”立案追查。自迫害以来吉林5任省委书记中，王云坤患癌症死亡，王珉、孙政才被判无期徒刑， 王儒林调任闲职，知情人说是因为迫害法轮功遭了恶报。<br><br>
法轮大法是佛家修炼的上乘功法，学炼者以“真、善、忍”为原则要求自己，因为祛病健身，提升道德的水平卓著，已传播到了世界一百多个国家和地区，唯独在中国受到残酷迫害。中共建政以来对传统文化和道德的系统破坏，对“真、善、忍”信仰价值的打压，是造成当今中国社会道德急速下滑，道德底线一再崩溃的重要原因。<br><br>
《九评》编辑部出版的新书《共产主义的终极目的》对此有深刻的剖析，明确指出共产党对中国及全世界的危害性。再这样沉沦下去，我们热爱的这片土地，我们的下一代真的就没有希望了。有人可能说，现在中共大力反腐，不是有希望吗？不是的，因为反腐只能制表而不能治根。中国社会的危机是中共体制造成的，不然今天就不会发生触目惊心的毒疫苗事件。推荐朋友们阅读《九评共产党》及新书《共产主义的终极目的》，里面有详细的阐述，天机尽在书中！<br><br>
历史的安排有定数，就象苏联解体一样，瞬间发生；中共就象一棵烂了根的大树，说不定哪天就倒了。朋友，您做好准备了吗？ 已经有三亿一千多万中国人选择退出党、团、队，又称作“三退”。您是一个有良知的好人，从思想上脱离它，是良知道义的选择，请作出您的选择吧！<br><br>
三退非常安全，用小名、化名或真名退都可以，不是让您在组织里退，头上三尺有神灵，这是上天给每个人一次选择的机会。有人说我早就超龄自动退了，或我不交党费不算党员了，可是那不是您主动的选择，上天并不认可，每个人都要自己选择，要有行动才行。<br><br>
祝您早日选择光明与善良，有个美好的未来！<br><br>
</pre>

<pre id=article title="中共不是中国 退出中共才有未来">
当我们提到中国，会想到中华传统文化，文物古迹，风土人情，但绝不会是一个政党。政党与国家和民族不是一个概念。<br><br>
中国作为一个国家，一个民族已经存续了几千年。而中共的统治中国也不过才六十多年。中共当然代表不了中国。<br><br>
同为中国人，我们都为自己国家的悠久历史，博大而精深的传统文化感到自豪。但自从引进了与中国传统格格不入的共产党，从此给我们带来的都是灾难。共产党一直用“假、恶、斗”来维持统治，害死了八千万中国百姓。镇反、三反、五反、肃反、反右、大跃进、文革、六四镇压学生、迫害法轮功等等运动，无数善良的中国人成为中共虐杀的对像；中共破坏中华传统文化的精髓“儒释道”信仰，导致道德体系全面崩塌，社会乱象层出不穷；中共卖国，从1949年以来，中共主动放弃的领土多达数百万平方公里。<br><br>
有人说了：我也知道它不好，但是共产党给我钱。朋友您想过吗？您得到的那份钱，是您自己工作，付出而换来的。也许您付出同样的努力，在西方国家，您得到的金钱和待遇会更好呢。中共是世界上最大的腐败党，恰恰是中共贪污了您应该得到的钱。<br><br>
在今天的中国，伦理道德被破坏惨重，假货泛滥，娼妓遍地，毒品复燃，官匪勾结，黑社会横行，贪污腐化泛滥猖獗，而法轮大法提出的按“真、善、忍”的标准做好人，是我们最后的希望了，世界一百多个国家和地区都可以自由的修炼。您突破中共的网络封锁就可以在互联网上免费下载所有法轮功的书籍和音像资料。<br><br>
中共还把被非法关押的法轮功修炼人当作活体器官库，从他们身上强摘器官。就是不打麻药，把他们的心脏、肝脏、肾脏、眼角膜等器官活活切下来做器官移植赚钱。而被活摘器官的法轮功修炼者，在这个痛苦的过程中悲惨的死去。中共罪恶滔天。可是却要求每个中国人都发誓为它所干的事奋斗终生，也就是说中共在把它的罪恶分给每个党员、团员和少先队员一份，拉他们作陪葬。这不可怕吗？<br><br>
到二零一八年二月，已经有三亿多中国人看明白了真相，选择退出了中共的党、团、队组织。不是在组织内退，是在海外的退党网站声明退出。用小名或化名也可以。上天看的是人心，无比珍惜您可贵的生命。您“退出中共”这一念，就能让您从此得到神佛的保佑。<br><br>
</pre>

<pre id=article title="国际社会发声：停止迫害法轮功">
2019年7月24日讯：法轮功和平反迫害20周年之际，美国国会及行政当局中国委员会（CECC）发布一份声明，要求中共停止迫害法轮功，立即无条件释放被关押的法轮功学员，并要求中共允许国际社会对法轮功所遭受的迫害进行独立和透明的调查。<br><br>
声明中指出：“在过去20年里，中国的法轮功学员经历了令人震惊和不可接受的人权虐待。”<br><br>
“在这个悲伤的周年纪念日里，中共应停止迫害法轮功，允许联合国对过去20年来法轮功所遭受的人权侵犯进行独立和透明的调查。”<br><br>
7月17日，美国总统川普在白宫会见了27位信仰自由受迫害者，包括法轮功学员张玉华。张玉华告诉川普总统，活摘法轮功学员器官仍在发生着，她请求川普总统帮助制止中共政权发动的这场迫害，川普总统对张玉华女士连声说：“我明白。”川普总统说：“你们所承受的痛苦是大多数人无法承受的，我要向你们祝贺，我很荣幸能跟你们在一起，我将永远与你们并肩站在一起。”<br><br>
<div align=center><img src="images/us.jpg" class=mw><br><span class=img>二零一九年七月十七日下午，美国总统川普在白宫会见来自十七个国家的二十七位宗教迫害幸存者。图为川普总统与来自中国的法轮功学员张玉华女士握手。</span></div><br>
7月16日至18日，第二届全球宗教自由部长级会议在美国首都华盛顿举行，美国副总统彭斯表示：“美国人民永远坚定地与有信仰的中国人民站在一起。”美国国务卿蓬佩奥指出，“中国正发生着这个时代最恶劣的人权侵犯行为，是本世纪的污点！”<br><br>
美国众议院议长佩洛西表示，中共对人权的迫害是“对全世界良知的挑战”，“如果我们不为中国的人权侵犯和宗教迫害发声，就没有道德立场去讨论世界上其它地区的问题。”众议员杰克逊·李在法轮功学员的集会上指出：“正如马丁·路德·金的名言所说，‘任何一个地方的不公正，都威胁着其他地方的公平与公正’，你们遭受不公就是对我们不公，你们不放弃也意味着我们不放弃。”“只要我们还在，我们就将不再允许这种罪行持续下去。”<br><br>
据明慧网二零一九年七月二十一日报道：在反迫害二十周年之际，法轮功学员近日将一批恶人名单递交美国国务院，要求根据相关法律将其列入特殊名单，对其拒发美国签证、禁止其入境。<br><br>
国务院官员告知，名单收悉，会审核所有提交之个人，依法处理。还告知，近年在中国有多人因迫害人权被拒发签证，且皆因迫害法轮功学员。国务院官员还说明，人权迫害者的配偶、子女亦在惩罚之列。还强调，他们不看重迫害案例的数量，而看重具体事实，只要某恶人有一个案例具备足够的具体事实描述，就可将其放入特殊名单。<br><br>
国务院官员称，相关办公室的人员已扩充一倍，以便加大力度审核、限制各国人权迫害者的签证申请。而且，目前有28个国家已经制定或准备制定类似于美国的“马格尼茨基法”，对人权迫害者拒发签证、冻结海外资产。<br><br>
2015年12月17日，美国参议院通过《全球马格尼茨基人权问责法》，2016年12月23日附加于年度国防授权法中成为法令。该法案授权美国总统，可以对任何非美国公民实施制裁，包括禁止入境、冻结相关个人（或组织）的财产。制裁对象为：对迫害人权负有责任的政府官员、其代理人、非政府协力人员；有严重腐败行为的官员；为上述人员提供便利的或转移其非法收入的或提供其它技术支持的相关人员。<br><br>
从2000年起，法轮功学员在中国大陆、美国、加拿大、阿根廷、德国、西班牙、荷兰、南非、澳大利亚、韩国、台湾、香港等二十多个国家和地区，包括国际海牙法院，起诉江泽民。2015年5月至今，全世界已有21万法轮功学员实名向北京最高法院、最高检察院控告江泽民，已有303万人签名向“两高”举报江泽民。<br><br>
中国问题专家横河先生表示，作为人类历史上最邪恶最极权的中共，建政后迫害了无数中国人，迫害法轮功却彻底失败，使自身陷入了四面楚歌的境地。<br><br>
中国在二零一九年再次被美国国际宗教自由委员会列为侵犯宗教自由的“特别关注国”，这是中国连续第二十年被列为“特别关注国”。<br><br>
中国有句俗话：“多行不义必自毙”，“法网恢恢，疏而不漏。”内忧外困、四面楚歌的中共目前的处境，无疑被罩在了天罗地网之中，等待它的必定解体灭亡的下场。<br><br>
</pre>

<pre id=article title="BBC报道揭中共迫害法轮功与活摘罪行">
一个月以来，英国国际广播公司记者马修·希尔的专门调查“发现：中国的器官移植”成了BBC电台、电视热播节目，反复播出的节目中，希尔和BBC的多位主持人围绕两个问题穷追不舍：“中国器官移植的来源到底是什么？”，“活摘法轮功学员和其他良心犯器官停止了吗？”。<br><br>
<div align=center><img src="images/bbc01.jpg" class=mw><br><span class=img>二零一八年十月十五日和二十二日，记者马修·希尔的专门调查节目“发现：中国的器官移植产业”在BBC电台分两期播出，节目题目分别是“该相信谁”和“（器官）旅游和透明度”，两期节目在BBC电台反复播放。</span></div><br>
<b>否定不了的指控：中共仍在活摘法轮功学员和其他良心犯器官</b><br><br>
中共是否仍在活摘法轮功和其他良心犯器官，是马修·希尔调查的主线，也是焦点。他采访了因坚持信仰曾受到中共非法拘留监禁的法轮功学员杨女士和刘先生，请他们讲述遭受中共迫害的经历，特别是被定期强迫身体检查的具体过程，并把两位法轮功学员的讲述作为重要调查内容播出。<br><br>
安妮·杨这样回忆她在二零零五年被非法关押在北京劳教所里的经历：“我被严重迫害，肉体上和精神上，同时，他们把所有的法轮功学员带到最近的医院，每三个月一次定期的进行身体检查，包括胸透视、肝检查，包括B超和血液检查。”，“这些医院属于公安部门，离劳教所很近。”<br><br>
去年结束被非法关押的法轮功学员刘先生披露说：“我在监狱里的时候被带到医院好几次，被抽血验血，不但是我，所有的法轮功学员，他们强迫我们放弃信仰，你不听从，他们就毒打你，打你的胳膊和腿，打你的臀部，但不碰你的器脏部位。”<br><br>
在播出的“影响（Impact）”电视节目中，连线互动一开始，马修·希尔首先向主持人解释中共为什么要迫害良心犯、迫害法轮功：任何在国家控制之外的人、任何少数群体，都会被中国共产党视为威胁。一九九九年，法轮功学员达到一亿人，就被（中共）认为是巨大威胁，就被共产党污蔑诽谤，接下来就是对他们大规模的拘押。其后联合国机构注意到在拘留中心（中共）滥用酷刑对待坚守平和信念的法轮功学员。<br><br>
马修·希尔特别引用前加拿大外交部亚太司司长大卫·乔高、加拿大人权律师大卫·麦塔斯和美国资深媒体人伊森·葛特曼有关中共活摘良心犯器官的独立调查结果，让他们在BBC电台节目“该相信谁”里发声，提醒民众中共迫害良心犯最终目的不是赚钱，而是要对良心犯群体进行冷酷的群体灭绝：<br><br>
大卫·麦塔斯说：“中国官方统计死刑犯人数在下降，而开展器官移植的数量在上升；同时，在中国，存在着成百上千个关押良心犯的拘留中心。”，“等待时间短，患者想什么时候来就什么时候来，几乎马上可以得到供体，这意味着有人因此被谋杀。”<br><br>
大卫·乔高说：“你要是被当作国家的敌人，你的生命就不值钱，西藏人、维族人、家庭教会基督教徒，特别是法轮功，有大量的报告。”<br><br>
伊森·葛特曼说：“这是严肃的指控”，“是（中共）国家要消灭‘敌人’，钱只是用来做刺激的。”<br><br>
马修·希尔这样总结自己的调查：我们不会停止怀疑中共仍在活摘法轮功学员和其他良心犯器官，中共官方所称器官供体来源数量（中共声称从二零一五年起停止使用死刑犯器官、目前器官移植主要依赖死于重症监护病房病人的器官）与发生在中国的实际器官移植量之间落差大，由于缺乏透明度，中国移植旅游市场的器官来源仍然是谜。因此，我们不会停止怀疑中共仍在活摘法轮功学员和其他良心犯器官。<br><br>
<b>法轮功是什么，中共为什么打压法轮功？</b><br><br>
<div align=center><img src="images/bbc07.jpg" class=mw><br><span class=img>BBC播出镜头中出现法轮功学员在伦敦中使馆前坚持和平抗议的真相展板</span></div><br>
在播出的BBC节目中，马修·希尔提到有关法轮功的基本信息。结合法轮功学员在伦敦中使馆前坚持和平抗议的电视画面，希尔说：“法轮功是结合打坐的精神运动 ”，但是却被中共说成非法。<br><br>
十月十五日首播的“该相信谁”BBC电台节目入选听众“本周喜爱节目”，其中有一段这样介绍法轮功：“一九九九年，在中国修炼法轮功的人发现自己成了被怀疑打击的对象。法轮功运动最初是气功和打坐，在中国全社会广泛流行开来，成为中共系统控制之外的一个最大规模的群体，他们不该成为被中共政治打压的对象，难以想象从事平缓运动的这些人怎么会造成对国家的严重威胁。但是发展的规模让中共政府感到害怕了，上亿人开始修炼，很多人被打压，被送进劳教所和监狱多年，强迫他们放弃自己的信仰。由于他们不抽烟不喝酒的健康生活方式，他们被当作国家活摘器官生意的牺牲品，他们与其他宗教信仰团体一起，包括基督徒和维族人等，都成了（被中共）谋杀的对象。”<br><br>
<b>参与“活摘”医生揭露中共洗脑迫害</b><br><br>
在十月八日BBC电视“全球（Global）”节目中，原新疆医生安华·托蒂又一次详细讲述他在一九九五年亲自经历的从死刑犯身上活摘器官的梦魇过程，随后BBC主持人问他：“作为一个职业医生，你怎么能做出来（杀人摘器官）呢？”安华·托蒂回答：“我们生在那个年代，被严重洗脑了，当时相信我们做的一切都是为了祖国，把消灭（中共指定的）国家敌人当作是自己的责任，被国家（共产党）判死刑的人是坏人，所以我们没有负罪感。　”<br><br>
马修·希尔以他和安华·托蒂的以下对话开始BBC电台节目：<br><br>
记者：“那你为什么要动刀割？”<br><br>
安华·托蒂：“因为我被命令割下他的肝脏和两个肾脏。”<br><br>
记者：“你不能不听这个命令吗？”<br><br>
安华·托蒂：“不能，生活在中（共）国，每个人为‘国家’工作，你必须遵守命令，否则你就会被排除在社会之外，会被当作国家的敌人，你自己就会成为中共残酷迫害的对象。”<br><br>
接着，一位上世纪九十年代在中国学医的男士也指出，在中共专制压迫和洗脑下，本该救死扶伤的医学界沦落到麻木不仁的状态：“我们知道移植器官来自犯人，是公开的秘密，人人知道，我们那时也听说那些犯人是被官方处决了，但并没有死，有发表的论文，医生向官方表示为保证器官质量，不要打头，打右胸，这样心脏还在跳，器官有供血，也就是说可以把器官从还在活着的身体上摘下来。”<br><br>
“你怎么听说的，听谁说的？”希尔问。<br><br>
“从老师、学生，还有一些医生那儿，他们知道。”<br><br>
“你觉得这样做有问题吗？”希尔又问。<br><br>
“当时的中共共产主义洗脑教育下，我们学生们私下议论时觉得不舒服，但能忍受这样的事发生，觉得这些罪犯怎么死都是死，医生可以得到好质量器官。”<br><br>
<b>中国器官移植产业依然很活跃</b><br><br>
记者希尔在播出的调查节目中采用了韩国一家电视台对中国天津为韩国人提供器官移植服务场所的访问，用以说明中国器官旅游业的活跃现状，其中可以听到这样的对话：“我们都没有注册，也没在等待名单上，只要你有钱，就有可能活下来。”一位护士告诉采访记者，我们昨天做了一个胰脏、三个肾脏和四个肝脏（移植）。这些韩国人拿的是三个月的旅游签证。<br><br>
节目中，希尔自己给广州市一家医院打电话咨询肝移植情况，被告知价格是十万美金，可以马上报告病情，然后排队等供体。<br><br>
<div align=center><img src="images/bbc11.jpg" class=mw><br><span class=img>BBC记者马修·希尔当面质问黄洁夫的画面</span></div><br>
希尔随后有当面采访被指控是活摘器官的重要责任者、原中共卫生部副部长黄洁夫的机会，直接问他：“为什么我打电话到中国医院去，很快就获得了移植肝脏的机会？这怎么可能？”黄洁夫没有回答，尴尬离去。<br><br>
</pre>

<pre id=article title="法轮功真相小问答">
<b>问：媒体报道的法轮功学员杀人自杀是怎么回事？</b><br><br>
答：那些都是江泽民个人叫喊“三个月消灭法轮功”之后，大陆官方媒体传出的“信息”。但是人们不禁要问：从1992年法轮功传出以来，几年间从来没有听说过这样的事，怎么镇压后这种事才不断的“发生”？法轮功明白禁止杀生或自杀。李先生在讲法中提到：“杀生不只是会产生重大业力，还涉及到一个慈悲心的问题。”“自杀是有罪的”。一个心中装着“真善忍”的人，做事与人为善，怎么会去做那些损人害己的事呢？一个人如果嘴上说修炼“真善忍”，实际却干出与“真善忍”背道而驰的杀人害命的大坏事，那只能证明这个人根本就不是真修者。<br><br>
<b>问：炼功不会出偏，那“1400例”死亡是怎么回事？</b><br><br>
答：“1400例”是全中国上下当作政治任务“挖掘”出来的，而且是不允许任何第三方的调查，更不允许法轮功学员表达自己的意见。这种“一言堂”的做法就如同文革时刘少奇被扣上叛徒、内奸、工贼的大帽子，是冤假错案。其实对于这1400例，一些当地的法轮功学员進行了调查，他们调查的案例都显示这是栽赃陷害。<br><br>
即使退一万步说，假使这1400例都是真的，那么在中国有大量的人群炼法轮功，即使按照江泽民集团大大压低的数字，也有200万人。法轮功从92年传出，到99年7年间，假如死了1400人，平均每年200人，即使只有200万人炼法轮功（实际上有几千万），那么每年死亡率是万分之一。而中国人正常死亡率万分之六十五（0.65%）。所以这反而证明炼法轮功死亡率大大降低。<br><br>
<b>问：炼法轮功会导致精神病吗？</b><br><br>
答：在北美和台湾有几十万人炼法轮功，却从未听说有人因炼法轮功而得了精神病。在中国大陆，有几千万人炼法轮功。江泽民政府费了九牛二虎之力拼凑了几个案例，却根本经不起推敲。因为撒谎总会出破绽，尽管撒谎已成了他们的习惯。当初他们不是说六四事件中天安门广场没有死一个人吗？现在又导演了一场“天安门自焚”骗局诬陷法轮功。凡是看过“自焚还是骗局？”录像带的人都清楚地看到，所谓的“自焚”者之一的刘春玲不是被烧死的，而是被警察用重物打死的。这说明江氏政权在千方百计为其镇压制造借口，为了政治的需要，他们是什么事情都干得出来的。如果说炼法轮功真能导致精神病，法轮功学员早就都自己放弃了，还用得着江泽民一伙花这么大力气来逼迫人放弃吗？<br><br>
<b>问：生日问题？</b><br><br>
答：中央电视台指李老师编造身世，更改生日，虚构自己是“释迦牟尼转世”。但实际情况是文革中政府把生日写错了，而李老师只是请有关派出所把错了的生日改回而已。在这个日子出生的人又何止万千？李老师从来没有声称自己是释迦牟尼佛。事实上在中国，户口本上的生日被写错的例子是非常多的。《人民日报》曾登一篇有一老妇人曾为李老师接生的事，别说此80多岁接生婆拥有如此“惊人”的记忆力，她称：她清楚记得1952年为李老师接生时，是难产，用了催产素。单单她所用的催产素，在那年还未临床使用（可查哥伦比亚百科全书－－催产素发明应用日期为1953年）。<br><br>
<b>问：炼法轮功会不让吃药吗？</b><br><br>
答：看遍李洪志先生的有关书籍，绝对没有一句“不准学员吃药”的话。李先生只是讲了吃药与修炼的关系。中央电视台录影带是断章取义剪辑成的，李先生原来的演讲意思是：法轮功学员不可以以气功给别人治病。然而，经过中央台的移花接木，意思竟变成说法轮功学员自己有病了不准去看。事实上，法轮功具有神奇的祛病健身功效，许多学员学炼之后，病痛消除了，所以才自动停止服药。在大陆一些修炼法轮功的医学人员曾对北京市区12731名法轮功学员進行调查，其中有11892人炼功前是有病的，炼功后11785人疾病好转或完全康复，完全康复的有6962人。没病了就不吃药了，即便是良药还苦口呢！<br><br>
<b>问：法轮功有无敛财？</b><br><br>
答：所有法轮大法的书籍和影像资料，一直都可以免费从国际互联网上下载、复制，若要敛财，何必如此？《转法轮》的市场价为12元，而大陆出版一本攻击法轮功的书却卖几十元，谁在敛财，一目了然。<br><br>
<b>问：法轮功是不是宣扬“世界末日”？</b><br><br>
答：中央电视台制作的“李洪志其人其事”节目中一些所谓的证人声称李老师曾宣扬世界末日等等，纯属虚构，是为了满足一些人的政治目的。李老师从来没有那样说过，而且在多次讲法当中，他一再强调只有邪教才宣扬世界末日的到来。中央电视台将李老师在录像中的一句话：“大劫难不存在了”的后半句删剪，只放了前半句“大劫难”。堂堂国家电视台如此愚弄百姓，居心何在。<br><br>
<b>问：法轮功是不是宣扬迷信？</b><br><br>
答：自古以来，中国几千年的文化博大精深，宗教中所谈到对神、佛的信仰是不是迷信？许多人把目前科学还无法证实的一切，全都说成是迷信，这样科学还能发展吗？李洪志先生是以现代科学、现代人体科学的角度来讲述修炼的实质，并不是说教与唯心，在法轮功学员中有很多很有成就的人，包括大学教授、博士、科学家、社会学家、党员干部等，这现象不值得思考吗？从另一角度来看，人们对善恶因果的信仰，一直维持着人类的道德，不难想象当人什么都不信、为所欲为地什么都敢干时，社会将会如何黑暗。<br><br>
<b>问：法轮功参与政治？</b><br><br>
答：法轮功学员之所以来学功是为了德行高尚、健康身体，不是来求名、求利的。李洪志先生明白的告诫学员：“一个修炼者，除干好本职工作外，不会对政治、政权感兴趣，否则绝不是我的弟子。”所以一个修炼者是与政治无缘的，是江泽民的残酷镇压将广大的炼功群众推向政府的对立面。<br><br>
有人说起诉迫害法轮功学员的大陆政府官员是参与政治，我给您打个比方，假如一个政府官员杀了你的家人，你揭露他的罪行，到法庭去控告他，能说您是参与政治吗？从1999年7月20日开始后五年的时间里，江泽民一伙已经将至少1000名法轮功学员害死，我们不应该揭露、控告这伙杀人犯吗？这怎么是参与政治呢？而且法轮功学员对那些没有参与迫害的中共官员始终报以善意，即使对那些曾经参与迫害的官员也一再严肃的劝善。<br><br>
<b>问：你们师父只是中学毕业，为什么那么多博士硕士还相信他的理论？</b><br><br>
答：人类历史上许多伟人的卓越成就，都不是在学校学习的基础上取得的。比如，孔子是中学毕业还是大学毕业呢？可是孔子的儒家学说在中国传扬了两千多年。禅宗六祖慧能不认字，为什么状元王维等文士那么崇拜他？只要他说的好说的对，人们就会按照他说的去做，谁还管是中学毕业还是大学毕业。美国的发明大王爱迪生也只上过小学。没有爱迪生发明电灯，大家可能还在点蜡烛照明呢。还有，钢琴神童莫扎特在演奏上可是无师自通，他3岁就开始弹钢琴，6岁作曲、9岁写交响乐、12岁写歌剧。他7岁时开始第二次为时3年半的巡回演出。这样的例子举不胜举啊。<br><br>
<b>问：你们都不练了，不就不受迫害了吗？</b><br><br>
答：既然法轮功好，为什么我们就不能炼？怕遭迫害？这逻辑有问题啊！举个例子，当初日本侵略军侵略我国，搞大扫荡，和“烧光、杀光、抢光”的三光政策。抗日军民在极其艰苦的条件下前赴后继的浴血奋战，哪怕直到最后一个人，也宁可战死，决不投降。按你的说法，就该说：“你们这些傻瓜，赶快举手投降吧，为了保障人民的安全，大家都不许抵抗！当亡国奴，苟且偷生也比死了强啊。”甚至会有人说：“干脆我们学汪精卫当汉奸，还能升官发财，荣华富贵呢！”<br><br>
是不是这么回事呢？这不行啊！坚持真理、坚持正义，这是做人的最基本原则啊！<br><br>
<b>问：政府说不好，你干嘛还要炼呢？</b><br><br>
答：一个事物是好还是不好，并不由某个政府说了算，得由事实来说话。再者，法轮功已传遍近60个国家和地区，修者上亿，为什么只有中国一个政府说他不好，而其他国家政府都是给予褒奖？最后，也是最重要的一点，法轮功教人向善，修者身心健康，道德回升，有何不好呢？<br><br>
<b>问：法轮功如果真的好，为什么还被禁止呢？</b><br><br>
答：其实迫害法轮功是江泽民一个人的决定。政府中有许多人是反对镇压的，只是不敢说或被压制下去了。江泽民说不好就不好吗？法轮功主张诚实、讲真话、尊重传统道德；鼓励人们通过实践“真善忍”来获得身心的健康与升华，人传人吸引了各阶层的人来学炼，根据中国政府在98年底的内部统计，当时全国有一亿人在学炼法轮功。这是心胸狭窄、只关心自己的权力而不顾人民死活的独裁者所嫉妒和难以容忍的。<br><br>
听说过白雪公主的故事吧？即使白雪公主躲在深山老林七个小矮人的屋里，恶毒的王后都想尽办法害死她，是白雪公主不好吗？不是。是因为王后心胸太狭窄，妒嫉白雪公主太美好太善良了，反衬出她自己的丑陋和凶恶，所以心胸狭窄的她受不了。<br><br>
<b>问：你练别的功不行吗？干嘛非要炼法轮功？</b><br><br>
答：既然法轮功好，为什么就不能炼？再说，练什么功是每个公民的自由，为什么一定要看谁的脸色违心行事呢？！其实，很多学员在修炼法轮功之前，确实也练过、接触过许多别的功法。他们是经过认真的思考、实践、比较之后，无不被法轮大法那博大精深的法理所折服，认为法轮功是万古难遇的正法修炼，因此最终走到法轮大法修炼者的行列中来。<br><br>
<b>问：是不是炼法轮功的人太多，领导人才感到威胁？</b><br><br>
答：国家领导人首先应该考虑的是国家民族的利益，把国家建设好，使人民安居乐业，使国家繁荣富强。而不是一心只想保住自己的权位，看见不顺眼的就打、杀，斩草除根，置之死地而后快。那就是昏君、暴君！只会毁了这个国家。况且，法轮功只是修炼，身体好了，为国家节省医药费，法轮功还教人按“真善忍”做好人，对国家社会有百利而无一害啊。<br><br>
<b>问：法轮功好你就在家偷着炼呗，干嘛非要出去呢？</b><br><br>
答：既然法轮功好为什么就不能光明正大出来炼，而要躲在家里偷着炼呢？一个心底无私的人为什么不能向自己的同胞、政府堂堂正正地讲真话？“慈父遭谤子不在，世人都会骂不仁。”作为深深受益于法轮大法的人，在我们尊敬的师父遭受谣言恶毒攻击的时候，我们站出来，用和平的方式，用宪法赋予公民的基本权利，依法和平上访，向中国政府和人民澄清事实，何罪之有？<br><br>
<b>问：法轮功有严密的组织吗？</b><br><br>
答：法轮功没有组织。法轮功对学员没有任何硬性的规定和限制，想来就来，想走就走，也没有花名册。法轮大法之所以有这么大的凝聚力，在短短的10年里，修者上亿，甚至在受到残酷迫害的情况下，人们还能坚修大法，是因为人们真正从内心深处看到了佛法真理的伟大，从而自觉地按照“真善忍”原则来要求自己。法轮功所有的活动都是公开和自由的，欢迎任何人加入修炼行列。<br><br>
<b>问：明白真相，又会怎样？</b><br><br>
答：世界各国有很多古老而著名的预言都提到了法轮大法的出现、洪传和遭受迫害的事。然而，预言也暗示了当有一件事发生时，灾难将被化解，人类将通过一次淘汰过程后，進入一个辉煌的新时代。这件事不会因为人的观点和相信与否而发生任何改变，就像不管人喜欢与否地球都会照转一样。也许，这件事就在您的身边、眼前。<br><br>
如果人们不能正确对待今天在中国发生的事，当一切真相大显，善恶有报皆成事实，那时再怎么后悔都将无济于事，这就是我们为什么尽全力讲清真相的原因。我们希望您在明白真相后能作出正确的判断，从而给自己的生命选择一个美好的未来。在大是大非面前每一个人都有自己的立场，是选择善，还是选择恶？对邪恶的漠视就是变相的纵容，而每一份对善良的支持和善良的努力，都会成为对邪恶的一份窒息。<br><br>
所谓的“中立”其实是不存在的。每个人都要定位自己的态度：是支持正义？还是落井下石，助纣为虐？相信真正的有识之士会选择前者。如果您还会时常思索生存的意义，寻找生命的真谛，那么请您不妨读一读《转法轮》，相信会有所裨益。<br><br>
<b>问：初学者如何学炼法轮功？</b><br><br>
答：“心存真善忍，法轮大法成；时时修心性，圆满妙无穷。”（李洪志 1994年12月27日）<br><br>
如果您想学炼法轮功，可以采取下列方式：（没有先后顺序，可以同时進行）<br><br>
◆“一气呵成”通读《转法轮》一遍。这能让您对法轮大法有个基本的认识与了解。（《转法轮》等大法书籍，在书店有售，也可从网上下载。）<br>
◆ 直接找到您附近的炼功点学炼五套功法。<br>
◆ 参加就近举办的九天集体学法炼功班。这是最完整的一种方式。<br><br>
在九天中，每天播放一讲李洪志老师的讲法录像带，并教授五套功法。（见音像资料）九天班结束后，您就知道如何开始在大法中修炼了！（近期弘法会消息可从附近的炼功点查询）<br><br>
法轮大法所有活动均免费，自愿参加，没有会员制。欢迎您参加就近的义务炼功点，集体炼功，学法交流。欢迎与我们联系。<br><br>
注：国内可以翻墙后从 http://www.falundafa.org 下载《转法轮》等书籍音像资料，如果周围有法轮功学员，也可以向他们咨询。<br><br>
</pre>

<pre id=article title="台湾导游鼓励大陆游客了解法轮功真相">
自二零一七年十月下旬起到台湾旅游的中国大陆人明显增多了，台北的著名景点“国父纪念馆”，是大陆游客到台湾必造访之处。法轮功学员当然也乐呵呵，迎接远道而来的中国人听真相。<br><br>
<div align=center><img src="images/taibei.jpg" class=mw><br><span class=img>国父纪念馆外，大陆游客认真阅读法轮功真相</span></div><br>
有的导游会将集合地点安排在真相点，一位女导游对陆陆续续到达的团员说：“法轮功她们没有领薪水、很多平常是要上班的，他们都是自愿来的，而且还自己出钱制作了很多材料，现在这些展板你们可以看、在等的时候就看看，没关系的。还有啊，你们看看她们炼功的精神都很好，年纪大的身体也很好，这我有注意过：她们精神很不一样的。”在导游的鼓励下，这团的中国人很认真地仔细看着展板。<br><br>
有位男导游在经过真相点时说：“法轮功的理念与态度是值得学习的……在大陆你们那边那种迫害情况下，还在坚持，真的很不容易。这种态度用在工作或生活上，都是最好的了，现在有这种员工都是公司老板的福气！你们现在要退党的、就留在这里找法轮功学员退，其他的跟着我進去看交接。”临走前，导游还挥起手用力大声对学员说：“法轮功是最好的，你们一定要继续坚持、一定坚持修炼！！”<br><br>
另一位导游对着团员说：“法轮功这些资料你们可以看、也可以不看，但是你们不可以说人家是邪什么的，也不可以说他们不好，法轮功有他们信仰的权利，你们要尊重，更不要去找他们吵架，你们有的头脑被共产党洗了几十年了要改也可能很难，法轮功他们说的信不信随你们，但是你们不要随便就骂他们。”这位导游说的时候正气十足。<br><br>
之后有位大陆来自东北的领队主动跟学员热情打招呼，还说：“我没有阻挡他们看，你上次说：带的都是自己家乡的人就是自己的亲人，所以我也都希望他们看。”学员竖起大拇指跟领队表示赞赏！<br><br>
接着来了一团福建省的，其中几位大娘表示不看不听、还大声取笑学员，但有位老先生主动留下来看展板，还跟学员竖起大拇指：“法轮功的事我都知道，都知道，而且很了解，我装了锅看新唐人已经六年了。”“你们这些法轮功的我一看就认出来了，都很祥和很平和，尤其从眼睛就看得出来，眼睛是灵魂之窗嘛，你们有修行的人就是不一样！”<br><br>
他接着叹了口气表示：“就是共产党把我们中国人搞坏了，连个做人的基本素质都没有了！没有同情心、没有恻隐之心，就是怕！有的还很怕共产党啊，所以不敢支持正义或对的、善良的，这是现在我们中国人最大的悲哀，是非善恶都分不清了，这还像个人吗？连个基本人的素质都没有了，这是整个中国社会的损失啊，还好有法轮功啊，你们很了不起！”<br><br>
另一位中老年纪的先生在整团進入纪念馆观赏交接典礼时，自行离队到了真相点专心认真看真相展板，他主动表示：法轮功的事他都知道，都知道，而且都还保留着当时的书籍。这位先生因为生意常到香港或来台湾，来了就会到各景点看看展板及材料，还表示：“在香港无论是展板或材料都是大量的而且有很全面的讯息，中国人很多啊，你们台湾的要跟香港法轮功学员多学学，你们做得太毛毛雨了。要多做些。”学员感谢这位有缘人对我们的期许，并顺利帮他三退了。<br><br>
之后又来了好些中国人陆续表示：法轮功的事都知道、都清楚！其中有分别来自不同国内省份的老年人、中年人，也有因为翻墙使用自由门或无界而看到法轮功真相，也有因为出国到了景点才关注到法轮功的真实情况的……这其中都传达了一个讯息：全世界的法轮功学员长期坚持不懈的为着中国人生命着想与负责，以一己之力在各自环境中传递事实讲述真相，润物细无声，对中国人人心的改变却是巨大且久远的。<br><br>
</pre>

<pre id=article title="大陆游客：法轮功造福世界">
台湾台北国父纪念馆不只是国内外观光客必造访之处，也常有本地各种社会活动及艺文演出在此举办。当经过法轮功真相点时，人们有些会侧耳倾听正在广播的内容，有的会静静观看展板，也有的会进一步询问，因此促成了与法轮大法真相相遇的缘份。<br><br>
<div align=center><img src="images/taibei1.jpg" class=mw><br><img src="images/taibei2.jpg" class=mw><br><span class=img>游客在国父纪念馆前的法轮功真相点上认真阅读展板</span></div><br>
有位来自美国、到台湾进行短期研究的交换学者经过景点时向法轮功学员表示：台北不大，没想到几个景点都有法轮功学员，既感意外也很肯定：你们对中国人传播真相真是不遗余力，我在纽约好些地方也都看到过。他在美国大学里教中国政治，对共产党的意识形态、“孔府学院”在美国校园里的渗透与做法极度反感又无奈。学员送他一本《共产主义的终极目的》以及介绍法轮功的真相传单。他表示：我站在你们这一边，祝福你们成功、好运快来！<br><br>
<b>“法轮功，这可是高层次的！”</b><br><br>
有对来自广东自由行的夫妻，走走逛逛走到了真相点，问了之后立即一震：“法轮功，这可是高层次的！这我知道，你们做的事都是高档次的，我是做生意的到处跑，看得多也听得多了，这些我知道。”<br><br>
之后来了个吉林长春的旅游团，有三位中年先生趁着抽烟而没进入馆区，留在景点仔细观看真相展板。其中一位先开了口：“我们就是你们师父家乡的，公主岭。我妈妈、舅舅年纪都很大了，都还炼法轮功，而且是从迫害之前就开始炼了，所以法轮功的事我都明白，但我们只能心里明白，只能领会，不能言传。”<br><br>
另一位马上接着说：我当时也炼了，但是没坚持下来。学员告诉他现在大法在全世界洪传的盛况，并提醒他，在乱世末劫，大法洪传普度众生究竟为什么，值得他深思，也请珍惜当初得法这万古机缘。<br><br>
第三位在旁接着说：“你这就是言论自由啊，那你们真是很自由啊，大大方方地公开说，如果在我们那边，那老早就被抓起来了。”三位你一言我一句地说，非常兴奋，法轮功在台湾的盛况带给他们的震撼溢于言表。<br><br>
<b>“法轮功的付出终会得到上天的肯定”</b><br><br>
有位来自内蒙古的老先生在整团进入正馆参观时，独自留在真相点仔细观看资料，他表示知道法轮功真实情况，“很了解，因为人的眼睛可能一时被蒙蔽，但仔细看看你们所作所为，就能擦亮了双眼看清事实。共产党只允许人民相信它、服从它、膜拜它，一党专制独裁统治！但共产党里有很多好人，我就是资深共产党员啊。”学员进一步说明：共产党是真正的邪教，老先生也回应：他是相信有神的，当然是炎黄子孙，不会认马列为祖宗……老先生离去前语重心长地说：“法轮功的付出终会得到上天的肯定，虽然过程中有人牺牲了生命，令人遗憾，但你们造福了全中国，造福了全世界！我年纪大了，希望在有生之年能看到法轮功重回中国的日子。”<br><br>
<b>“到底是谁的问题呢？”</b><br><br>
一位总是笑口常开的导游对学员表示：对于法轮功，大陆游客很好奇，但又很敏感，所以虽不公开提，却私下问：“台湾为什么到处都看到法轮功啊？”导游说他会进一步说明：台湾是民主自由的多元化社会，所以宗教信仰是自由的。其实全世界都有炼法轮功的，只有共产党排斥法轮功。那你说：把法轮功挡在中国国门外，到底是谁的问题呢？<br><br>
另一位资深导游在带团经过真相点时停下来对大陆游客们宣布：“你们出国了就要看不一样的，而且要看国内看不到的，那就是法轮功，可以看一看。等下看完交接典礼，就回到法轮功这里集合。”<br><br>
<b>法轮功学员表达诉求，合情合理也合法</b><br><br>
导游们对法轮功的介绍说明多种多样，使初来乍到的中国游客有机会听到了不同于“中共喉舌”的观点。<br><br>
一位资深导游表示：下飞机后，我都会跟团员说：“在台湾，法轮功是合法登记的团体，因为被共产党迫害、所以要表达他们的诉求，这合情合理，也是合法的。”这样一说，私下就会有团员跟他说“自己就是炼法轮功的”或“家里亲戚谁谁就是炼法轮功的”。<br><br>
游客在真相点停留的时间有长有短，讲真相的法轮功学员们对每位游客都报以真诚的微笑与祝福，但愿让过往的人群都感受到大法修炼者的善心与平和不争，期待在不久的将来，更多善良人群能接续上与法轮大法的缘份。<br><br>
</pre>

<pre id=article title="法轮功基本问题问答(56问)">
法轮功自1992年从中国的长春传出来，至1999年的七年间，吸引了上亿人修炼。在经历了中共十多年的残酷镇压后，法轮功反而在世界上120几个国家广为传播。为了广大的中国民众对法轮功和法轮功修炼者有比较公正和全面的认识，我们编辑了法轮功基本问题问答。<br><br>
<b>1．您能简单介绍一下法轮功吗？</b><br><br>
答：法轮大法也称法轮功，是由李洪志先生于一九九二年五月传出的佛家上乘修炼大法，以宇宙最高特性“真善忍”为根本指导，按照宇宙演化原理而修炼。经亿万人的修炼实践证明，法轮大法是大法大道，在把真正修炼的人带到高层次的同时，对稳定社会、提高人们的身体素质和道德水准，也起到了不可估量的正面作用。<br><br>
法轮功修炼者以“真、善、忍”为指导来律己修心，他们努力地去在各种环境中做好人，做越来越好的人，尽力摒弃各种不良思想与执著（如愤怒，焦虑，嫉妒和争名逐利之心）。同时辅以简单明了的五套动作，既修心性，又净化身体。短短九年时间，法轮功传遍及八十多个国家和地区，参加修炼的人已有上亿之众。法轮大法书籍被翻译成十几种语言在全世界广为流传。<br><br>
为了表彰法轮功创始人所作出的特殊贡献，包括加拿大、美国、澳洲、欧洲等许多国家的各级政府对李洪志先生和法轮大法授以褒奖。正如加拿大总督伍冰枝女士在褒奖状中所写：“遵循法轮佛法原则的女士们和先生们努力完善他们的身体和思想。他们希望与宇宙共生，体验内心的宁静。他们所修炼的功法和打坐远非他们学习以便掌握的某些技能，而是让他们作为人能够提高、进步的方法。他们修炼自心平和并与宇宙协调的意志，从而获得对他人的善心，帮助创造一个更开放、更容忍的社会。”<br><br>
<b>2．法轮功的特点是什么？</b><br><br>
答：法轮功是佛家修炼法门，但不是佛教，就如太极属道家修炼功法，但不是道教。<br><br>
法轮功的修炼形式主要是学法和炼功。学员相互交流切磋修炼感受和体会的心得交流会，对提高也有很大益处。<br><br>
法轮大法直指人心，指出真正修炼就得按照“真善忍”的标准修炼自己的这颗心，叫修心性。<br><br>
“心性是什么？心性包括德（德是一种物质）；包括忍；包括悟；包括舍，舍去常人中的各种欲望、各种执著心；还得能吃苦等等，包括许多方面的东西。人的心性方方面面都要得到提高，这样你才能真正提高上来，这是提高功力的关键原因之一。”（《转法轮》〈第一讲〉）心性提高上来，功就会长，身体就会发生大的变化。<br><br>
法轮佛法还有修命的部分，这就要通过功法动作去炼了。那么也就是说，法轮大法要既修又炼，修在先，炼在后。不修心性，只炼动作是不能长功的；只修心而不炼大圆满法，功力将受阻，本体也无法改变。<br><br>
法轮佛法修炼是以法轮为中心。法轮是有灵性的旋转的高能量物质体，存在于另外空间。李洪志先生给修炼者的法轮每天24小时旋转不停（真修者读法轮大法原著，或看李洪志先生的讲法录像，或听李洪志先生的讲法录音，或跟随大法学员学炼也能获得法轮），自动帮助修炼者炼功。也就是说，修炼者虽然没有时时在炼功，而法轮却在不停地炼人。这是当今在世界上传出的所有修炼法门中唯独能够达到“法炼人”的修炼方法。<br><br>
法轮大法是使修炼者同化宇宙最高特性—“真、善、忍”的，与其他任何功法都有根本的区别，他的独到之处主要有以下八点：（1）修炼法轮，不炼丹，不结丹（2）人没有在炼功，法轮却在炼人（3）修炼主意识，自己得功（4）既修性又修命（5）五套功法，简单易学（6）不带意念，不出偏，长功快（7）炼功不讲地点、时间、方位，也不讲收功（8）有师父法身保护，不怕外邪侵扰。<br><br>
法轮大法是正法，只要修炼者按照大法的要求守住心性，去掉执著心，在修炼中放弃任何不正确的追求，就一正压百邪。<br><br>
法轮大法修炼分为世间法和出世间法等诸多层次。修炼一开始就处在很高的起点上，为修炼者和修炼多年而不长功的人提供了一个最方便的法门。当修炼者的功力和心性达到一定层次后，实现在世间修成金刚不坏之体，达到开功开悟，整体升华到高层次。大志者学正法，得正果，提高心性，去掉执著方为圆满。<br><br>
<b>3．您能简单介绍一下法轮功在世界洪传的情况吗？</b><br><br>
答：法轮大法历史极其悠久，过去都是历代单传。1992年法轮大法的师父李洪志先生第一次把大法公开传出。大法传出以来，李洪志先生历尽艰辛、不辞劳苦，在亚、欧、澳、美等世界各地讲法。大法洪传八十多个国家，载誉无数。亿万修炼者返本归真，获益无穷。<br><br>
大法的修炼者立足于社会，在常人的复杂环境中磨炼心性，去掉各种执著心，同时提高自己。法轮大法基点是佛家修炼，但由于修炼的是真善忍宇宙的特性，大法涵盖了宇宙中所有佛、道、神正法门修炼的法理。世界上各种正法门修炼的精华在大法中都有体现。不同人种、不同肤色、不同阶层、不分男女老幼、职业地位甚至有不同信仰的人均可修炼法轮大法。<br><br>
截止到2009年，法轮大法主要著作《转法轮》和《法轮功》已被翻译成40多种语言并在世界各地出版发行；还有更多语种的翻译正在进行过程之中；目前世界上有120多个国家和地区有法轮功修炼者，还有更多地区的民众正在陆续开始修炼法轮大法。<br><br>
现在世界各国政府机构、议员、团体组织等纷纷对法轮大法和创始人颁发褒奖及感谢，已达3000多项。自2000年起，李洪志先生连续四年获得诺贝尔和平奖的提名。<br><br>
<b>4．什么是修炼？</b><br><br>
答：开始学炼法轮功，也就是开始修炼了。“修炼”二字，同时包括两方面内容：修—修炼心性，炼—炼功。<br><br>
1、修炼心性<br><br>
“心性是什么？心性包括德（德是一种物质）；包括忍；包括悟；包括舍，舍去常人中的各种欲望、各种执著心；还得能吃苦等等，包括许多方面的东西。人的心性方方面面都要得到提高，这样你才能真正提高上来，这是提高功力的关键原因之一。”（《转法轮》〈第一讲〉）<br><br>
那么既然要修心，就要有相应的法理作为指导。法轮大法的最主要著作《转法轮》里，包含了从修炼入门到修炼圆满所需的一切法理。学炼者只要不断的、反复的通读《转法轮》，就会逐渐领悟到修炼所需的许许多多的高深内涵。<br><br>
法轮功学员通常把对法轮大法著作的学习称作“学法”。<br><br>
学法时需要注意的两点是：1、《转法轮》这本书需要通读，而不能只挑局部内容读，或者不按成书的顺序读；2、学法时不能抱着任何有求之心，只要静下心来反复通读，就会“无所求而自得”。<br><br>
很多学炼者都体会到，在通读中，读前面章节时自己心中产生的问题，往往在读后面的章节时就得到了解答；通读第一遍时产生的问题，往往在通读第二遍时得到了解答。再读还会有新的想问的问题，那么继续通读又会得到解答。有这样一个规律。<br><br>
2、炼功<br><br>
法轮大法是性命双修的功法，因此需要炼功。法轮大法有五套功法，李洪志老师所著的《法轮大法大圆满法》这本书里，有对法轮大法功法特点的讲解、五套功法的动作图解和动作机理；还包含了四个附录：1、对法轮大法辅导站的要求；2、法轮大法弟子传法传功规定；3、法轮大法辅导员标准；4、法轮大法修炼者须知。<br><br>
网络版《法轮大法大圆满法》请见：http://www.falundafa.org/book/chigb/dymf.htm（注：国内请翻墙访问）<br><br>
<b>5．那么如何开始修炼法轮功呢？</b><br><br>
答：尽快静下心来通读一遍《转法轮》，或者按顺序静心观看一遍李洪志老师的讲法录像（听一遍讲法录音也能收到同样的效果）。<br><br>
《转法轮》包含“论语”和九讲内容；讲法录像/录音也是九讲。<br><br>
世界各地（特别是大城市）通常都有法轮功学员义务服务的炼功点。你可以从法轮大法网站找到离自己最近的炼功点，询问是否有“九天录像班”可以参加。录像班通常每天放一讲李洪志老师的讲法录像，然后由学员教功。参加一个九天班，全套讲法都听过一遍，五套功法一步学到位，就可以开始修炼了，效果非常好。<br><br>
没有条件参加九天班的，可以自己通读《转法轮》，然后到炼功点学习功法动作。参加炼功点的集体炼功有许多好处，一是学炼动作快，二是有人帮助纠正动作；三是大家一起炼容易克服惰性、坚持下去，效果好。<br><br>
周围暂时没有炼功点的，可以通过观看李洪志老师亲自教功的教功录像带自学。五套功法按顺序学下来，每天炼功时就能跟着法轮大法的炼功音乐炼功了。<br><br>
请初学者注意：法轮大法的任何活动都是由法轮功学员义务提供的，都是免费的。包括录像班、教功、修炼心得交流会（通常称“法会”）等等，为了保持修炼的纯正，一律不允许收费。如果收费，就不是真的法轮功学员办的。请大家注意识别。<br><br>
<b>6．法轮功为什么传播的如此之快、之广，又为什么如此受人们的喜爱？</b><br><br>
答：原因很简单，就是因为法轮功是正法修炼，修炼者受益无穷。概括起来有以下几个方面的原因：<br><br>
(1) 简单易学，无需费用<br><br>
法轮功功法简单易学。五套功法动作简洁明了，适合现代人在繁忙的工作与生活之余修练。<br><br>
另外，法轮大法的所有活动都免费公开，包括教功，参加九天学习班，集体炼功学法等。世界各地的任何人都可以在互联网上找到自己家附近的炼功点(但是，由于众所周知的原因，在中国大陆人们已经被剥夺了这种基本权利)，参加集体炼功学法。在海外各地书店，您都可买到《转法轮》等大法书籍，也可以在图书馆借阅或在互联网上免费下载。<br><br>
(2) 道德升华，处处做好人<br><br>
法轮功修炼直指人心，要求学员首先从常人中的好人做起，成为一个善者，做到慈悲心常在，无怨无恨，以苦为乐，进而升华到做事先想到别人，修成无私无我、先他后我的境界。心性修炼是第一位的，心性多高功多高，这是绝对的真理。因此，法轮功学员都能自觉地按照功法的要求，同化宇宙最高特性“真、善、忍”，严于律己，宽以待人，对自己负责，对社会负责。在工作单位，他们敬业爱岗，服从领导，任劳任怨，无私奉献；在社会上，他们遵纪守法，道德高尚，诸恶不作，一心向善；在家庭，他们尊老爱幼，互敬互爱，和睦相处，邻里团结。他们对名利看得很淡，不争不斗；遇到矛盾向内找，先找自己的不足，即使受到委屈，也不计较，无怨无恨。他们在日常言行中，注意不断克服自己的妒嫉心、显示心、争斗心和欢喜心等各种不良心理，处处做好人。<br><br>
(3) 心性提高，祛病健身效果显著<br><br>
法轮功学员中，许多人原来是有病的，有的人甚至就是为了治病才来炼法轮功的。当他们明白了法轮功的法理，放下有求之心，注重心性修炼时，随着心性提高，功就在长，层次就在提高，身体就在净化，无意中就达到了无病的状态。法轮功是修炼，不治病，但只要真修，祛病健身的效果是非常明显的。<br><br>
(4) 对社会负责，做有益社会的人<br><br>
法轮功学员心怀真、善、忍，对人、对事都有自己的心性标准，有益社会的事他们抢着做，做了好事也不留姓名；无益社会和伤害他人的事绝对不做。这就是法轮功学员的思想境界。前些年，在国内赈灾捐款中，许多学员捐款上万元，而报纸、电视屏幕上留下的名字却只有“法轮功学员”。<br><br>
在大法中受益的人们口传口，心传心，使法轮大法会在这么短的时间内，在世界范围内广泛流传。<br><br>
<b>7．现在电台电视已经很少看到法轮功了，在中国迫害是否至今仍在持续？</b><br><br>
答：1999年6月10日，在江泽民的个人意志和淫威下，中国大陆成立了凌驾于国家宪法和法律之上的全国性恐怖组织“610办公室”，1999年7月20日之后，江泽民又命令610办公室系统性地对数以千万计坚持信仰的中国法轮功学员实行“名誉上搞臭、经济上截断、肉体上消灭”，“打死白打、打死算自杀”、“不查身源、直接火化”的灭绝政策。<br><br>
江泽民一方面向世界承诺在中国减少酷刑折磨，效仿希特勒提供假象让部分海外主流媒体记者参观劳教所的“文明环境”，一方面中国的酷刑个案却越来越多，尤其是在迫害法轮功群众上更是不择手段，使用酷刑至少达40种以上，使用对象中妇女和老人占相当比例，令人发指。如：<br><br>
连续多日剥夺睡眠；多根高压电棍同时长时间电击（其中包括放在大法弟子嘴里放电，电击胸部、腋下、乳房、阴部等等）；形形色色的手铐、脚镣、“烟杆铐”、“狼牙铐”、背铐；橡胶棍、狼牙棒、地牢、水牢、死人床、坐板；抽人的鞭子有皮的、铜丝拧成的、钢筋条、荆条、全竹竿（带刺）、上绳、铁钉钉指甲缝、铁钳子拧肉、用钳子拔指甲、蹲小号、坐铁椅子、惩罚性灌食、用普通塑料管灌辣椒水、灌浓盐水、灌大粪汤，冬天往头上浇凉水、脱衣服在外面冻，数伏炎夏在太阳下暴晒；不让大小便；连续半月不让睡觉。注射和强迫大剂量服用破坏中枢神经药物；超极限强度的电针摧残，等等等等。<br><br>
据不完全统计，1999年7.20以来的十年中，通过民间途径能够传出消息的已有3296名法轮功学员被迫害致死，迫害致死案例分布在全中国30多个省、自治区、直辖市。据明慧网2009年8月19日为止的消息，黑龙江省(424) 河北省(414) 辽宁省(403) 吉林省(383) 山东省(329) 四川省(207) 湖北省(164) 湖南省(113) 河南省(111) 北京市(96) 重庆市(80) 广东省(71) 内蒙古自治区(58) 甘肃省(56) 天津市(45) 江西省(45) 安徽省(44) 山西省(43) 贵州省(40) 陕西省(30) 江苏省(26) 新疆维吾尔自治区(23) 广西壮族自治区(16) 云南省(15) 福建省(15) 上海市(14) 浙江省(11) 青海省(5) 海南省(4) 宁夏回族自治区(3) 西藏自治区(1) 不明(19) 。<br><br>
死亡案例高发地区依次为黑龙江、河北、辽宁、吉林、山东、四川、湖北。在被迫害致死者中，妇女1772人，约占53.76%，女性平均年龄55岁；男1426人，占43.26%，男性平均年龄52岁；未知：98人，占2.97%。每月被迫害致死的平均人数为27人。<br><br>
早在2001年10月底，据中共官方内部统计，拘捕中的法轮功学员死亡人数已经高达1600人，几年过去了，随着迫害的继续，从民间渠道证实的被迫害致死的人数在逐日增加，而全国被非法判刑的法轮功学员至少有6000人，被非法劳教的人数超过10万人，数千人被强迫送入精神病院受到破坏中枢神经药物的摧残，大批法轮功学员被绑架到各地“洗脑班”遭受精神折磨，更多人受到所谓“执法人员”的毒打、体罚和经济敲诈。<br><br>
在江泽民在中国制造并推行国家恐怖主义的过程中，众多法轮功学员被打死打伤、妻离子散、居无定所、流离失所，亿万法轮功学员的家属、亲朋好友和同事受到不同程度的株连与洗脑。<br><br>
另据“追查迫害法轮功国际组织”2003年3月20日发布的资料：“目前在中国，中国经济资源的四分之一被用于迫害法轮功。这些资金来源于中国人民的血汗钱，纳税生产、海外投资、连同强加于法轮功学员的非法罚金。这些巨额资金被用于抓捕迫害中国法轮功学员，组建全国范围的610组织和关押洗脑基地，动用全国媒体进行大量的诋毁宣传和造假，以及在海外对法轮功学员进行干扰等活动。这样做的结果直接给中国人民生活和国家经济运作带来了沉重的压力和严重后果。”<br><br>
时至今日，人们或以为对法轮功的迫害已停止了，其实是由于中共所有的谎言都被戳穿以及迫于国内外的强烈谴责，因此不敢再公开迫害，而暗地里进行的越来越隐蔽持续和灭绝人性：每年有数千名坚持信仰、讲真话的法轮功学员遭到非法判刑、劳教、抓捕和各种迫害，酷刑致死时有发生；现仅知的中共就有三十六个秘密集中营自二零零一年至今，一直持续活摘法轮功学员器官出售并焚尸灭迹，数万法轮功学员死难，其中仅辽宁省沈阳市苏家屯集中营一地就有四千人遇害，震惊世界！<br><br>
<b>8．“四&#8226;二五”是怎么回事？</b><br><br>
答：有人说，因“四&#8226;二五”法轮功“围攻”了中南海，中共才镇压法轮功的。这些人是因不了解真实情况，才被谎言欺骗。实际中共与江泽民明明知道什么是法轮功、更知道修炼法轮功的都是好人。就因为法轮功太正了，而中共的本质是“假、恶、斗”，与“真、善、忍”不共戴天，中共才一定要灭之。所以它们对法轮功的镇压是精心构陷、预谋已久的。早在“四&#8226;二五”前三、四年，江氏集团就要取缔法轮功并进行了多次大围剿，阴谋不断，越演越烈；预谋了天津事件，又秘密导演了中南海事件。虽然当时的总理朱镕基合理的处理了这万名法轮功学员和平上访的事件，但江氏集团并不甘休，继续耍尽阴谋，终于“七二零”撕掉遮羞布公开疯狂镇压。所以“四&#8226;二五”绝不是中共灭绝法轮功的原因，也不是镇压法轮功的开始，只是它们蓄谋已久系列阴谋构陷的重要一环而已。<br><br>
一九九九年四月二十五日，逾万法轮功学员自愿到北京和平上访。这个出现在中共统治下的民众大规模和平上访，震动了世界，被视为中国历史上的奇迹，也就是“四&#8226;二五”事件。法轮功“四&#8226;二五”事件并非突发事件，也非江泽民渲染的那种包围政府要地的政治性示威举动。下面对此事件前后的史实按时间顺序作一简述。<br><br>
一九九九年四月十一日，何祚庥在天津教育学院《青少年科技博览》杂志发表了题为“我不赞成青少年练气功”的文章。该文章以捏造事实、诬蔑、诽谤、陷害的卑劣伎俩，指名攻击法轮功，丑化法轮功修炼者的形象，诬蔑法轮功创始人。该文章在天津发表后，天津的一些法轮功学员认为有必要向有关方面澄清事实真相，并期望通过与杂志编辑部的交涉来消除该文章的恶劣影响。因此，四月十八日至二十四日，部份法轮功学员前往天津教育学院及其它相关机构反映实情。<br><br>
九九年四月二十三、二十四两日，天津市公安局动用防暴警察殴打反映情况的法轮功学员，导致有的法轮功学员流血受伤，四十五人被抓捕。当法轮功学员请求放人时，在天津市政府被告知，公安部介入了这个事件，如果没有北京的授权，被逮捕的法轮功学员不会得到释放。天津公安向法轮功学员建议：“你们去北京吧，去北京才能解决问题。”迫害的严重升级引发了法轮功学员的关注，各地法轮功学员怀着对中央政府的信任和期待纷纷自发通过上访国务院信访办的途径来寻求“天津事件”的公正解决。<br><br>
迫害法轮功并不是起源于一九九九年，早在一九九六年六月中宣部即指示各级批判法轮功，光明日报攻击法轮功，之后新闻出版署禁止出版、发行、销售法轮功书籍。公安部连续两年，以封建迷信、“伪科学”的帽子，调查法轮功，并派人监视和“打入内部”。何祚庥在北京电视台攻击法轮功。法轮功学员不断向中央和地方的各级领导写信，反映法轮功利国利民，有利于人民身心健康的真实情况。一九九九年四月十一日，何祚庥在天津教育学院《青少年科技博览》发表文章诬蔑法轮功，天津的一些法轮功学员向有关方面澄清事实真相，天津警方抓人是迫害的进一步升级。<br><br>
上访的法轮功学员要反应什么意见呢？<br><br>
法轮功学员要向中央领导反应炼功后身体变好和修真善忍使人心变好的事实。让领导了解法轮大法好，法轮大法使人道德回升的情况。说明法轮大法利国利民的事实。<br><br>
一九九九年四月二十五日，上万法轮功群众陆续汇集在北京“府右街”附近。尽管人数众多，人群却出奇的安静，并且秩序井然，维持治安的警察这时候也觉得没什么事可做而开始闲聊。<br><br>
与中南海相邻的“西安门大街”，是当时国务院信访局的所在地。中国设立信访制度的本意，是为了使群众疾苦有一个下情上达的渠道。上万名群众直接来到国家最高的信访部门，这在中国历史上还是第一次。<br><br>
这次大规模的群众和平上访，事后被海外媒体简称为“四&#8226;二五事件”。随后，法轮功，这一根植于中国传统文化的气功修炼方法，通过海内外媒体的传播，迅速成为世界新闻的焦点。尽管在以后几年里，中国的官方媒体对于此事件和海外媒体有截然不同的态度，我们从当时的中央电视台新闻画面和现场照片都可以看到，上访群众的身后，并不是中南海特有的紫禁城红色围墙（见图）；而和上访群众隔街相望的才是紫禁城的红色围墙，以及中南海西门。众所周知，中南海的正门是面向长安街上的新华门。事实上，四月二十五日在长安街上并没有上访群众聚集。人群主要分布于府右街和西安门大街，并且无人聚集在中南海红色围墙的一侧。<br><br>
四月二十五日中午时分，法轮大法研究会的李昌、王治文和其他三位北京学员作为法轮功代表进入国务院同政府官员会谈，申诉了法轮功学员的三点要求：<br><br>
一）释放天津被抓的法轮功学员；<br>
二）给法轮功修炼群众一个宽松的修炼环境；<br>
三）允许出版法轮功书籍。<br><br>
政府官员轮流参加会谈的有国务院信访办的负责人，北京市的负责人，还有天津市的负责人。傍晚时分，天津按照中央指示释放了所有被关押的法轮功学员。随即，学员们静静离去，整个过程平静祥和，秩序井然。<br><br>
需要说明的是：因为国务院信访办的位置就在中南海的西门，否则法轮功学员根本就不会去中南海附近。可是一九九九年七月迫害开始后，中共媒体却造谣说是“冲击中南海”，这明显是嫁祸法轮功。<br><br>
以伪造出身、镇压六四学生起家的中共头子江泽民出于恐惧，加之嫉妒朱镕基因圆满处理此事得到的巨大赞誉，不顾其他六个政治局常委的反对，执意要镇压法轮功，在中央会议上公然声称：“中央鉴于苏联社会主义制度消亡的历史教训，一直决心在意识形态领域进行一次消毒，法轮功鼓吹‘真善忍’，给了我们动手‘消毒’的机会，我们的打击工作可放手进行，以后利用其经验可有效运用于其它气功组织”。从中可看出，中共镇压的根本原因只是因为法轮功讲“真、善、忍”！<br><br>
一九九九年七月二十日，中共开始全面迫害法轮功，实施“名誉上搞臭、经济上截断、肉体上消灭”“打死算自杀”等灭绝政策；全国媒体铺天盖地的编造和散布各种谎言，如同文革再现；一时间，神州大地血雨腥风。<br><br>
<b>9．“4.25”事件，去天安门广场炼功，打横幅，你们是不是没做到“忍”？</b><br><br>
答：“真、善、忍”是生命的本性，放弃本性不是忍而是蜕变。就像一潭清水，一旦放弃了“清”的本性就意味着同流合污，也就不再成其为清水了。<br><br>
忍不是逆来顺受，不是对杀人放火的无视，更不是对邪恶势力的纵容，而是修炼人为维护宇宙真理所体现出的坚韧的意志和祥和的心态。坚持和平抗争是法轮功修炼者善与忍的又一体现，不论情况多么错综复杂他们始终以祥和平静的心态对待所发生的一切，挫败了一个又一个企图激化矛盾和制造冲突的阴谋。和平抗争保证了抗争的持久性同时也擦亮了世人的眼睛。<br><br>
<b>10．天安门「自焚」到底是怎么回事？</b><br><br>
答：2001年1月23日下午，天安门广场发生了「自焚」事件。新华社在事发两小时后，一反层层请示、迟迟不报的常态，在有关公安部门值班人员尚不知晓的情况下，以惊人速度报导了自焚事件，一口咬定他们是法轮功学员。一周之后，中央电视台抛出12岁的小学生刘思影被焚烧后的悲惨画面，公开煽动公众对法轮功的仇恨，开展强征签名。<br><br>
因央视自焚录像经慢镜头分析被指出多处疑点自曝了内情，在2001年八月中旬举行的“自焚案”审判实况转播中，插播的“自焚”现场录像被发现所有被外电和分析家们指出的可疑之处已全部被剪切掉。刘春玲被重物击中头部倒地的镜头片段，已不见踪影。<br><br>
继2001年8月3日发言谴责中共当局对法轮功的迫害及人权侵犯之后，国际教育发展组织(IED)八月十四日在联合国倡导和保护人权附属委员会第53届会议第六项议程中再次发言，强烈谴责中共当局的「国家恐怖主义行为」。<br><br>
IED的声明说：『中国政府企图以诬陷法轮功残害生命破坏家庭来为其国家恐怖行为辩护。我们的调查表明，真正残害生命的恰恰是中共当局。是中共当局对法轮功修炼者的虐杀而导致家庭破裂。伤害生命的不是法轮功，而是极端残暴的酷刑、精神病院里的摧残、劳改营的奴役、以及其他类似的迫害。』<br><br>
声明中说，『根据《国际先驱论坛报》2001年8月6日的报导，(中国)政府承认已经正式批准动用暴力以消灭法轮功。该政权拿出2001年1月23日发生在天安门广场的所谓自焚事件作为指控法轮功是「XX」的证据。但是，我们得到了一份该事件的录像片，并从中得出结论，该事件是由这个政府一手导演的。我们备有这个录像片的拷贝，以供派发。』<br><br>
华盛顿邮报2月4日发表署名文章，题为「自焚的火焰照亮了中国的黑幕──当众自焚的动机乃为进一步镇压法轮功」。该记者亲自到刘春玲（刘思影之母）的家乡开封实地调查。这篇文章向世界提供了包括以下几点在内的事实：<br><br>
刘春玲不是开封本地人，生前在夜总会靠陪吃陪舞谋生；<br><br>
刘春玲曾不时殴打老母和幼女；<br><br>
邻居们说从来没有人看见过刘春玲练法轮功。<br><br>
在此，我想着重指出两点。首先，法轮功教导人们禁止任何形式的杀生包括自杀。法轮功创始人在《转法轮》第七讲（杀生问题）中对此均有详细论述。根据真善忍的修炼原则，杀生是有罪的。关于自杀，李老师在《法轮佛法：在悉尼讲法》中明确指出“自杀是有罪的”。法轮功也从未有“通过自杀可以达到升天圆满”之说。<br><br>
其次，法轮功自92年传出，弘扬世界几十个国家，上亿人修炼。为什么在镇压以前的七年中从没有法轮功学员自杀，而在镇压一年半后突然出现？为什么在大陆之外全世界任何一个地区也从来没有法轮功学员自杀，而只有在中国才出现？<br><br>
对法轮功的迫害还在继续，各种阴谋陷害还可能发生，希望您能冷静的看过对自焚事件的分析后，能认清江泽民犯罪集团邪恶的真实面目，并对过去，现在及将来发生的事情有更客观的认识。<br><br>
<b>11．法轮功弟子上访、发传单是参与政治？</b><br><br>
答：只是为了澄清真相，争取合法的修炼环境。如果你的家人被国家机关工作人员侵犯，打官司就是参与政治吗？<br><br>
<b>12．哪里来的钱做传单、光碟，是否高层有人支持？</b><br><br>
答：很多法轮功学员炼功后一身病都好了，身心受益后把省下的买药钱拿出来做材料，让老百姓了解真相。<br><br>
<b>13．在家悄悄炼不行吗？为什么要出来讲真相？</b><br><br>
答：（1）受人滴水之恩，当涌泉相报。法轮功蒙受千古奇冤，身心受益的法轮功学员怎能不说一句良心话呢？如果你的父母遭受不白之冤，你能因畏惧强权保持沉默吗？<br><br>
（2）法轮功教导人与人为善、无私无我。自己受益也应该想到让别人也受益，因此不论在何种环境下真修法轮功者一定会告诉人们真相。<br><br>
（3）善恶有报是天理，多行不义必自毙！自古以来迫害良善者没有好下场。希特勒的党卫军，斯大林的克格勃，文革时的革命闯将，哪一个有好下场？法轮功弟子讲真相是为了让善良的人们不要在被蒙蔽欺骗中做出令自己终生追悔莫及的事。<br><br>
（4）让更多的人了解法轮功被迫害的真相，这种对善良者的迫害会越来越没有市场。有利于尽快结束这种祸国殃民的民族浩劫，文革中如果有更多的敢于讲真话的张志新站出来，文革也许就不会持续那么长时间了？<br><br>
<b>14．政府不让炼，为什么还要炼？</b><br><br>
答：如果你一身重病炼法轮功就好，不炼就恢复原状，政府不让你炼，你炼还是不炼？<br><br>
<b>15．与我无关，我过我的太平日子，两边都不参与？</b><br><br>
答：在善恶是非面前不存在中立，无视邪恶迫害善良就是对邪恶的纵容。当邪恶猖獗时，天下还有太平之日吗？<br><br>
<b>16．我能为法轮功做什么？</b><br><br>
答：把法轮功真相告诉更多的人。<br><br>
<b>17．为什么会有很多的科学工作者炼法轮功？</b><br><br>
答：有的朋友可能会觉得奇怪，搞科学的人为什么也相信神、佛呢？这不是相互矛盾的吗？<br><br>
事实并非如此。科学是人类对客观世界的探索活动，科学理论的建立源于人对客观现象的解释，也就是说，客观现象是科学解释世界的基础。与客观现象相冲突的理论被科学视为谬误；能解释现有现象的理论被科学视为暂时的真理，并将在今后的观察中不断接受检验。而目前无法解释以及尚未被揭示出来的现象被科学视为未知世界。<br><br>
迄今为止，在有神还是无神这个问题上科学界并没有得出结论，因为没有任何一个科学观测和实验可以否定神的存在，而对于目前人类已经有所了解的一些神奇现象，科学界的观点是证据还不够充分，有待进一步证实。所以目前科学既不支持有神论也不支持无神论，科学工作者相信神佛也就不足为奇了。<br><br>
从近代到现代有很多科学家是有宗教信仰的，其中包括伽利略、牛顿等一大批著名科学家。今天在西方信仰天主教和基督教的人占人口的比例相当大，信教的科学工作者不计其数，有的科学工作者还用现代科学的手段来证明《圣经》中的一些神迹的真实性，他们并不认为科学与宗教是根本对立的。<br><br>
中国大陆由于受文革、“破四旧”的影响，不少人对科学与有神论之间的关系有一种误解，其实这两者并不是对立的关系。把神佛冠之以“迷信”的帽子，再假借科学的名义予以封杀，这是文革中一些政客的惯用的手段。对于这个问题，科学工作者心里应该是清楚的。今天何祚庥等人为了制造轰动效应，谋取个人名利，丧失了科学工作者应有的良心，重演文革故伎。他们利用人们对上述问题的误解，打着科学的幌子，一而再、再而三地挑起事端，以便个人出名。这样的科学败类，至今仍在招摇过市，这才真正是科学界的耻辱。<br><br>
<b>18．法轮功是否在参与政治？是否会被人利用？</b><br><br>
答：关于什么是政治和参与政治，不同的人心中可能有不同的定义。但无论大家对“参与政治”这个概念是如何界定的，法轮功的修炼原则金刚不动：任何用法轮功的名义追求“改朝换代”，或者在政治斗争中谋求个人权力和名利等行为，都是与法轮功的修炼原则和修炼目的背道而驰的。因此真正的大法弟子都会自持自重，按照真善忍的标准约束自己的心性和言行，同时对众生平等对待，劝善不分政治背景、种族、性别年龄、文化层次与社会阶层。<br><br>
有的朋友问，即便是修炼团体，人一多也会什么样的人都有；另外你自己可以在个人层面上恪守原则，但如何保证不被别人和别的政治团体利用？<br><br>
其实修炼群体和世间任何常人团体都有一个本质的不同，就是某个个人是否属于这个修炼群体，不看此人外形上是否与修炼人来往、使用类似的名词、甚至同行同住，而在于其人内心是否真诚地主动用修炼的标准要求自己的思想言行，而且其人炼功、学法的目的是否符合修炼的要求也决定着一个人是否能够成为真正的修炼人。用个简单的例子比喻：一个运动场上很多人在参与体育锻炼，但并不等于所有的人都是竞技运动员，更不意味着大家都可以入选奥林匹克，因为大家锻炼的目的、水平都不相同，而成为奥林匹克参赛运动员是有一定标准的。<br><br>
任何想利用法轮功和法轮功学员的人，都会受到后者的自觉抵制，因为每个真修者都受着更高道德标准的约束，泾渭分明。法轮功没有会员制、也不允许常人企事业单位的行政管理体系，因此对于打着法轮功或者法轮功学员的名义干坏事的人，法轮功虽然不象佛家的庙、道家的观一样可以将异类逐出山门，但天法不可欺，任何败坏法轮功声誉、起到干扰、毁坏法轮功学员作用的生命，都必将自己承担后果，受到天理的惩罚。这些个别人的不良行为不是法轮功让他们那样做的，应该由他们自己负责，更不能代表法轮功和广大法轮功学员。<br><br>
<b>19．法轮功不参与政治，为什么也谈“人权”？</b><br><br>
答：法轮功要求修炼者以“真、善、忍”为行为准则，寻求道德的全面升华，这就要求修炼者处处本着善念，不能参与对权力、名利的争夺，而政治活动的宗旨是谋求政治权力，这与法轮功的准则是背道而驰的，所以法轮功不参与政治是由其功法本身的特点所决定的。<br><br>
但是作为一个修炼的人也需要有最基本的生存与修炼条件，法轮功修炼者所要求的条件就是有一个堂堂正正的读书和炼功环境。但是在中国大陆，即使是当局打压法轮功之前，这样的条件也是不能满足的：《转法轮》这本书出版不久就被迫停印；法轮功炼功点时常受到警方的监视、干扰。一九九九年七月以后情况更是急转直下，法轮功的书籍遭毁禁，很多修炼者被非法拘禁失去人身自由，有的甚至被刑讯致死。在此情况下，法轮功修炼者当然要走出来为争取生存与修炼的权利而奔走呼喊。一个人信仰什么完全是自己的事，不管人与人之间的信仰如何不同，人人都有保持自己信仰的权利，信仰自由是人的生存条件之一，这已是在世界范围内达成共识的，也是《宪法》规定中国公民所应享有的基本权利，法轮功修炼者要求归还的就是这样一个天赋人权。<br><br>
<b>20．法轮功的治疗效果是从心理暗示而来的吗？</b><br><br>
答：三年前，据北京几大区的辅导站对12731名学员健身功效状况调查分析，在12731名学员中，炼功后祛病健身效果的总有效率达到99.1%，其中58.5%的人完全康复。另据北京某辅导站对584名学员调查，结果表明：96.5%的人原有症状消失或明显好转。以上两份调查报告，都说明了法轮功修炼不仅使学员普遍得到祛病健身的益处，而且为国家、个人节省了大量医疗费用开支。试问，对上万的人，简单的心理暗示能够起到如此神奇的效果吗？<br><br>
<b>21．是“病”还是“业力”？</b><br><br>
答：中国官方批驳法轮功重要的一点是“生病从业力而来”，认为是迷信。<br><br>
美国康乃狄克州注册内科医师朱彤认为：“过去有人说病是由微观物质传染的。那时人们看不见，认为这种观点是不科学的，现在大家都知道疾病是由细菌和病毒引起的。我觉得法轮功是在阐述这个道理：疾病是一种微观物质引起的，这种微观物质比病毒和细菌所在的空间更微观，我们现在还探测不到感觉不到。但实际上，法轮功的修炼者通过修炼法轮功用亲身经历证明了这种物质的存在，并通过修炼直接把这种物质去掉，所以能真正达到祛病健身的目的。”<br><br>
中医讲：心存浩然正气，则邪气不能侵害。心中恬静而无贪欲，疾病又如何产生？现代医学研究发现，人在想或做坏事时，体内就会产生一种不好的因素，久之就会影响身体健康。<br><br>
法轮大法揭示了导致人一切不幸之根源就是业力。“因为人在以前做过坏事而产生的业力才造成有病或者磨难。”（《转法轮》）修炼法轮大法，要求炼功人要重德，提高自己的心性，真正消去业力，才能真正去掉病根，永远健康。国外越来越多的学者在研究这方面的事情，证实这是更高的科学。<br><br>
<b>22．中央电视台录像带上有“法轮功学员不准看病”？</b><br><br>
答：录像带是断章取义的剪辑。原来的演讲之意是：法轮功学员不可以以气功给别人治病、看病。请参见《转法轮》(中国广播电视出版社1994年12月出版发行)第249页“法轮大法的真修弟子谁也不能给人治病”一段。<br><br>
然而，经过中央台的移花接木，“法轮功学员不准看病”的意思竟变成了说法轮功学员自己有病了不准去看。<br><br>
<b>23．法轮功究竟有无不准学员吃药？法轮功对吃药的看法？</b><br><br>
答：看遍全部李洪志先生的《转法轮》及有关书籍，绝对没有一句“不准学员吃药”的话。李洪志先生只是讲了吃不吃药与修炼的关系。<br><br>
许多学员炼功以后，身体变好了，自然就不吃药了。即便是良药还苦口呢，谁没病找苦吃啊？！<br><br>
<b>24．炼法轮功是否会走火入魔？</b><br><br>
答：《转法轮》中明确指出，炼功是不会走火入魔的。“一般人认为的走火入魔有几种形式，由于自己心不正，招来附体了，追求什么气功态显示自己等各种心态。”(《转法轮》中国广播电视出版社1994年12月出版发行第184页)法轮功不讲发功、收功、接功，炼功时也没有意念，只讲堂堂正正、明明白白地提高心性、不断做一个真正的好人。明明白白地做好人是不会走火入魔，或成为精神病的。<br><br>
<b>25．在迫害之初，中央电视台抛出了一千四百死亡或精神病例，这些人与法轮功有关系吗？</b><br><br>
答：对于法轮功残害人命的认定，中国政府既是原告，又是法官，还兼任了侦破和检察工作，必要时还可以自导自演、移花接木，就如同天安门自焚，与4.25，这只不过是中共全民洗脑的手段而已。<br><br>
炼法轮功可以达到祛病健身，但不是为祛病用的。不修炼心性，光炼动作不算法轮功学员，也不能祛病。有些重病人，虽然修炼，但没有按照炼功人的标准做，病发而死，或到了天年而寿终，硬要说是炼功致死合理吗？<br><br>
法轮功明确规定危重病人和精神病患者不宜炼功.法轮功创始人在面授班期间更是多次规劝危重病患者和精神病患者离场，并晓之以理。<br><br>
成都一老人得了病，住在四川某医院，一记者模样的人对老人讲：“你就说你是练法轮功练出来的病，医院就不停你的药，你的医疗费也有地方报销了。”老人断然拒绝了。当晚，他竟能独自下床行走。他又惊又喜，对亲友及病房的人讲：是不是法轮功的师父管我了？！大家都觉得不可思议。几天过去了，老人的病真的好起来了，医生也无法解释，只好让他出院了。据悉，医院中有其他个别病人也遇到类似情况，但他们同意记者以自己为例做报导或作出统计数据上报，说自己是练法轮功得的病，交换条件就是报销医药费，可是出院后，当他们再找有关的派出所，竟无人承认有报销一事。<br><br>
为了搞出那所谓的“1400例”，多少人下了多少功夫、做了多少手脚，现在对大众来说还是未知数。<br><br>
<b>26．法轮大法是不是宗教？</b><br><br>
答：法轮大法是佛家修炼大法，不是宗教，更不是佛教或道教。其实，在人类的历史中，流传着许许多多的修炼方法。其中走入宗教形式的仅仅是一小部份，许许多多修炼法门也在世代流传着，有的是历代单传，不被世人所知。释迦牟尼也说，佛法修炼有八万四千法门。而走入宗教的只有十几个法门。法轮大法不讲任何形式上的东西，所以不是宗教。<br><br>
法轮功所有的活动都是公开和自由的，欢迎任何人加入修炼行列。<br><br>
<b>27．为什么他们迫害法轮功，而不迫害其他信仰？</b><br><br>
答：据我们所知，江集团不但迫害法轮功，而且也迫害其他宗教信仰。但是迫害法轮功最残酷，涉及的面最广。<br><br>
人世间有这样一个理叫“相生相克”，它表现在有好就有坏，有善就有恶，有正就有邪，所以想成就任何一件好事，都要遇到相应的阻力和魔难，而通过不断的努力破除这些阻力和魔难后建立起来的美好境界才伟大，才长久。因为在短短几年的传播中，法轮大法让人修“真、善、忍”，所走的路太正了，真正的起到了正人心的作用。所以一切不正的，或不够正的就会起来反对，甚至采取最邪恶的手段。因为“真、善、忍”直接触动了当权者的本质。<br><br>
法轮功从不参与政治，不寻求世俗的权力，但一个好人群体的扩大本身就是对邪恶的威胁。也只有修炼真善忍的人才能不被邪恶压垮，而越压不垮邪恶也就越害怕从而也就越疯狂。但是历史已经，并将再次告诉人们：一切迫害正信的从来都不会成功！<br><br>
<b>28．什么是“610办公室”？</b><br><br>
答：中共[江泽民]政府对法轮功修炼者进行有计划的迫害，主要是通过所谓的“610办公室”。<br><br>
“610办公室”是在中国开始迫害法轮功前一个月由中国国家主席江泽民直接授命建立的。这个办公室在各级政府都有它的下属办公室，它是一个类似于德国纳粹盖世太保的完全独立的系统，不受任何法定部门管理，并享有一切权力。江泽民要求各级政府机关“要配合610办公室行事”。<br><br>
这个办公室的唯一任务是“解决中国的法轮功问题”。至于采取什么手段，对中国国家主席来讲都无所谓。在这十年的残酷迫害中，已造成近四千余位法轮功成员被迫害致死，数十万人以上被抓，都与610办公室有直接的关系。酷刑，性虐待和精神折磨是经常发生的事情。<br><br>
<b>29．法轮功的人出去讲真相，他们的亲人担惊受怕甚至遭到株连，这算不算法轮功的人不顾亲情，给别人带来了麻烦？这是不是自私？</b><br><br>
答：法轮大法要求每个学员看淡“名、利、情”，并不是要我们脱离亲人，不顾别人。恰恰相反，法轮大法要求每个学员都善待他人，处处为别人着想，何况我们的亲人呢？我们要看淡情，是因为过于执著于情，会使人变得不理智，自私，狭隘，甚至纵欲。修炼人有更高的标准要求，在不断修去情的同时会代之以慈悲，慈悲是善的表现，是更高尚的，无私的境界。是对所有生命的珍惜和善待。<br><br>
另一方面，请您想一想，是谁造成的法轮功学员有家难回，流离失所的呢？如果没有这场邪恶的迫害，大法弟子安居乐业，在各自的工作岗位上贡献聪明才智，善待家人和社会，怎么会平白无故的跑到天安门去呢？勇敢走出来的大法弟子自始至终只做了一件事情：大声说出真话、说出真实情况，用自己所拥有的一切去维护真理、维护给自己身心健康带来巨大升华的法轮大法。<br><br>
所有的麻烦，不是法轮功带来的，而是肆意挑起这场镇压的首恶之徒带来的。<br><br>
<b>30．为什么法轮功一再强调“善恶有报”呢？</b><br><br>
答：善恶有报，是一个永远永远不变的天理。<br><br>
有人不相信善恶有报，是因为他只看到今天短暂时期的事。若跳出来长远地看看身边的人，历史上的人，如果我们能看到一个家庭的上下三四代，看到一个人的整个一生，往往不难看出其中的善恶有报。<br><br>
比如抗日时期当汉奸，帮着侵略军杀害同胞的人，他要么不得好死，要么他的后代很倒霉，土改时文革时害死过人的“革命者”，您看他的下半生或他的儿女怎样了？再说眼前那些春风得意之人，他的祖辈大多善良老实，他自己小时侯也历经苦难。<br><br>
俗话说：穷不过三代，富不过三代。穷时吃苦积德，有了德就可以拿德来换取世间的一切，所以他后来就富了，但富人往往重利忘义，无知中造了业损了德，后代就只有又受穷了。<br><br>
善恶有报是天理，只是人间太复杂，决定一个人命运的因素太多，不是我们肉眼凡胎能看清的，特别是我们身在其中时。<br><br>
然而，“物质不灭”，“善恶有报”是宇宙的法理制约一切的表现。任何一个生命，无论在历史上做过了什么事，都要自己承担。那么，做好事，善待佛法真理，就会给人带来无限的福报，甚至可以促成修炼的机缘。相反，对佛法的蔑视，仇视甚至诽谤和破坏，就会种下最恶的因，得最恶的果，欠下的业永远都还不完，永远都得还，这对一个生命来讲不可怕吗？<br><br>
<b>31．法轮功有没有接受美国资助？</b><br><br>
答：事实上，法轮大法没有收到美国政府的资助，每一名美国国会议员和新闻记者都知道并可以独立证实此事。<br><br>
中国江政府对“法轮功接受美国政府资助”的捏造，没有提供任何证据，因为根本就没有证据。同时，驻北京的美国官员说，他们从未听说任何关于美国资助法轮功的宣称。这样的指责实际上是不惜牺牲外交关系，有预谋地在中国国内煽动民族主义情绪，为使用更加残酷的手段镇压中国的法轮功修炼者而鸣锣开道。<br><br>
这里有两个明显的漏洞。其一，既然有这么大一个“反华势力组织”，那么他们的总部在哪里？其二，美国政府资助美金是要得到国会批准的，何况几千万美元不是个小数，现在连最初提供此消息的人都推说没有证据表明此事，只是听说而已。<br><br>
<b>32．政府说不好，你干嘛还要炼呢？</b><br><br>
答：首先，一个事物是好还是不好，并不由某个政府说了算，得由事实来说话。<br><br>
第二，法轮功自1992年传出，短短九年时间，传遍50多个国家和地区，修者上亿，为什么只有中国一个政府说他不好，而其他国家政府都是给予褒奖？难道世界上所有国家的政府和人民都是傻子，正邪不分？！<br><br>
最后，也是最重要的一点，法轮功教人向善，修者身心健康，道德回升，有何不好呢？<br><br>
也许您会问，那为什么有那么多“练疯”、“练傻”、“自焚”、“杀人”的事呢？请想一想，世界上其它国家有那么多的法轮功修炼者，怎么就没发生过一例这样的事？迫害法轮功之前，法轮功已在中国传播七年，怎么也没发生过一例这样的事？为什么一开始迫害，就一下子冒出来这么多骇人听闻的“惨案”？回想当年“文革”，国家主席刘少奇不是也在一夜之间被打成“叛徒”、“特务”、“内奸”、“工贼”，而且还“铁证如山”？难道这不值得您深思吗？<br><br>
<b>33．你练别的功不行吗？干嘛非要炼法轮功？</b><br><br>
答：既然法轮功好，我为什么就不能炼？再说，练什么功是每个公民的自由，哪个功好是客观存在，为什么一定要看谁的脸色违心行事呢？！<br><br>
其实，很多学员在修炼法轮功之前，确实也练过、接触过许多别的功法。他们是经过认真的思考、实践、比较之后，认为法轮功是万古难遇的正法修炼，他们无不被法轮大法那博大精深的法理所折服，最终走到法轮大法修炼者的行列中来。<br><br>
<b>34．法轮功好你就在家偷着炼呗，干嘛非要出去呢？这不是自讨苦吃吗？</b><br><br>
答：既然法轮功好为什么就不能光明正大出来炼，而要躲在家里偷着炼呢？一个心底无私的人为什么不能向自己的同胞、政府堂堂正正地讲真话？试问当我们的父母遭受不白之冤、饱受造谣诽谤的时候，我们是站出来护卫自己清白的双亲，还是躲藏起来明哲保身，或者是站到强权一边参与做恶？<br><br>
“慈父遭谤子不在，世人都会骂不仁。”作为深深受益于法轮大法的真修弟子，在我们慈悲伟大的师父遭受谣言恶毒攻击，福益身心的宇宙大法蒙难人间的时候，我们站出来，用最和平的方式，用宪法赋予公民的基本权利，依法和平上访，向中央政府坦陈利害，澄清事实。善良的同胞，我们何罪之有？<br><br>
在所有的宣传舆论都一边倒，而我们却被剥夺了依法上访的权利、一切言路受阻的情况下，我们没有采取任何暴力行为，只是寻找能说话的地方讲清真相，这能叫“闹事”吗？面对开除公职、党籍，面对残酷的拷打、非法判刑，我们仍然保持着和平理性，您见过这样“闹事”的人群吗？<br><br>
这不是“自讨苦吃”，因为我们这样做并不是为自己，而是为还大法清白、还师父清白，也是为了您──我的同胞，能够明白真相，从而使您的生命有个美好的未来啊！<br><br>
<b>35．你们海外的学员一直坚持在中国使领馆前的静坐，绝食请愿，有意义吗？能解决问题吗？</b><br><br>
答：其实，往往衡量一件事是否有意义，并不体现在它的结果上，而是体现在它的过程中。<br><br>
善的力量是无穷的，这也正是邪恶惧怕的。为什么那个当权者一听到“法轮功”三个字，就吓得浑身发抖呢？善的力量，也正在改变着环境和人心。记得一位从使馆前经过的行人对我们说，“坚持下去，时间越久，效果越好。你们所作的一切，不是为了自己，也不是为了中国，而是为了世人。别看眼前的汽车匆匆而过，他们全看到了。我们都支持法轮功！”<br><br>
在中国，大法修炼者的一言一行，甚至感动了许多监狱的犯人和警察，他们对学员的大善大忍由衷的敬佩，许多人还因此走上了修炼之路。请您想一想，如果所有的世人都能够看到“真，善，忍”在人间的巨大威力，重拾人类的美好道德。邪恶的一切，不就自灭了吗？<br><br>
<b>36．法轮功在中国是否“影响了稳定”？</b><br><br>
答：自从1992年传出以来，几年内法轮大法使上亿人身心净化，道德回升。就像一股强劲的清流冲散污泥浊水，不但使数以千万计的中国百姓获得了健康的身体，消除了疾病，为国家节省了大量医药费。更重要的是，法轮大法修炼者以“真、善、忍”的宇宙法理，指导修炼，处处为他人着想。几年来，无数神奇，美好的故事在修炼者中发生。多少人道德回升；多少家庭变得和睦温馨；吸毒犯罪的放弃了恶习，重新做人；利用职务之便，以权谋私的变得奉公守法，尽职尽责……<br><br>
大法修炼者真正地为社会带来了安定与祥和，极大的稳定了社会。早在1996年，一些别有用心的人就曾试图利用手中的权利打击法轮功，但是，他们处心积虑地利用各种手段，也没有发现法轮功学员有任何违法犯罪行为，一些参与调查的人甚至被”真、善、忍”法理震撼，走上了修炼的道路。<br><br>
然而，当权者无视法轮大法令无数中国百姓身心受益的事实，于99年7月悍然下令镇压。在人类的历史上写下了最耻辱与血腥的一页。这场迫害，造成了千百万坚持真理，真修向善的人，被抓、被打、被劳教、被判刑，被酷刑折磨、被迫流离失所，有家难回……<br><br>
更有甚者，编造谎言（如所谓的“1400例”）、制造骗局（如天安门广场自焚事件），欺骗不明真相的民众，挑起人们对宇宙真理的仇恨，在无知中参与了对修炼者的迫害，将无辜的群众推向深渊。不仅如此，这场邪恶的镇压已经引起天怒人怨，最近两年多时间，全国范围内不断发生的几十年，甚至上百年未见的自然灾害就是上天对作恶者的警告。请问，是谁在破坏人类赖以生存的美好和谐的生存环境和维系人类社会的最基本的道德呢？<br><br>
面对强权与暴力，法轮大法修炼者并没有动摇对真理坚如磐石的信心和正念；以前所未有的大善大忍面对一切压力与魔难。在无数次上访与请愿中，学员们始终如一的本着纯善之心，向政府以及被舆论宣传深深蒙蔽的世人讲述着自己在大法中受益的事实，并揭露了当权者为维护其独裁统治扼杀正义与良知的邪恶本质。面对来自各方面的精神压力与肉体上的折磨，他们无怨无恨，真正做到了骂不还口，打不还手。他们的言行甚至感动了监狱中的犯人和警察，许多犯人都说“如果我早炼法轮功，就不会干违法犯罪的事了。”<br><br>
作为中国人，我们非常希望自己的国家兴旺发达。但是，我们深知稳定来自于民心，来自于社会中每个个体的人心向善与道德回升，决不是当权者凭一己私利，或暴力与强权得到的。<br><br>
不惜一切镇压法轮功的人，才是在从根本上破坏社会的长治久安。<br><br>
<b>37．江XX为什么要镇压法轮功？</b><br><br>
答：镇压法轮功是江XX的天性！！<br><br>
听过这么一个故事。一只蝎子要过河。可它不会游泳，于是请求乌龟背它过河。乌龟不肯，说：“你会螫我的。”蝎子说：“我不会的，因为那样我自己会淹死的。”乌龟觉得有道理，就同意了。当它们快到对岸时，蝎子螫了乌龟一下。乌龟问蝎子：“你为什么要这么做？”蝎子说：“我也没办法，这是我的天性。”<br><br>
我们提这样几个问题：这场镇压是误会吗？这场镇压能避免吗？法轮功危及中国政府的统治了吗？我的回答是：这场镇压不是误会。法轮功提倡的“真”“善”“忍”对国家，对民族，对社会有极大的好处，但却毫无疑问地直接威胁到了江XX一伙的统治基础，因而这场镇压是不可避免的。<br><br>
“真”是对江XX中共集团的直接威胁。众所周知，从反对资产阶级自由化到“六四”天安门没杀一个人，从中国政府从未禁止法轮功，让大家不要信谣言到江XX发狠“我就不信治不了法轮功”，有谁听到这个政府在重大事件上说过一句真话的？借镇压八九年六四上台的违宪主席江XX曾专有指示，强调新闻的真实性和人民性是资产阶级的东西，中国的新闻应该是喉舌工具云云。<br><br>
看看那些被揭露出来的几千万几亿的高官巨贪们吧，哪一个不是昨天在台上慷慨激昂地“三讲反腐”，今天就手铐脚镣地送进监狱？而制造「三讲」的江XX及其犬子的贪占烂却依然如故。<br><br>
1992年，法轮功从中国传出。短短几年工夫，法轮功就迅速发展到了数千万人。江XX本能地感到了威胁。对他而言，可怕的不仅仅是炼功人数多，也不仅仅是有很多党员炼功，而且还因为经过这么多年的思想教育和讲政治(即说谎训练)，人民竟然还有这么多人愿意去讲真话、做好人，不要说贪污，就是街上看到钱都不捡，这就犯了江XX大贪大烂的大忌了。江XX之所以直接下令镇压，其根本原因就是因为法轮功的传播正在不知不觉地改变着中国人扭曲了的民族性，法轮功成了一面照妖镜，时时照着江XX，这让它寝食难安。<br><br>
不错，法轮功是不参与政治，是不寻求分享权力，可是一个真正的好人群体的扩大就是对依靠邪恶来统治的恶势力的威胁，因为好的、善的扩大就缩小了坏的、恶的生存空间。当邪恶的江XX看到如此普通的中国人仅仅为了说一句真话而坦然面对死亡时，它的恐惧是显而易见的。那么代表邪恶势力的江XX进行疯狂的垂死挣扎也就不奇怪了。在这场正邪的大较量中，邪恶的一方使用的除了谎言还是谎言。从一开始的“敛财”、“豪宅”、“催产素”，到后来的“香山集体自杀”、“天安门广场自焚”，到现在强迫大中小学生以及民众的“百万人签名”，真不知堂堂一国元首除了撒谎还能干什么？这个从不说真话的江氏政权要是不镇压法轮功那才叫奇怪呢！<br><br>
“善”会破坏江XX集团赖以统治的基础。<br><br>
窃取了最高权力的江XX是人间最残忍凶恶的总代表，其残忍和无人性已浸透了骨髓。它就是要有计划有步骤的消灭中国人心中的善念和美好的东西，而代之以丑陋和凶残。无论从感情上还是理智上，它无法忍受“善”，所以它利用人群中最恶的一部分在“肉体上消灭”法轮功，无怪乎这次镇压法轮功所采用的手段如此之恶，从使用中世纪的刑具到现代化的电棍，从政府官员亲自动手到逼迫犯人作恶，确为中国现代历史之最。<br><br>
“忍”将使中国政府的统治手段无存。<br><br>
照常理，任何一个统治者都会欢迎人民的“忍”，为什么江XX要例外呢？难道他真的蓄意自毁江山？现从另一角度探讨。中共是二十世纪的一大怪胎，建政五十多年还没有建立有效的独立的司法体系，给人的感觉是拒绝建立一个健康的社会。统治的基本手段之一是不停的挑动群众斗群众，以确保人民无暇顾及统治者的巧取豪夺横征暴敛。江XX所谓的“稳定”只不过是不让矛头指向他和他所代表的那个统治集团罢了。什么叫“内耗”？就是把能量在人民内部的争斗中耗尽。在镇压法轮功的所谓“法律”手段用尽以后，江XX所能想到的只有“挑动群众斗群众”这一招了。什么百万人签名啦，人人表态啦，义愤填膺啦，这种六、七十年前希特勒就玩过的把戏，老江就不用再东施效颦啦，当年“全国人民”对“叛徒、内奸、工贼刘少奇”的义愤不可谓不大，结果呢？<br><br>
“世界潮流浩浩荡荡，顺之者昌，逆之者亡”，江XX已是逆者，愿中共其他领导人顺天而行，为了中华民族的昌盛富强，真正的为人民发出正义的声音！<br><br>
<b>38．法轮功常提到江氏集团，这是不是反对政府？</b><br><br>
答：其实任何人也不能代表政府，更不能代表一个国家和民族，只能代表他自己。否则，如果一个国家的领导人道德败坏，无恶不作，是不是就可以说这个国家，这个民族道德败坏，无恶不作呢？当然不可以。<br><br>
自古就有明君和昏君。是昏君还是明君是自己做出来的，客观事实是客观存在的，不是谁说出来的。这就如同《皇帝的新装》，即使全国的人都不敢讲真话，皇帝没有穿衣服也是事实。而真正明智的、让人敬佩的倒是讲真话的小孩。<br><br>
作为一个明智的国家领导人，应当将本国百姓的利益放在第一位，真正为民族的兴旺发达着想。当群众中出现矛盾时，应当尽力化解矛盾，而不是根据自己的好恶，甚至出于自私阴暗心理激化矛盾，置亿万人生死于不顾，做出贻害国家民族，遗臭万年的邪恶之举。有良心的人看到这种严重错误，不应该向政府向人民讲清真相吗？这不是反对政府，恰恰是对国家民族负责。<br><br>
在法轮功冤情冲天、两年半无辜被整死400多人的情况下，那些责任者有没有一个出来承担责任的？有没有一个引咎辞职的？在这样的情况下，把问题明确提出来，不是对国家民族负责吗？<br><br>
古代明君尚知：“人要看到自己的形像得照镜子，皇帝要想知道自己的过失得靠忠臣。如果皇帝拒绝群臣进谏而且自以为是、群臣用阿谀奉承的办法顺着皇帝的心意，皇帝就会失去国家，群臣也不能自保！”然而，现今中国当权者为了满足个人私利，出于妒嫉和仇恨，强迫全国近亿善良百姓放弃让其受益无穷的法轮功修炼，否则就“精神上搞垮，经济上截断，肉体上消灭”，更有甚者，用谎言和构陷，挑起不明真相的无辜百姓对“真，善，忍”宇宙真理的仇恨，这样险恶的行为不是在把全中国的善良百姓推向深渊吗？不是在把中华民族千百年来形成的美好道德摧毁殆尽吗？我们不应该清醒吗？为了国家和民族的长治久安，为子孙万代的后世千秋，我们应当有勇气，站出来向邪恶说不！<br><br>
<b>39．为什么说法轮功不参与政治？</b><br><br>
答：如果认为法轮功学员是否参与政治，这点大可不必担心。因为学员之所以来学功是为了德行高尚、健康身体，一个人本着“真、善、忍”修炼，自然能达到心胸宽广，与世无争。然而，政治中却离不了尔虞我诈、追求名利、追求政治目标等等这些和法轮功学员完全背道而驰的内容。另外，法轮大法明确规定，所有学员不得参与政治。<br><br>
国内学员去北京上访，海外学员在使馆和平请愿以及去日内瓦参加人权会的目的不是为名、不是为利，只是为了让老百姓能炼炼功有个合法的炼功环境，并释放所有国内被非法关押的法轮功修炼者，为使更多的人了解法轮功真相，仅此而已，没有任何政治纲领、政治目的可言，相反，是为了不让人把我们硬拉入肮脏的政治斗争之中。<br><br>
<b>40．法轮功弟子为什么要去天安门？</b><br><br>
答：有些朋友对法轮功弟子坚持不懈的去天安门广场不太理解，要讲清楚这个问题必须首先分清事情的是非曲直。<br><br>
信仰自由是人权的基本内容之一，千千万万持各种信仰的人要想和平共处就必须相互尊重对方的信仰，这已经是在世界范围内达成共识的。不管人们怎样评价法轮功，法轮功是一种信仰，这是不争的事实。法轮功信仰的是“真、善、忍”，这种信仰对于社会是有益而无害的。很多人对江某操纵宣传机器制造的那些关于法轮功的假新闻根本不屑一顾，如今的国人对文革整人的那一套把戏已经是耳熟能详了。那些假新闻有的编得也太离谱，什么“切腹找法轮”等等，简直可以当笑话听，一看就是对法轮功缺乏起码的了解。一个开明的国度，人民应当有权根据自己的判断来决定对一件事物的态度。中共有两句话，一曰：群众的眼睛是雪亮的；一曰：人民当家作主。可是在法轮功问题上江XX好像是对人民群众的辨别能力很不放心：查抄法轮功出版物、破坏法轮功网站、干扰法轮功广播、对制作法轮功宣传材料的弟子课以重刑，说白了它是害怕人民了解真相。人民看什么听什么接受什么都要由它江某人来筛选，人民当家作主就是在人代会上对江某已经对外宣布的东西举手表示追认。对于那些坚持自己信仰的人民他们的迫害手段无所不用其极：非法拘禁、强行灌注精神药物、滥施酷刑甚至虐待致死。事实很清楚，江某及其爪牙捏造罪名陷害法轮功、侵犯信仰自由践踏人权，他们是一群彻头彻尾的邪恶之徒。<br><br>
法轮功弟子为什么要去天安门？从根本上说就是为了讲清真相，让人们不要受谎言蒙蔽，因为我们坚信，在善恶的大是大非问题上有正确态度者人生才能有美好未来。<br><br>
在假新闻铺天盖地诬陷法轮功而正义的声音又由于新闻封锁不能得以传播的时候，我们认为向世人讲清真相是自己义不容辞的责任；在信仰自由被非法剥夺的时候我们认为应当理直气壮的站出来主张自己的权利。宪法规定公民有申诉权，有关国家机关应当受理公民的申诉，可是目前国内的各级国家机关都拒绝受理法轮功弟子的申诉，更有甚者，去信访部门上访的弟子还遭到非法关押，在此情况下很多法轮功弟子义无反顾的走向天安门广场。我们不愿象做贼似的偷偷在家炼功，因为修炼是堂堂正正的事，信仰是每一个公民的权利；我们不能坐视邪恶诋毁我们的信仰，因为在我们看来容忍邪恶就如同助纣为虐。有人说：法轮功弟子去天安门没有做到忍。放纵邪恶不是法轮功所说的忍，法轮功修炼者可以放弃世间的种种名利欲望，唯独不能放弃自己的信仰。如果一个人躲在家里息事宁人听凭邪恶势力诋毁自己的信仰，那他能算是有信仰的人吗？那就等于放弃自己的信仰。法轮功相信“真、善、忍”是人的本性，本性决定了事物的一切，放弃本性不是忍而是蜕变。就像一潭清水，一旦放弃了“清”的本性就意味着同流合污，也就不再成其为清水了，就是这个道理。<br><br>
法轮功弟子的忍就是坚韧的意志和祥和的心态。江某恐怕想不到正是这两点注定了他的失败下场。法轮功一天不得以昭雪，法轮功弟子的抗争就一天不会停止，邪恶之徒只能拷打他们的肉体却奈何不了他们永恒的信仰。今天，恐怕没有人再怀疑法轮功弟子的坚强意志。江某表面上好像是只手遮天一呼百应，可是他既不可能江山永固也不可能永远健康，以短暂对抗永恒，这就是为什么江某注定要失败的原因。坚持和平抗争是法轮功修炼者善与忍的又一体现，不论情况多么错综复杂他们始终以祥和平静的心态对待所发生的一切挫败了一个又一个企图激化矛盾和制造冲突的阴谋。和平抗争保证了抗争的持久性同时也擦亮了世人的眼睛。江某的宣传机器指责法轮功是社会不安定因素，事实上急于把局面搅混的正是江某自己，因为要想在短时间内铲除法轮功他们就必须制造重大暴力冲突或者流血事件为大范围采用极端暴力手段创造借口。<br><br>
法轮功弟子坚持真理的决心和和平抗争的理念树立了人民对抗暴政的典范，这一切均源自于“真、善、忍”的教诲。目前国内有很多有识之士已经清醒的认识到江某迫害法轮功给国家和人民所带来的灾难―对内劳民伤财对外恶名昭彰，在这种的情况下相信没有人会愿意为江某的倒行逆施继续背黑锅、付代价，拨乱返正还法轮功以清白只是早晚的事情。<br><br>
<b>41．为什么“天要灭中共　退党保平安”？</b><br><br>
答：从天象看：二零零四年十一月十九日，大纪元发表《九评共产党》系列社论，从历史、政治、经济、文化、信仰等层面深刻揭示了中共的欺骗、暴力、邪教和流氓本性。二零零五年一月十二日大纪元发表郑重声明，由此引发退党潮，这其实就是“天灭中共”的天象。<br><br>
从天理看：善恶报应的天理决定了做恶多端的中共必遭天惩。中共窃国以来，破坏道德，打击善良，迫害正信，毒害人民。历次运动迫害了一半以上的中国人，八千万人非正常死亡。今天的中国自然环境被强力破坏，传统道德丧失殆尽，贪污腐败盛行、黑社会、吸毒、卖淫充斥中国大地，人民的言论自由被剥夺，这一切都是不信神佛、战天斗地的中共其邪恶统治带来的恶果。古人云：“善恶到头必有报”，“天灭中共”实乃天意之必然。<br><br>
古今中外有许多预言，如：中国的《推背图》、《烧饼歌》、《梅花诗》及《马前课》等；西方的《圣经启示录》等。都惊人一致地预言这几年中共要灭亡，还记载着天灭中共时其追随者被一同株灭的可怕惨景。<br><br>
二零零二年六月，在贵州平塘县发现的亿年“藏字石”，五百年前崩裂惊现“中国共产党亡”。这一切其实都是在告诉人们“天灭中共”的天象，希望人们能够“退党保平安”。<br><br>
<b>42．为什么说共产党是邪灵？什么是抹兽记？</b><br><br>
答：天地万物皆有灵，共产党也不例外，只不过它是一个邪灵。中共在人间表现是一个邪恶组织，在天上的表现是红色恶龙（赤龙），中共崇尚红色、嗜血好杀，正体现了其邪灵本性。中共的百年红朝就是邪灵祸乱人间，毁灭人类道德良知，欲将人带入万劫不复的地狱。<br><br>
加入“中共的党团队”组织时都要举起右手发毒誓，甘愿为中共而死。随着誓言的发出，在宣誓者的右手上或是额头就被红色恶龙印上了一个兽记（体现另外空间的身体上）。能否抹去兽印，将是人人都必须面临的生死选择，也是其还能否得到神的救度的见证。当你面对神佛声明退出“中共的党团队”时，也就是神佛抹去你的兽印之时，也是其生命的新生之时。<br><br>
《圣经启示录》预言“最后的审判”到来时，将淘汰所有印上兽记的人。那么曾经加入过党团队的人要避过这场灾难，唯一的办法就是退出中共的这些组织，抹去兽记！<br><br>
<b>43．为什么说退党是关系每个人的生死存亡的大事？</b><br><br>
答：中国大陆几乎人人都是党员、团员或少先队员。当“天要灭中共”时，这些人怎么办？那么神就要给人一个选择的机会。是抛弃邪恶、选择光明，还是做邪党的替罪羊、随着邪党下地狱，这难道不是关系每个人的生死存亡的大事吗？<br><br>
<b>44．为何说共产党是邪教？</b><br><br>
答：共产党实质上是打着科学的旗号反科学。科学要求实事求是，可中共的历史就是一部“假大空”和“假恶斗”的历史。<br><br>
共产党与正教有鲜明的区别。因为正统的宗教都是相信神的，相信善的，以道德育化人和拯救人的灵魂为目的，而共产党不相信天地神灵，相信“枪杆子里面出政权”的暴力，并且反对传统道德。<br><br>
以阶级斗争、暴力革命、和无产阶级专政为中心的共产党教义，导致了充满血腥暴力与屠杀的所谓共产革命。共产党政权的红色恐怖持续约一个世纪，祸及半个世界，导致数千万至上亿人丧生。这样一个创造人间地狱的共产党信仰，正是人世间的头号大邪教。<br><br>
十多年前，前苏联和东欧各国共产党政权纷纷解体，共产主义运动早已被全世界所唾弃，中国共产党走入坟墓也只是一个时间的问题。<br><br>
<b>45．退党？我们没有必要搞政治吧？</b><br><br>
答：政党是真正的政治，中共搞的又是政治中最肮脏的政治。入党就是在参与政治，不参与政治入党干什么？因为共产党就是搞政治的。所以退党不是搞政治，而是宣布退出、远离中共的肮脏政治。<br><br>
还有一点，在中国一说起退党的事，就会有人说这是在“搞政治”，不喜欢谈了。而这些不喜欢听的人很多都是党员。因此形成一个奇怪的逻辑，好象加入共产党成为党员不是“搞政治”，而退出共产党反倒成了“搞政治”！<br><br>
其实所有的政党都是为其政治目的而存在的，所有其党的成员也都是因为赞同其政治纲领而加入的。因此只要是某党的党员，就一定是在参与政治，也就是在“搞政治”。同样，一个人从加入共产党的那一天起，就开始了“搞政治”的生涯。如果真的不想搞政治、不想被政治利用的话，那就只有退党。<br><br>
而向神佛声明“三退”的目的是为了“抹兽记，保平安”，是自己为未来着想，与“搞政治”有着根本上的不同。<br><br>
<b>46．有人认为“心中退党（团、队）不必声明”，或多年没交党费，就算自动退出了，有必要走个形式吗？</b><br><br>
答：这两种情况都没有达到“抹去兽记”的效果。其实，声明“三退”不是走形式，也不是要向中共组织去声明“三退”，而是向神佛声明“三退”，求神佛抹去“邪灵兽记”。<br><br>
除共产党外，没有任何一个其它的人间的党派组织这么狠毒，说你加入我这个党，你得握着拳头发毒誓，要你交出一辈子，要你“为党的事业奋斗终生”，这种宣誓唯有共产党有。为什么要这样，实际上在发毒誓那一瞬间，就是被邪灵（共产党另外空间的体）打上了兽印。<br><br>
这个时候，你说你不交党费了，就算退党（团、队）了，那能是你说了算的吗？它通过那种形式已经把你控制住了，它不认可呀，这个邪灵不认可，到那个时候，你不还是它的一个成员，一粒子吗？你要脱离它，也得要有一定的反过来的形式，公开声明退党（团、队）。<br><br>
神佛看人心，所以用什么名字都可以，为了方便，也为了保护你，可以用化名、别名。你这个人做了，具体什么名字没关系，但是神知道是你做的，他就可以把你的印记抹掉，把你解脱出来。<br><br>
所以退党（团、队）看似是形式，实际上不是形式。是必须要走的得救的一步。<br><br>
<b>47．退党人数是真实的吗？</b><br><br>
答：不仅是真的，而且比这还要多，因为在中国大陆有许多民众无法上网，他们将自己的退党声明写在纸币上、公共布告栏、车站牌、电线杆、广告栏等处。退出二千二百万这个数字一点也不多，并没有超出我们可以理解的范围。<br><br>
<b>48．退党就不爱国吗？</b><br><br>
答：中国不等于中共，爱国不等于爱党。共产党为了维护它的独裁政权，长期大肆宣扬“爱党就是爱国”。当它感到危机时，就说什么“亡党亡国”，企图把共产党与中国绑在一起。这确实迷惑了一部份人，使他们对中国、中共两个概念混淆不清。<br><br>
中国有五千年文明历史，而中共才几十年，怎么能说它是中国呢？中国先后经历了二十多个朝代，从兴起到灭亡，中国也没有随着哪个朝代的灭亡而灭亡。哪一朝去了下一朝不来？共产党灭亡了，中国依然会屹立在世界的东方。没有了中国共产党，才能有新中国。没有了中国共产党，中国才会有希望。没有了中国共产党，智慧的中国人民一定会复兴中华文明历史的灿烂辉煌，那是全世界人民都羡慕和仰慕的灿烂文明。<br><br>
<b>49．目前中国政府都是党员所组合而成，号召退党将造成国家不稳定。</b><br><br>
答：中共是中国历史上最不稳定的因素。中国近代史的几乎所有运动、动乱都是中共造成的。没有中共，中国一定会更加安定。<br><br>
退党是人们认清共产党邪恶本质后的正义之举。人们退了党，可他们还会做他们的社会本职工作，各个职能部门不会发生任何混乱，只是人们都从心理和形式上摆脱了共产邪灵。一切只会更好。党员退党会造成共产党的全面瓦解，但不会造成动乱。<br><br>
前苏联和东欧各国，由于摒弃了共产党，现在那里的人民活的更好。<br><br>
<b>50．近日每天数万人在大纪元退党网站上宣布退出中共组织。怎么看这种退党洪流呢？</b><br><br>
答：《九评》带来人们对共产党邪灵根本上的认识，人们自然会有一种自发的自救行为，这是顺理成章的。就象一个人突然认清搂着他的是一个恶魔的时候，那当然要跳开，这是人求生的本能。这也是为什么现在明白的人都在退党保平安。<br><br>
共产党也知道人最珍惜的是生命，人都爱惜自己的生命。而为什么共产党统治的时候要杀那么多人？很多人不理解，一直杀，杀了八千万人，把各个“阶级”杀了一遍，为什么要杀人如麻？它就是看到了人怕死，它抓住人的这种心理，就把人杀得不寒而栗，最后完全屈服、方方面面都屈从于它的控制。<br><br>
现在天要灭共产邪灵，每个人是跟它一起下地狱、作为它的陪葬呢，还是退党自救保平安？关键时候能看出一个人是智慧，还是为蝇头小利的丧命。<br><br>
大家看到现在每天有数以万计的人在退党退团退队，等到有数以百万计、数以千万计的人声明三退的时候，自己还想冒险等下去吗？想想如果天灭中共的时刻比你想象中的来得早，你会是什么结局呢？<br><br>
<b>51．我内心早已不真正信仰共产党，入党也只是应付，为的是能有一个好的生活，实际上跟共产党扯不上关系，为何还需要发表声明退出共产党或是退团？</b><br><br>
答：共产党是无神论者，为什么入党时却要宣誓？对谁赌咒发誓？现在中共保先做什么？重新宣誓！请问有没有共产党员记得他的入党宣誓内容？有没有共产党员包括中共政治局常委认真照着入党宣誓在做？既然没有打算遵守誓约，为什么那么看重宣誓这个形式？其实神看的很清楚，就是邪灵要你和它签约，给你打上“它的兽记”。只有发表声明，神佛才能为你“抹去兽记”，使你摆脱邪灵控制，获得新生。<br><br>
<b>52．只不过是发表声明退党，对共产体制会有冲击吗？</b><br><br>
答：退党是每个人自己的选择，是对自己的良心、未来和生命负责。不是为了冲击共产体制。当大家都认清的中共的本质，而抛弃了它，这个恶党自然也就不存在了。<br><br>
<b>53．我在政府单位工作，看到九评后很想退党，但是要真的退出党，那我就没法活了，而且单位要求要缴党费的。我咋办？</b><br><br>
答：所以大纪元上提出中国大陆的可以用笔名、别名、化名、小名退党，效果是一样的。声明退党退团后，在实际的生活中还像以前一样为社会做贡献，并不会造成您任何困扰，只是您内心明白，这个党是邪恶的，在心理上要与它一刀两断，不要再全面配合它干坏事，硬要交党费，那就全当是被它骗走、抢走了。<br><br>
<b>54．退党潮对中华民族的前景会有何影响？</b><br><br>
答：退党是退党籍，不是退国籍，对中华民族不会有任何不好的影响。今天邪灵垮了，只是主张“假恶斗”的共产党垮了，国家还是国家。一个没人纵容、推行“假恶斗”的政党，老百姓日子只能过的更好。<br><br>
中华古国五千载，哪朝去了下朝不来？共产恶党去了，人民真的就获新生了，中华民族真的就迎来大的转机。其实就是佛道神给人的这个机会。最坏的、最恶的垮了，留下来的只能会更好的。<br><br>
<b>55．如何看待大纪元郑重声明？</b><br><br>
答：这是一个超越时空的道理，是神佛慈悲给人的机会，绝不是人间的政治。搞政治也不是这么搞法的，开玩笑也不是这么开法的。大纪元能登这个声明，他就一定能对这个声明负责任的。<br><br>
我们不能一看是自己暂时不理解的或者和自己的思维不太相符的事情，就盲目地予以抵制。<br><br>
古代没有计算机，没有媒体，要发大洪水了，上帝就告诉一些先知，那些先知就到处说，用嘴一边讲一边告诉。这就是他的一个形式。现在社会不一样了，有媒体啊，上天要是有大的事情发生，借助于这些纯正的媒体让人知晓，也就很顺理成章了。<br><br>
举个例子，大海啸要来时，泰国的气象局也知道，他不能估计这个海啸会带来多大的灾难，他一直在犹豫是不是要拉警报，他就害怕拉错了，结果大海啸过来，把人都给淹了。<br><br>
现在这个事，就是看到人类要遭难的时候，上天坚决地拉了这个警报，给人紧急地拉警报。这个时候，你听不听？<br><br>
现在是大范围的大规模的向大众公布，让所有人都要有机会，有很多的例子都能够证明这个事情不能等闲视之，最起码你得睁大眼睛，随时赶紧退党自救。<br><br>
<b>56．目前，有大量的法轮功学员退党，他们还劝说周围的同事和亲朋好友“三退”，有人认为法轮功在搞政治。你咋认为的？</b><br><br>
答：在西方发达社会中，搞政治是个正当的社会行业，而且还是社会地位比较高的。搞政治的基本要点是，必须有政治主张，如想要什么样的社会制度、政治体系，想要自己当政，或者想要谁当政；还要有行动纲领以实现相应的政治目的。“搞政治”一词并不含贬义，也不令人生畏。<br><br>
相反，中国大陆五十多年来的政治运动中，太多的人和事都被冠以“搞政治”加以钳制乃至镇压，人们已经对“搞政治”形成了负面的看法，谈虎色变，也往往“本能的”害怕这项指控落到自己头上。<br><br>
其实中国宪法规定，中华人民共和国公民是享有政治权利的。但因为五十多年来“搞政治”成了整人用的一顶吓人的帽子，很多人渐渐淡忘了，直到看到有人被判刑或枪毙时政府宣布该人被“剥夺政治权利终身”，才想到原来中国人没犯罪之前是享有政治权利的。<br><br>
法轮功是佛家修炼大法，修炼人没有任何对社会制度、权力的诉求，只是讲人心向善、远离邪恶的真相和道理，每个人选择什么是每个人自己的个人决定。这些根本不是共产党所言的“搞政治”所能涵盖的。<br><br>
有位法轮功学员在“退党声明”中说：我退出共产党，就是为了不搞政治。他认为共产党和共产党的政治都是肮脏的，他退党就是为了不和共产党沾边。这就是很简单明了而切中要害的把这个关系说明了。<br><br>
那法轮功学员还劝周围的亲朋好友退党。为什么这样呢？其实法轮功是修炼，可惜现代中国人对修炼已经很陌生了。《西游记》实际上就是一个修炼的故事，讲了一个人通过取真经的过程，从中修成圆满的故事。在《西游记》中，孙悟空一路斩妖除魔，来到乌鸡国。乌鸡国的国王被妖怪害死了，妖怪装成国王坐在王位上欺压百姓，无恶不做。孙悟空到那儿之后，识破妖怪。起初连太子都不相信孙悟空的话，后来孙悟空把妖怪除灭了，并使国王起死回生的时候，整个国家的百姓都很高兴、感恩，都开始知道孙悟空做了一件大好事。<br><br>
不管谁去读这个故事，有谁会说孙悟空是在搞政治、在夺权呢？修炼人为什么这样做呢？因为修炼人看这个世界跟一般世人不一样，修炼人用慈悲看世界，看善和恶，看到灾难来临时，邪恶的东西在控制人、欺压人，甚至把人带向地狱的时候，他是不忍心的，是要帮人解难的。真相讲出来，劝其“三退”，都是慈悲于人的表现。与邪党说的“搞政治”大相径庭。<br><br>
等共产邪教灭亡之后，人类必然会迎接美好。大家由于听信了神的警告和修者善劝而得到了福份，但那是属于所有悟性好的世人的。<br><br>
</pre>

<pre id=article title="听听中共活摘法轮功学员器官圈内人的真心话">
二零零六年三月，我在国内网站看到中共一条消息，污蔑法轮功对中共在苏家屯设有秘密集中营，活摘法轮功学员器官并焚尸灭迹的指控。还让当地百姓作证，苏家屯很正常，没有见到集中营和焚尸的迹象，说法轮功在造谣。<br><br>
活摘法轮功学员器官这一惊天的罪行在国际社会曝光后，引起了强烈的反响，开始很多人都不敢确定这是真的，所以国际社会要求中共发言人做出解释，但是中共官员并没有很快做出反应，很多天之后才就此事开了记者会，就像网络上那条消息一样彻底否认了活摘事实。<br><br>
中共早在二十世纪六十年代就建立起摘取重刑犯器官的机构，而当国际社会质疑中共摘取死囚器官时，中共卫生部原副部长黄洁夫予以否认。但在二零一二年中共“两会”上，黄洁夫在圈内人面前就摘去了伪装，不再说器官移植来源完全合法，改称由于缺乏公民自愿捐献，死囚器官成了器官移植的主要来源。<br><br>
在国际社会曝光的大量器官移植数字对比面前，黄洁夫也被迫改口器官供体来源于死刑犯。但是对国际上强烈谴责的活摘法轮功学员器官问题，仍像此前否认摘取死刑犯器官一样，持坚决否认的态度。<br><br>
生活在中共控制下的中国，人们都知道中共有两套话语系统，一套是针对中共圈内人的真话，一套是针对圈外人铁嘴钢牙的欺骗。我们来听听中共活摘圈内人面对追查国际调查员的询问，是怎样回答活摘法轮功学员器官问题的，以录音为证。<br><br>
<b>参与器官移植的军队医院官员和医生</b><br><br>
<b>陈强</b>：驻北京丰台的解放军307医院移植科肾源联系人。<br><br>
问：哎，你好，上次跟你说的那个联系那个肾源的事情，现在怎么样？<br><br>
答：啊，你不是说那个联系那个监狱的，或者是那个什么的吗？ 问：对，或者是法轮功学员的嘛，对。<br><br>
答：搞得，听说现在搞得特严，知道吗？<br><br>
问：----你怎么确定他是法轮功学员？这一点你了解过吗？<br><br>
答：怎么确定法轮功学员，到时候---到时候我们这边头儿上边有人给你会给你出现资料，知道嘛，他会出资料给你。这您放心，我们这边也是通着官，上边有上边的人，知道嘛，像这些资料都不用你说我都拿给你，知道嘛。<br><br>
<b>陈荣山</b>：解放军205医院泌尿外科主任。<br><br>
问：那就说，这些个在押的法轮功人员供体都是监狱、劳教系统提供的？……<br><br>
答：我说啊，我说，我说呀，这事你先别跟我说了啊，好吧？<br><br>
问：因为我们现在是。<br><br>
答：你要跟我说，通过我们医院政治处，好吧？<br><br>
<b>上海复旦大学中山医院医生</b>：中山医院肝脏移植中心。<br><br>
问：有没有这种炼法轮功的这种提供的，这种提供的说是很好……<br><br>
医生：我们这儿的都是这种。<br><br>
<b>戴医生</b>：上海交大附属第一人民医院肝脏移植中心。<br><br>
问：我就问啊等要等多久？<br><br>
大夫：供体有啊，天天有哎。我们今天就在做。<br><br>
问：不是，你现在不是说要新鲜的，要活的人的……<br><br>
大夫：都是活的，都是活的。<br><br>
<b>卢国平</b>：广西民族医院肾移植科。<br><br>
问：那是不是用的也是那种法轮功的供体吧？<br><br>
答：对，对，对。<br><br>
<b>朱云松</b>：广东军区总医院<br><br>
问：如果你这个期间的话，如果能得到法轮功这样的肾源，你还是跟我再打声招呼，好吧<br><br>
答：哦，可以，那你过来---<br><br>
<b>湖北省医科大学第二附属医院医生</b>：<br><br>
问：请问是湖北省医科大学第二附属医院吧？<br><br>
答：是。<br><br>
问：你们这边法轮功犯人的肾源怎么样？<br><br>
答：应该说应该还可以，要不您问一下陆总吧……，广州军区总医院。<br><br>
<b>武汉同济医院医生</b>：<br><br>
问：从患者来讲，希望肾源活体，找犯人的活体移植，比如用炼法轮功犯人的活体，这个行不行？<br><br>
答：可以呀。<br><br>
问：你们这边比如说监狱犯人，那个炼法轮功的这样的犯人活体能够有保证足够吗？<br><br>
答：对呀，可以呀，你到时候可以直接过来具体谈。<br><br>
<b>山东千佛山肝脏移植中心</b>：<br><br>
问：提供这个肝的那个有一种说那种炼法轮功的那种，我就问一问有没有那种？<br><br>
医生：唉，你过来就行。<br><br>
问：就是说有啊！<br><br>
医生：您这样吧，您过来那个---嗯---反正四月份肯定会比较多的这样的供体，现在这供体逐渐多起来了。<br><br>
问：怎么四月份为什么会多起来？<br><br>
医生：这个我没法跟你说，因为这牵扯到---不是说----这些就是没必要跟您解释这个问题，这个问题没法解释。<br><br>
<b>政法委系统</b><br><br>
<b>锦州中级法院刑一庭警察</b>：<br><br>
问：-----现在我们不知道你们这个法院还能不能提供就是这样的供体？<br><br>
答：那得看你们那儿条件，得跟领导商量，你那儿条件好了，我们估摸还能提供。<br><br>
问：是吧<br>
答：对，看你那啥情况----<br><br>
<b>唐俊杰</b>：辽宁省委政法委副书记。追查国际的调查员以“中纪委薄熙来专案组成员”的身份与唐俊杰（自2000至2011先后担任辽宁省政法委秘书长、省政法委副书记、综治办主任）的对话。<br><br>
问：头一个问题就是在摘取法轮功练习者的器官做移植手术这件事情上薄熙来做过什么相关指示吗？<br><br>
答：那个我分管这个工作。那个中央实际抓这个事，影响很大。嘛。<br><br>
问：我是在北京，我是他们这个专案组。<br><br>
答：那好，那我不回答你的问题了，得到你准确消息再回答你好吧？我见到你公函我再答复你。我不好回答，尤其涉及到这方面问题，我不好再回答你，好吧！需不需要我过去，你正式打一个文字的东西吧，你电话里谈这些事情我觉得很突然，我不太好答复。<br><br>
<b>中共各级官员</b><br><br>
<b>罗干秘书</b>：原中共中央政法委书记罗干的于秘书。<br><br>
问：噢，我是国家安全部第七局啊，我们有一个紧急的情况需要你们配合一下，我们调查一件泄密事件，我们得到确切的情报，就是中央政法委的工作人员里有人要跟这个境外的情报部门联系出卖有关国家机密情报。在政法委机构里头都有谁接触过就是对在押的法轮功人员活体摘取器官的国家机密啊？有哪些部门，哪些人员接触过这个？<br><br>
答：这个，你是，你用的是普通电话，你这个。<br><br>
问：我知道，因为我们现在是在办案的现场，所以我们得缩小这个范围。我们必须得知道有谁接触过这个机密，啊？<br><br>
答：你打电话，打到我这个地方啊……我这有红机（内部专用），啊，你可以通过部里面给我打红机，啊。<br><br>
<b>北京政法委李姓官员</b>：<br><br>
2008年9月16日—26日，在江苏省常州市江南春宾馆召开的中共全国政法会议期间，追查国际调查员以“国家安全部官员”的身份与一位来自北京政法系统姓李的参加会议者的对话。<br><br>
调查员：说的这是，活体摘取在押的法轮功学员器官做器官移植手术的这一国家机密，中央政法委有哪一级工作人员知道这个机密呢？<br><br>
李：应该是处级以上吧。<br><br>
<b>天津蓟县610办公室主任</b>：<br><br>
问：这场迫害一旦结束的话，你们怎么办，想过吗？看没看到谷开来今天的下场啊，她表面上……<br><br>
答：谷开来卖那个法轮功的人体器官的。<br><br>
问：你说什么？<br><br>
答：我说，你说谷开来呀，卖法轮功人体器官的。<br><br>
问：对呀，她在大连搞了两个尸体加工厂，她一具完整的尸体在国际上卖一百万美金，一个脏器被摘除的尸体她卖八十万美金。<br><br>
答：噢。<br><br>
问：她是魔鬼。<br><br>
答：她卖的也不都是法轮功。<br><br>
问：这个你知道不都是法轮功，是吗？<br><br>
答：啊，啊。<br><br>
问：里面有一些是这个上访的那些藏族人和蒙古族人。<br><br>
答：算啦（挂断）<br><br>
<b>李长春</b>：<br><br>
追查国际调查员以“原中共中央政治局常委、中央政法委书记罗干办公室张主任”的身份与李长春（中共中央政治局常委）的对话。<br><br>
调查员：他们好像是说，我们得到消息说，想在您这个离开期间还有咱们贾庆林离开期间，用这个摘取在押法轮功练习者的器官做器官移植手术这件事给薄熙来他们定罪，这当时。<br><br>
李长春：你问周永康。<br><br>
调查员：嗯，当时。<br><br>
李长春：周永康具体管这个事，他知道。好了，让我的秘书接着跟你说。<br><br>
<b>白书忠</b>：<br><br>
调查员：是这样，在您担任总后卫生部长的时候啊，摘取在押法轮功人员器官做器官移植手术这件事情，是当时的总后部长王克布置的任务？还是军委直接下达的命令哪？<br><br>
白书忠：当时是江主席啊，<br><br>
调查员：嗯，<br><br>
白书忠：有一个批示，就是说，<br><br>
调查员：嗯，<br><br>
白书忠：说开展这些事情，就是器官移植，<br><br>
调查员：嗯，<br><br>
白书忠：就是人员卖肾，做手术，这个……应该说，就是开展肾移植的不单是军队一方。<br><br>
调查员：我们也得到了一些情报，就是说当时，联勤部还负责关押了一批法轮功在押人员的器官供体，是不是？<br><br>
白书忠：这个，这个当时的话，我觉得，起码在我印象中，当时，是吧，因为当时江主席批示以后，反法轮功大家都做了很多工作……<br><br>
<b>薄熙来</b>：<br><br>
二零零六年九月十三日，时任商务部长的薄熙来访问德国汉堡时，被一个自称是中国驻德国使馆一秘的人向薄熙来询问的录音。确实是薄熙来的声音，经得起权威部门鉴定。<br><br>
一秘：我是使馆，我是使馆一秘呀。<br><br>
薄熙来：嗯。<br><br>
一秘：有点紧急事呀，今天德国外交部下午跟我们说了一下，有一个事情得澄清一下。<br><br>
薄熙来：嗯。<br><br>
一秘：就是，就是说呀，当初您在辽宁这个当省长时，因为这涉及到明天的会见嘛，他们想澄清一下。就是说，当初您在辽宁当省长时候，就是，是江泽民、江主席下的命令，还是您参与的，就是说这个，关于把这个法轮功这个活体摘取器官这个事情，是您的命令还是江泽民的命令？<br><br>
薄熙来：江主席！<br><br>
一秘：他们德国外交部要核对。就是说，如果要是，您要是参与了这个事情，他们有一些会见，他们出席的规格可能就有所变动。就说，因为是他们法轮功递交了一份……（被薄熙来打断）<br><br>
薄熙来：你不要再说了，你找你们马大使（时任中国驻德国大使马灿荣）说。<br><br>
一秘：不是，马上这个事情，他们今天下午刚递交了，给我们了一个照会，就说……（又被薄熙来打断）<br><br>
薄熙来：你就找马大使，你不要找我。这事你们的马大使处理不了吗？<br><br>
<b>辽宁省马三家劳教所警察</b>：<br><br>
十多年前在马三家劳教遭受迫害的法轮功学员回忆，劳教所一些恶警，包括一些大队长甚至所长，在威胁法轮功学员放弃信仰时，不止一次地说过类似的话：“把你送到苏家屯，看你还脦瑟！”“把你送到苏家屯，想转化也晚了。”“到了苏家屯，你就出不来了。”<br><br>
<b>被摘除器官的法轮功学员</b><br><br>
<b>郝润娟</b>，女，河北张家口人氏，家住广东省广州白云区。因为坚持修炼法轮功，于二零零零年在广州白云看守所关押，二十二天后家属被通知去认尸。当家人来到遗体前时，看到的遗体已面目皆非，内脏全掏空，皮肤被剥光，眼睛被挖掉，只剩下一堆尸骨、肉，还带有鲜红的血迹。看着这惨不忍睹的遗体，郝润娟家属看过遗体两次都无法确定那就是郝润娟，最后家属只好把郝润娟两岁的儿子带来验血，才最后证实那面目皆非的遗体确实是郝润娟。<br><br>
<b>贺秀玲</b>（女，二零零四年被迫害致死时52岁），山东省烟台市芝罘区幸福十村法轮功学员，因拒绝“转化”被烟台市南郊看守所迫害得奄奄一息，于二零零四年三月八日送到烟台市毓璜顶医院（又叫专区医院）。三月十一日早晨七点多钟，烟台市芝罘区610办公室主任李某电话通知贺秀玲丈夫徐承本赶紧去医院，说人已死了。徐承本通知了附近几个家属，一起来到医院太平间时，大家看到贺秀玲的腰间有绷带缠绕包着，她的双眼还在流眼泪！家属们一看她还活着，急忙找医生，可医生置之不理。最后亲戚都去找，医生才带着心电图在十一时三十分左右来到太平间。经测试，贺秀玲的心脏还在跳动，当心电图测试纸跑出十几公分长后，医生急忙撕碎心电图纸逃走了。由于没有任何抢救，贺秀玲不久真的去世了。徐承本后来知道贺秀玲在尚有呼吸的情况下被活摘了肾脏，送入停尸房，于是将妻子贺秀玲尸体保存起来持续上告。警方起价十万元欲买徐承本不再上诉，遭徐拒绝。多方投诉无门情况下，两年后徐承本网上发文质疑妻子被活摘器官，第二天即被抓捕，后被毒杀，贺秀玲的遗体也旋即被强行火化。<br><br>
仅举几例我们能看到的残暴事实，那上百万我们看不到的被摘除器官后焚尸灭迹的法轮功弟子才是被虐杀的主体。通过中共参与活摘法轮功学员器官、移植等的人的对话，就因该清楚中共是个什么东西了吧。<br><br>
中共魔鬼般的疯狂，使越来越多的百姓看清了它的邪恶本质，随着一亿八千万人的退党大潮席卷全国，又有越来越多的民众敢于站出来用签名按手印的方式谴责中共的暴行。二零一四年二月以来，河北省衡水地区、天津部分地区、张家口市郊及周边县就有8394人之多，为制止这场邪恶的迫害郑重的按上了自己的手印。做出了他们今生最重要的选择。<br><br>
中共在地下建起的这个邪恶杀人牟取暴利的庞大产业链条，正在威胁着每一个中国人，这是最后一个警醒世人的魔牌，如果这张魔牌还不能使你清醒的话，你就只有随它去了。如果你能正视邪恶，回归本性，不再与恶魔为伍，回到真、善、忍中来，上天就会赐予你平安和幸福。<br><br>
</pre>

<pre id=article title="兼听则明－请了解真相">
朋友，再忙也请看完。不花您一分钱，只是二三分钟的时间，咱们明白真相，好平安度过劫难。
二零零一年所谓的法轮功“天安门自焚”是假的。 那个“自焚的人” 王进东的脸和衣服看着都被 “烧” 坏了，可是两腿之间装汽油的塑料雪碧瓶子却完好无损，汽油瓶子为什么没烧起来呢？人最容易燃烧的就是头发，王进东的头发也是完完整整的。从中央电视台自己的视频还看到谎称自焚而死的刘春玲是被身后穿军大衣的人打死的。所谓 “自焚” 只有短短几分钟，警察却能立刻就近拿出二十多个灭火器和灭火毯。这场中共自导自演的戏，目的就是要挑起老百姓对法轮功的仇恨。
所谓的“围攻中南海”的罪名又是怎么扣上的呢？一九九九年四月，天津公安局无理抓捕了十多位法轮功学员，于是各地学员到北京中南海附近的国家信访办和平上访，要求放人。学员们安静平和，没有标语口号，对行人和交通也没造成影响。当时的总理朱镕基接见了法轮功学员代表，并放了天津学员。后来被硬扣上了“围攻中南海”的罪名，是江泽民集团为迫害法轮功而制造的借口。
法轮功学员一直是和平理性的，只是为了讲真相，呼吁中共停止迫害，告诉人们法轮大法是佛法，是按 “真、善、忍 ”做好人的。法轮功已经洪传世界一百多个国家和地区，包括港、澳、台地区。
全世界只有中共在迫害法轮功。迫害的十七年里，数千万的法轮功学员被抓，数百万人被迫害致死。甚至很多人还活着时被强摘身体器官贩卖而牟取暴利。上天要惩治中共的。您看过网上“藏字石”的照片吗？贵州二亿多年前的石头裂开了，上面露出天然形成的六个大字 “中国共产党亡”，灭亡的亡。这可真是石头说实话了，天要灭中共了。
加入过中共组织的，那就是它的一份子了，有罪没罪都会跟着受牵连的，所有赶快声明退出来，别为它陪葬，不划算，不用到组织内退，用小名、化名都可以，对您的生活没有任何的妨碍，神看的是人心。有人说我早就超龄自动退了，或者是我不交党费不算党员了，当初加入时发过的毒誓不是儿戏啊，要有退出的，行为上的表示才能真正的抹掉毒誓。
到二零一六年六月已有二亿四千万善良的中国人声明三退了，您好人可别落下啊。祝您早日明白大法真相，三退保平安，有个美好的未来！
</pre>

<pre id=article title="三退保平安－真实的故事">
您好！给您讲一个真实的故事，希望您能看完，不给自己留下遗憾。
2006年2月17日，菲律宾东部发生特大泥石流灾害，造成300多座房屋被埋，1800多人失踪。在灾难发生前3天，一位穿白衣的老年妇女，走到村民聚集的地方告诉大家：“山体要滑坡，灾难要到了，快点搬家吧”。但几乎没人相信她说的话，有人甚至怀疑她是疯子，在胡言乱语。老妇人也很无奈，只能笑笑，摇摇头走了。3天后，巨大的泥石流瞬间将村庄吞没，只有57人幸免于难，记者闻讯赶来，57名幸存者几乎异口同声地告诉记者，说是听了一位老妇人的话，及时搬走了才得以逃生。
如果这个事情发生在中国，面对老妇人的预言，您会相信吗？我们这里也是传递同样的信息，告诉您一个远离灾祸的方法，简称“三退保平安”。“三退保平安”的意思就是声明退出曾经加入过的党、团、队组织，就可以得到平安和幸福。很多朋友做了“三退”之后，感觉精神爽了，身体健康了，生意兴隆了，运气也好了。为什么说“三退”就能保平安呢？
2002年6月，在我国贵州省境内发现了五百年前崩裂的石头断面，也叫藏字石，上面写着“中国共产党亡”六个大字，灭亡的亡，字是天然形成的。这就是天意，老天通过在石头上显字的形式，告诉我们未来将要发生的一件大事。
2004年11月，大纪元发表了系列社论《九评共产党》，以大量事实揭露了中共在1949年以后通过各种政治运动，包括文化大革命，六四镇压学生，诬陷迫害法轮功等等，害死了八千多万无辜的中国人。杀人是要偿命的，共产党干的一切坏事，其组织内的成员都要承担一份责任的。您知道，加入党、团、队时，要写申请，要举拳头发誓：说“要为它奋斗终身”，誓言是要兑现的，为共产党献身，做它的陪葬没有任何意义和价值。天要灭中共了，我们得赶紧声明退出来。
“三退”不是在组织内退，不用花一分钱，也没有任何风险。目前已有两亿多的中国人通过网络、电话等方式声明退出了共产党、共青团或少先队组织。
</pre>

<pre id=article title="世界人权日话法轮功人权">
一九四八年十二月十日，联合国通过了《世界人权宣言》，并从一九五零年起将每年的十二月十日定为世界人权日，今年是第六十七个世界人权日。可是在世界的东方，却仍然发生着中共极权统治者对他的同胞们的血腥杀戮，对法轮功的迫害已经持续了整整十八年而没有停止！
十八年前正当亿万信仰真、善、忍的法轮功学员，将法轮大法传播给善良民众的时候，中共头目江泽民出于小人妒嫉，和中共相互利用，动用所有媒体诬蔑诋毁法轮功，动用公、检、法、司、军、警等国家机器发动了一场对法轮功惨无人道的血腥迫害。
十八年来，在“名誉上搞臭、经济上截断、肉体上消灭”、“打死算白死，打死算自杀”和“不查身源，直接火化”的灭绝政策下，难以计数的法轮功学员被中共绑架、劳教、判刑、洗脑，迫害致残致死数不清的修炼人，近亿法轮功学员被无端视为中共“专政的对象”而失去应有的天赋人权，承受着巨大的人身侵犯和精神迫害。据明慧网资料显示，有名有姓有资料被迫害致死的法轮功学员已有4154名，这只是通过层层封锁披露出来的案例，实际迫害致死案例远高于此数字。
据明慧网资料显示，二零一六年六月二十二日，加拿大前亚太司司长大卫.乔高（David Kilgour）、加拿大著名国际人权律师大卫.麦塔斯（David Matas）和中国问题专家兼调查记者伊森.葛特曼（Ethan Gutmann）发布了关于中共强摘器官的最新数据报告，报告显示中国器官移植手术数量每年约为六万～十万例，从二零零零年至今可能高达一百五十万例；这些器官的主要来源是法轮功学员，而且至今仍在继续着。不但他们的肉身没有自由可言，他们的生命也时刻系在死亡线上不能自主，时刻都有可能处在被中共肆意杀戮之中！
在十八年的血腥迫害中，中共制造了千千万万支离破碎、家破人亡的惨案。如一家八口被迫害致五死一残的辽宁省清原县法轮功学员孙鸿昌一家；六口之家被迫害致仅剩一人的河北省怀来县法轮功学员陈运川一家；一家五口被迫害得仅剩下一人的山东省青州市神旺村法轮功学员王兴家一家；三位至亲被迫害致死的河北石家庄市高级工程师冯晓梅一家；夫妻双双屡遭冤判的周向阳夫妇……还有坐冤狱达十六年之久，在中共的阻挠下至今无法与女儿团聚的法轮功学员王治文先生；因修炼法轮功已在北京被关押了九个月的加拿大公民孙茜女士等。
目前，虽然法轮功人权得到了举世关注，可是中国大陆的人权纪录仍在日益恶化。据明慧网资料统计，二零一七年一至十月份至少754名法轮功学员被中共非法判刑。
二零一七年上半年，中共至少绑架了3659名法轮功学员，7209名法轮功学员遭警察和社区人员骚扰；539名法轮功学员依法控告迫害法轮功元凶江泽民遭报复性迫害（其中，绑架150人，骚扰389人）。220名法轮功学员被批捕；180名法轮功学员被强制送入洗脑班迫害。1174名法轮功学员的家，在没有任何法律手续的情况下被警察暴力抄家，抢劫现金1807396元。
据明慧网消息，近期法轮功学员被冤判重刑的越来越多。二零一七年九月二十日，北京通州法院诬判法轮功学员庆秀英十年；河北衡水董华新被冤判九年，并勒索罚金三万元；九月一日，山东青岛市市北区法院秘密枉判法轮功学员金永新、卞丽训夫妇各八年、并勒索罚金各三万；辽宁省大连市西岗区法轮功学员六十三岁的王淑芳依法控告迫害法轮功的首恶江泽民，被大连西岗区法院偷偷判刑七年半。
法轮功人权已经成为世界最大的人权法案，受迫害的人数之多，时间跨度之长，迫害的程度之惨烈（包括活摘法轮功学员器官）令举世震惊！
法轮功学员正在遭受着惨绝人寰的迫害和凌辱，成千上万的幸福家庭正在上演着妻离子散、家破人亡的悲剧，人类的尊严正在被中共极权肆无忌惮的侮辱和践踏，关注和制止中共的人权侵犯刻不容缓！
在维护世界人权方面，美国国会、欧洲议会、加拿大、澳洲、英、法、西班牙等许多国家及议会机构，为制止这场由中共发起的灭绝人性的迫害，为维护世界人权做出了努力，值得所有国家和民族效仿！
维护世界人权是每一个国家和民族义不容辞的责任。愿有更多的国家、机构和个人关注法轮功人权，早日结束这场残酷的迫害，还人类应有的天赋人权！
</pre>

<pre id=article title="超越底限的屠杀令人类蒙受耻辱">
二零一六年六月十三日，美国国会众议院于美国东岸时间晚上六点半表决，全体通过343号决议案，要求中共立即停止针对法轮功学员和其他良心犯的“强摘器官”行径；决议要求中共立即停止对法轮功已持续十七年的迫害，立即释放所有法轮功修炼者和其他良心犯；决议还要求对中共器官移植系统进行可信、透明和独立的调查。
据明慧网消息，美国国会众议院外交事务委员会六月二十三日，就中共强摘法轮功学员等良心犯器官举行听证会。与会发言者们表示，中共是当今世界上最大的邪恶之一；中共活摘法轮功学员器官的罪行，是在手术衣的遮掩下进行的群体灭绝罪。用关注、困扰、震惊这些词都不足以形容中共的暴行，人们用极其残忍来形容真正恐怖的暴行，中共的暴行是极其残忍的。
六月二十二日，加拿大前亚太司司长大卫·乔高（David Kilgour）、加拿大著名国际人权律师大卫·麦塔斯（David Matas）和中国问题专家兼调查记者伊森·葛特曼（Ethan Gutmann）发布了关于中共强摘器官的最新数据报告，震惊各界。
麦塔斯说：“我们现在的证据显示，在中国实际进行的器官移植的数量比中共公布的数量要多的多，这两者间的巨大差额让我们得出结论：法轮功学员被摘取器官遭屠杀的数量比我们原来估计的要多的多。”
资深调查记者伊森·葛特曼（Ethan Gutmann）在听证会上作证：“一九九九年，中共发起消灭法轮功的运动。截至二零零一年，超过一百万的法轮功学员被关押进劳教所，并被迫接受器官检查。与此同时，中共军队和地方的移植医院大量增多。” “这是群体灭绝，只是在手术衣的遮掩下进行的。”
如果说当年德国纳粹屠杀犹太人曾经引起举世震惊，那么今天中共对法轮功学员的屠杀，而且采用的是以惨绝人寰的活摘器官手段群体灭绝，超越了人类承受底限，令人类蒙受巨大的耻辱。
这里仅举几个案例：
重庆市江津区地方税务局干部江锡清器官被摘除作标本。江锡清的女儿江莉现居住在美国纽约，她回忆了当年见父亲最后一面时的场景。父亲的遗体从冰柜里拉出后，“我们摸一下父亲的身体，是热的，当时比我们的手温还高。”家人当时都质疑父亲没有死，要求进行抢救，但是几个彪形大汉很快将她们都拉走了。
山东省烟台市五十二岁的法轮功学员贺秀玲遭活摘器官，丈夫欲申诉遭封口夺命。贺秀玲的妹妹数年没有与其相见了，她大声哭喊：“姐姐你怎么这样了？你睁开眼看看我，你这么多年没看到我了！”喊声未毕，贺秀玲的眼中流下两行眼泪！接着亲属发现她的脸上出现很多汗珠。亲属们赶忙到楼上找医生来抢救。 一名男医生和两名女护士带着心电图仪器姗姗下楼来。心电图纸出来十几公分时，亲属们看到上面是跳跃的曲线。贺秀玲的妹妹大声喊道：“看啊看啊，人还有心跳你们就给送这儿来了！”医生闻言大惊，一把撕下心电图纸，贺秀玲的亲属上前阻拦，跟医生抢那图纸，该医生带着抢到的心电图纸，夺门而逃。
“手术刀在胸脯，一刀下去，血是喷溅出来的。”“当心脏的血管剪动一下，她就进行抽搐……”二零零二年四月九日下午五点，在沈阳军区总医院十五楼的一间手术室里，两个军医将一名三十多岁的法轮功女学员，在人完全清醒、没打麻药的情况下，活生生地摘取了她的器官。以上这一幕是二零零九年，辽宁省锦州市，一位在现场担任持枪警卫的目击证人在海外披露。
看了这些惨绝人寰的案例，我们不禁要问：这是人干的事吗？不是。这就是至今仍然混迹在人世的中共高官江泽民、罗干、周永康、薄熙来等魔鬼操控下所干的事，数百万善良无辜的法轮功学员就死在他们的屠刀之下！
在逾二十万法轮功学员放下生死控告迫害元凶江泽民；逾百万民众匡扶正义声援诉江、举报迫害元凶江泽民，要求将其绳之以法；逾两亿四千万民众脱离中共、选择三退；以维护保障人权为己任的美国等众多西方民主国家，要求中共立即停止活摘器官，结束迫害的迅猛大潮下。中共邪教已经走到了山穷水尽、穷途末路的境地。中国人讲天时、地利、人和，此时正是解体中共、结束迫害、重振中华的最佳时期。
活摘器官是这个星球上从未有过的邪恶，超越底限的屠杀令人类蒙受着巨大耻辱！愿世界上所有爱好和平的国家都行动起来，不仅仅为了正在遭受中共屠戮的善良无辜的民众，也是为了人类共同享有的信仰与尊严。结束迫害，清算罪恶！将给人类带来灾难的中共邪教从这个星球上清除出去，这是全人类义不容辞的责任。
</pre>

<pre id=article title="请中国人都来看看这部著作">
在共产党窃取政权一百年之际，大纪元发表了《九评》编辑部编写的《共产主义的终极目的》一书，明慧网给予转载。
<br><br>
这部著作从人类思想、知识的高层第一次揭示了共产主义的邪恶本质和罪恶目的，还原了共产主义的本来面目，是当代人类社会的重要真相。
<br><br>
共产主义传入中国也有一百年的历史，特别是中共掌权后，对全中国人强制的灌输，造成几代十多亿人（包括我自己）自觉不自觉地接受了它，中国人变成了它的奴隶，有不少人还引以为荣，甚至宣誓为它奋斗终生。
<br><br>
上个世纪九十年代后，共产主义在全人类崩溃，中国人也抛弃了它，但几十年的灌输在一些人的思想中根深蒂固，即使不相信它的人也在这个体制中无可避免的随波逐流，在道德、生活习惯等方方面面受其污染毒害却习以为常，由此将自己的生命拖入危险境地却不自知。
<br><br>
在这种危急时刻，有智慧有能力的人于十多年前撰写了《九评共产党》一书，今天又有《共产主义的终极目的》一书面世。如果说前者侧重从共产党实体角度揭露其本质、历史、罪恶和祸害，那么后者侧重从精神文化层面揭露共产主义的本质、目的及给中华民族、中国人带来的灾难性恶果。
<br><br>
《九评共产党》面世，多数中国人获得精神自救，引发了退党大潮，至今已有近三亿人“三退”；《共产主义的终极目的》一书，必然会产生巨大的社会影响，引导中国人在迷失中醒悟，在危险中得到救助，在无望中看到光明。
<br><br>
朋友，你想知道共产主义的终极目的是什么吗？你想看清当前中国出现的一系列严重问题的根源吗？你想找到你人生苦恼、疑惑的答案吗？你想有一个光明美好的未来吗？请你看《共产主义的终极目的》这部中国人应该看的著作吧。
<br><br>
请点击阅读：<a href="media/zjmd.html" target=_blank>《共产主义的终极目的》</a>
<br><br>
请点击下载：<a href="media/zjmd.html" download="共产主义的终极目的.html" target=_blank>《共产主义的终极目的》</a>
<br><br>
</pre>

<pre id=article title="明慧周报|#mhzb1.jpg,mhzb2.jpg,mhzb3.jpg,mhzb4.jpg"></pre>
</div>
<br>
</body>
</html>
